<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>technology-column of Yolukami</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="technology-column of Yolukami">
<meta property="og:url" content="http://yolukami.com/index.html">
<meta property="og:site_name" content="technology-column of Yolukami">
<meta property="og:locale">
<meta property="article:author" content="Yolukami">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="technology-column of Yolukami" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">technology-column of Yolukami</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yolukami.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-数据库基础知识/mysql数据库基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/10/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/" class="article-date">
  <time datetime="2021-10-10T16:00:00.000Z" itemprop="datePublished">2021-10-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/">MySQL数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/10/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/">mysql数据库基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-数据库定义"><a href="#1-数据库定义" class="headerlink" title="1 数据库定义"></a>1 数据库定义</h1><p>​        数据库（database）就是一个存储数据的仓库。为了方便数据的存储和管理，它将数据按照特定的规律存储在磁盘上。通过数据库管理系统，可以有效地组织和管理存储在数据库中的数据  </p>
<h2 id="相关基本概念："><a href="#相关基本概念：" class="headerlink" title="相关基本概念："></a>相关基本概念：</h2><blockquote>
<p>​        <strong>数据库服务器</strong>。是指用来运行数据库服务的一台电脑。小型项目通常为一台，中大型项目通常是多台数据库服务器共同来存储或计算。由于数据安全非常重要，所以我们需要对数据库服务器里面的数据进经备份管理。  </p>
<p>​        <strong>数据库。</strong>一个数据库服务器里面有可以有多个数据库。主要用来分类使用。我们可以建立学员管理系统数据库、电子商城数据库、CRM数据库、ERP数据库等等，主要用来将各个不同用途的数据，按照业务进行划分。  </p>
<p>​        <strong>数据表</strong>。例如在学员管理系统数据库中。根据业务的不同又分为了不同的数据表。专门用来存放不同人员的数据。例如：学员数据表（学号、用户名、密码）；老师数据表（用户名、密码，工作经验） </p>
<p>​        <strong>数据字段</strong>，也叫数据列。就是我们日常所见表格里面的列。在表格中，我们会将一张用户表分成多个列。如下（表一）所示：用户编号、用户名、性别、年龄是字段。在真正的数据库中数据字段需要换成英文需要写成：id、username、sex、age。   </p>
<p>​        <strong>数据行。</strong>真正的数据存在每一个表的行里面。字段（列）划分出来了一个表应该按照什么样的格式存数据。而行，是真正的数据。每一行需要遵循数据字段（列）的规范和要求进行存入数据。  </p>
</blockquote>
<h1 id="2-MySQL-简介"><a href="#2-MySQL-简介" class="headerlink" title="2 MySQL 简介"></a>2 MySQL 简介</h1><p>​        MySQL是一款完全免费的产品，用户可以直接从网上下载使用，而不必支付任何费用。此外，MySQL数据库的跨平台性也是其一个很大的优势之一。  MySQL是一个真正的多用户、多线程SQL数据库服务器。它是以客户机/服务器结构实现的，由一个服务器守护程序以及很多不同的客户程序和库组成  </p>
<p>​        MySQL 5.5融合了MySQL数据库和InnoDB存储引擎的优点，能够提供高性能的数据管理解决方案，包括：  InnoDB作为默认的数据库存储引擎。  改善性能和可扩展性，全面利用各平台现代、多核构架的计算能力。  提高实用性。  提高易管理性和效率。  提高可用性。  </p>
<h2 id="2-1-MySQL安装"><a href="#2-1-MySQL安装" class="headerlink" title="2.1 MySQL安装"></a>2.1 MySQL安装</h2><p><strong>官方下载地址:</strong>  <a target="_blank" rel="noopener" href="http://dev.mysql.com/downloads/mysql/">http://dev.mysql.com/downloads/mysql/</a> </p>
<p>安装教程：</p>
<p>安装注意：</p>
<ol>
<li>服务端口：3306，不建议更改</li>
<li>字符集编码：utf8</li>
<li>用户名和密码尽量简单 （用户名：root  密码：root）</li>
<li>配置环境变量之后才能在cmd窗口中操作。（不配置也可以使用可视化工具（Navicat）正常使用）</li>
</ol>
<p>安装成功之后，在电脑服务中能够查看到mysql的服务，也可以在cmd窗口输入：mysql -V  查看版本信息。</p>
<h2 id="2-2-启动MySQL服务"><a href="#2-2-启动MySQL服务" class="headerlink" title="2.2 启动MySQL服务"></a>2.2 启动MySQL服务</h2><p>1.“我的电脑”→“管理”→“服务”在服务器的列表中找到mysql服务并右键单击，在弹出的快捷菜单中，完成MySQL服务的各种操作（启动、重新启动、停止、暂停和恢复）</p>
<p> 2.cmd窗口启动服务：Window键+x   启动：net start mysql  停止：net stop mysql</p>
<h2 id="2-3-登录MySQL"><a href="#2-3-登录MySQL" class="headerlink" title="2.3 登录MySQL"></a>2.3 登录MySQL</h2><p>cmd窗口登录：</p>
<ol>
<li>mysql -root -p</li>
<li>Enter password： ***（输入密码）</li>
</ol>
<h1 id="3-SQL语言"><a href="#3-SQL语言" class="headerlink" title="3 SQL语言"></a>3 SQL语言</h1><h2 id="3-1-DDL：数据定义语言"><a href="#3-1-DDL：数据定义语言" class="headerlink" title="3.1 DDL：数据定义语言"></a>3.1 DDL：数据定义语言</h2><p>​        (DDL ，Data Defintion Language)语句：数据定义语句，用于定义不同的数据对象、数据库、表、列、索引等。常用的语句关键字包括create、drop、alter等。</p>
<h3 id="3-1-1-DDL操作数据库"><a href="#3-1-1-DDL操作数据库" class="headerlink" title="3.1.1 DDL操作数据库"></a>3.1.1 DDL操作数据库</h3><p>在cmd中登录mysql之后，可以使用这些DDL命令操作数据库(注：”;”符号表示语句结束，在单条命令时可以不加)</p>
<table>
<thead>
<tr>
<th>功能</th>
<th>命令</th>
</tr>
</thead>
<tbody><tr>
<td>显示所有的数据库：</td>
<td>show databases;</td>
</tr>
<tr>
<td>创建数据库：</td>
<td>create database   test[数据库名];</td>
</tr>
<tr>
<td>使用/进入 数据库：</td>
<td>use test[数据库名];</td>
</tr>
<tr>
<td>显示当前数据库所有的表：</td>
<td>show tables;</td>
</tr>
<tr>
<td>删除指定数据库：</td>
<td>drop database test[数据库名]</td>
</tr>
</tbody></table>
<h3 id="3-1-2-DDL操作数据表"><a href="#3-1-2-DDL操作数据表" class="headerlink" title="3.1.2 DDL操作数据表"></a>3.1.2 DDL操作数据表</h3><table>
<thead>
<tr>
<th>功能</th>
<th>命令</th>
</tr>
</thead>
<tbody><tr>
<td>创建表：</td>
<td>create table 表名(字段名 字段类型 ，…. ， 字段名 字段类型);</td>
</tr>
<tr>
<td>删除表：</td>
<td>drop table 表名;</td>
</tr>
<tr>
<td>修改表名：</td>
<td>alter table 旧表名 rename 新的表名;</td>
</tr>
</tbody></table>
<p>拓展：数据库的常用字段类型</p>
<blockquote>
<p>在MySQL里面我们将数据类型分为了以下一些类型：</p>
<p>\1.    数值类型（整型、浮点）</p>
<p>\2.    字符串类型</p>
<p>\3.    日期时间类型</p>
<p>\4.    复合类型</p>
<h4 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h4><table>
<thead>
<tr>
<th>MySQL数据类型</th>
<th>所占字节</th>
<th>值范围</th>
</tr>
</thead>
<tbody><tr>
<td>tinyint</td>
<td>1字节</td>
<td>-128~127</td>
</tr>
<tr>
<td>smallint</td>
<td>2字节</td>
<td>-32768~32767</td>
</tr>
<tr>
<td>mediumint</td>
<td>3字节</td>
<td>-8388608~8388607</td>
</tr>
<tr>
<td>int</td>
<td>4字节</td>
<td>范围-2147483648~2147483647</td>
</tr>
<tr>
<td>bigint</td>
<td>8字节</td>
<td>+-9.22*10的18次方</td>
</tr>
</tbody></table>
<p>UNSIGNED（无符号） 主要用于整型和浮点类型，使用无符号。即，没有前面面的-（负号）。<br> 存储位数更长。tinyint整型的取值区间为，-128~127。而使用无符号后可存储0-255个长度。</p>
<p>创建时在整型或浮点字段语句后接上：</p>
<p>Unsigned</p>
<h4 id="浮点类型"><a href="#浮点类型" class="headerlink" title="浮点类型"></a>浮点类型</h4><table>
<thead>
<tr>
<th>MySQL数据类型</th>
<th>所占字节</th>
<th>值范围</th>
</tr>
</thead>
<tbody><tr>
<td>float(m, d)</td>
<td>4字节</td>
<td>单精度浮点型，m总个数，d小数位</td>
</tr>
<tr>
<td>double(m, d)</td>
<td>8字节</td>
<td>双精度浮点型，m总个数，d小数位</td>
</tr>
<tr>
<td>decimal(m,  d)</td>
<td></td>
<td>decimal是存储为字符串的浮点数</td>
</tr>
</tbody></table>
<h4 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h4><table>
<thead>
<tr>
<th>MySQL数据类型</th>
<th>所占字节</th>
<th>值范围</th>
</tr>
</thead>
<tbody><tr>
<td>CHAR</td>
<td>0-255字节</td>
<td>定长字符串</td>
</tr>
<tr>
<td>VARCHAR</td>
<td>0-255字节</td>
<td>变长字符串</td>
</tr>
<tr>
<td>TINYBLOB</td>
<td>0-255字节</td>
<td>不超过255个字符的二进制字符串</td>
</tr>
<tr>
<td>TINYTEXT</td>
<td>0-255字节</td>
<td>短文本字符串</td>
</tr>
<tr>
<td>BLOB</td>
<td>0-65535字节</td>
<td>二进制形式的长文本数据</td>
</tr>
<tr>
<td>TEXT</td>
<td>0-65535字节</td>
<td>长文本数据</td>
</tr>
<tr>
<td>MEDIUMBLOB</td>
<td>0-16 777 215字节</td>
<td>二进制形式的中等长度文本数据</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>0-16 777 215字节</td>
<td>中等长度文本数据</td>
</tr>
<tr>
<td>LOGNGBLOB</td>
<td>0-4 294 967  295字节</td>
<td>二进制形式的极大文本数据</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>0-4 294 967  295字节</td>
<td>极大文本数据</td>
</tr>
<tr>
<td>VARBINARY(M)</td>
<td>允许长度0-M个字节的定长字节符串</td>
<td>值的长度+1个字节</td>
</tr>
<tr>
<td>BINARY(M)</td>
<td>M</td>
<td>允许长度0-M个字节的定长字节符串</td>
</tr>
</tbody></table>
<h4 id="时间类型"><a href="#时间类型" class="headerlink" title="时间类型"></a>时间类型</h4><table>
<thead>
<tr>
<th>MySQL数据类型</th>
<th>所占字节</th>
<th>值范围</th>
</tr>
</thead>
<tbody><tr>
<td>date</td>
<td>3字节</td>
<td>日期，格式：2014-09-18</td>
</tr>
<tr>
<td>time</td>
<td>3字节</td>
<td>时间，格式：08:42:30</td>
</tr>
<tr>
<td>datetime</td>
<td>8字节</td>
<td>日期时间，格式：2014-09-18  08:42:30</td>
</tr>
<tr>
<td>timestamp</td>
<td>4字节</td>
<td>自动存储记录修改的时间</td>
</tr>
<tr>
<td>year</td>
<td>1字节</td>
<td>年份</td>
</tr>
</tbody></table>
<p>注意：</p>
<p>\1.   时间类型在web系统中用的比较少，很多时候很多人喜欢使用int来存储时间。插入时插入的是unix时间戳，因为这种方式更方便计算。在前端业务中用date类型的函数，再将unix时间戳转成人们可识别的时间。</p>
<p>\2.   上面的类型你可以根据实际情况实际进行选择</p>
<p>有些人为了在数据库管理中方便查看，也有人使用datetime</p>
</blockquote>
<h3 id="3-1-3-DDL操作数据表字段"><a href="#3-1-3-DDL操作数据表字段" class="headerlink" title="3.1.3 DDL操作数据表字段"></a>3.1.3 DDL操作数据表字段</h3><table>
<thead>
<tr>
<th>功能</th>
<th>命令</th>
</tr>
</thead>
<tbody><tr>
<td>修改字段类型</td>
<td>alter table 表名 modify 字段名 varchar(20);</td>
</tr>
<tr>
<td>增加表字段</td>
<td>alter table 表名 add 字段名 类型;</td>
</tr>
<tr>
<td>删除表字段</td>
<td>alter table 表名 drop column 字段名;</td>
</tr>
<tr>
<td>修改字段名</td>
<td>alter table 表名 change 字段原名 字段新名 字段类型;</td>
</tr>
</tbody></table>
<h2 id="3-2-DML：数据操作语言"><a href="#3-2-DML：数据操作语言" class="headerlink" title="3.2 DML：数据操作语言"></a>3.2 DML：数据操作语言</h2><p>​        (DML ， Data Manipulation Language)语句：数据操纵语句，用于添加、删除、更新和查询数据库记录，并检查数据的完整性。常用的语句关键字主要包括insert、delete、update和select等。（DML:添加，修改，删除，DQL:查询）</p>
<p>功能：增删查改（CRUD）  </p>
<p>示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"># 添加数据 <span class="operator">-</span> 方式<span class="number">1</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;小明&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">21</span>,<span class="number">11000</span>,<span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"></span><br><span class="line"># 添加数据 <span class="operator">-</span> 方式<span class="number">2</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(name,sex,age,salary,course) <span class="keyword">VALUES</span>(<span class="string">&#x27;小华&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">28</span>,<span class="number">10000</span>,<span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(name,sex,age,salary,course) <span class="keyword">VALUES</span>(<span class="string">&#x27;小川&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">26</span>,<span class="number">12000</span>,<span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(name,sex,age,salary,course) <span class="keyword">VALUES</span>(<span class="string">&#x27;小刘&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">60</span>,<span class="number">8000</span>,<span class="string">&#x27;HTML&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(name,sex,age,salary,course) <span class="keyword">VALUES</span>(<span class="string">&#x27;小城&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">31</span>,<span class="number">9000</span>,<span class="string">&#x27;HTML&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(name,sex,age,salary,course) <span class="keyword">VALUES</span>(<span class="string">&#x27;小得&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">33</span>,<span class="number">11000</span>,<span class="string">&#x27;Python&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(name,sex,age,salary,course) <span class="keyword">VALUES</span>(<span class="string">&#x27;欧阳&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">40</span>,<span class="number">7000</span>,<span class="string">&#x27;Python&#x27;</span>);</span><br><span class="line"></span><br><span class="line"># 修改 <span class="operator">-</span> 所有更改字段都修改值</span><br><span class="line">UPDATE student <span class="keyword">SET</span> sex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span>;</span><br><span class="line"></span><br><span class="line"># 修改 <span class="operator">-</span> 加单个条件</span><br><span class="line">UPDATE student <span class="keyword">SET</span> age<span class="operator">=</span><span class="number">18</span> <span class="keyword">WHERE</span> age<span class="operator">&gt;</span><span class="number">40</span>;</span><br><span class="line"></span><br><span class="line"># 修改 <span class="operator">-</span> 加多个条件 <span class="keyword">and</span><span class="operator">-</span>并且</span><br><span class="line">UPDATE student <span class="keyword">SET</span> age<span class="operator">=</span><span class="number">18</span> <span class="keyword">WHERE</span> age<span class="operator">&gt;</span><span class="number">25</span> <span class="keyword">AND</span> course<span class="operator">=</span><span class="string">&#x27;Java&#x27;</span>;</span><br><span class="line"></span><br><span class="line"># 修改 <span class="operator">-</span> 加多个条件 <span class="keyword">or</span><span class="operator">-</span>或者</span><br><span class="line">UPDATE student <span class="keyword">SET</span> age<span class="operator">=</span><span class="number">18</span> <span class="keyword">WHERE</span> age<span class="operator">&gt;</span><span class="number">25</span> <span class="keyword">OR</span> course<span class="operator">=</span><span class="string">&#x27;Java&#x27;</span>;</span><br><span class="line"></span><br><span class="line"># 删除 <span class="operator">-</span> 清空表数据</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> student;# 再添加数据，id会从之前的自动增长</span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> student; # 再添加数据，id从<span class="number">1</span>开始</span><br><span class="line"></span><br><span class="line"># 删除 <span class="operator">-</span> 加条件</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 查询所有字段</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student;</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 指定字段</span><br><span class="line"><span class="keyword">SELECT</span> name,age <span class="keyword">FROM</span> student;</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 加条件</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> age <span class="operator">&lt;</span> <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 模糊查询（工作中不使用）</span><br><span class="line"># <span class="operator">%</span>表示没有或多个字符</span><br><span class="line"># _表示一个字符</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;%华%&#x27;</span>; </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;%华&#x27;</span>; </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;__华&#x27;</span>; </span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 排序</span><br><span class="line"># <span class="keyword">ASC</span><span class="operator">-</span>升序	<span class="keyword">DESC</span><span class="operator">-</span>降序</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">ASC</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 去重</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> course <span class="keyword">FROM</span> student;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span>限制</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> student LIMIT <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"># 需求：获取学生中前三的高薪资学院</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> salary <span class="keyword">DESC</span> LIMIT <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span>分页（需求：每一页展示<span class="number">3</span>条数据）</span><br><span class="line"># 分页公式：<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student LIMIT (当前页<span class="number">-1</span>)<span class="operator">*</span>条数,条数;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student LIMIT <span class="number">0</span>,<span class="number">3</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student LIMIT <span class="number">3</span>,<span class="number">3</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student LIMIT <span class="number">6</span>,<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span>统计类<span class="operator">/</span>聚合函数</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(salary) <span class="keyword">FROM</span> student;# 获取学生薪资之和</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(id) <span class="keyword">FROM</span> student; # 获取表中数据的条数</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(salary) <span class="keyword">FROM</span> student; # 获取最高工资</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(salary) <span class="keyword">FROM</span> student; # 获取最低工资</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(salary) <span class="keyword">FROM</span> student; # 获取平均薪资</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span>子查询</span><br><span class="line"># 需求：查询出最高的工资的学生</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> salary<span class="operator">=</span>(<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(salary) <span class="keyword">FROM</span> student);</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span>分组过滤</span><br><span class="line"># 需求：查询每个学科的平均工资</span><br><span class="line"><span class="keyword">SELECT</span> course,<span class="built_in">AVG</span>(salary) <span class="keyword">FROM</span> student <span class="keyword">GROUP</span> <span class="keyword">BY</span> course;</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span>分组过滤 <span class="operator">+</span> 条件</span><br><span class="line"># 需求：查询平均工资<span class="operator">&gt;</span><span class="number">10000</span>的学科</span><br><span class="line"><span class="keyword">SELECT</span> course,<span class="built_in">AVG</span>(salary) <span class="keyword">FROM</span> student <span class="keyword">GROUP</span> <span class="keyword">BY</span> course <span class="keyword">HAVING</span> <span class="built_in">AVG</span>(salary)<span class="operator">&gt;</span><span class="number">10000</span>;</span><br><span class="line"># 查询数据 <span class="operator">-</span> 限制</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student LIMIT <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"># 需求：获取学生中前<span class="number">3</span>高薪资的学员信息</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> salary <span class="keyword">DESC</span> LIMIT <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 分页（需求：每一页展示<span class="number">3</span>条数据）</span><br><span class="line"># <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student LIMIT 偏移量,获取条数;</span><br><span class="line"># 分页公式：<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student LIMIT (当前页<span class="number">-1</span>)<span class="operator">*</span>条数,条数;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student LIMIT <span class="number">0</span>,<span class="number">3</span>;# 第<span class="number">1</span>页</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student LIMIT <span class="number">3</span>,<span class="number">3</span>;# 第<span class="number">2</span>页 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student LIMIT <span class="number">6</span>,<span class="number">3</span>;# 第<span class="number">3</span>页</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 统计类<span class="operator">/</span>聚合函数</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(salary) <span class="keyword">FROM</span> student;# 需求：获取所有学生的工资</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(id) <span class="keyword">FROM</span> student;# 需求：获取表中数据的条数</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(salary) <span class="keyword">FROM</span> student;# 需求：获取学生的最高工资</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(salary) <span class="keyword">FROM</span> student;# 需求：获取学生的最低工资</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(salary) <span class="keyword">FROM</span> student;# 需求：获取学生的平均工资</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 子查询</span><br><span class="line"># 需求：查询出最高工资的学生信息</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> salary<span class="operator">=</span>(<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(salary) <span class="keyword">FROM</span> student);</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 分组过滤	</span><br><span class="line"># 需求：查询每个学科的平均工资</span><br><span class="line"><span class="keyword">SELECT</span> course,<span class="built_in">AVG</span>(salary) <span class="keyword">FROM</span> student <span class="keyword">GROUP</span> <span class="keyword">BY</span> course;</span><br><span class="line"></span><br><span class="line"># 查询数据 <span class="operator">-</span> 分组过滤	<span class="operator">+</span> 条件</span><br><span class="line"># 需求：查询平均工资<span class="operator">&gt;</span><span class="number">10000</span>学科的平均工资</span><br><span class="line"><span class="keyword">SELECT</span> course,<span class="built_in">AVG</span>(salary) <span class="keyword">FROM</span> student <span class="keyword">GROUP</span> <span class="keyword">BY</span> course <span class="keyword">HAVING</span> <span class="built_in">AVG</span>(salary)<span class="operator">&gt;</span><span class="number">10000</span>;</span><br><span class="line"></span><br><span class="line"># 多表联合查询</span><br><span class="line"></span><br><span class="line"># 内连接（多表数据由联系才能查询出来）</span><br><span class="line"><span class="keyword">SELECT</span>	s.name,t.name <span class="keyword">FROM</span> student s,teacher t <span class="keyword">WHERE</span> s.t_id<span class="operator">=</span>t.id;</span><br><span class="line"><span class="keyword">SELECT</span>	s.name <span class="keyword">AS</span> <span class="string">&#x27;学生姓名&#x27;</span>,t.name <span class="keyword">AS</span> <span class="string">&#x27;老师姓名&#x27;</span> <span class="keyword">FROM</span> student s <span class="keyword">INNER</span> <span class="keyword">JOIN</span> teacher t <span class="keyword">ON</span> s.t_id<span class="operator">=</span>t.id;</span><br><span class="line"></span><br><span class="line"># 左连接</span><br><span class="line"><span class="keyword">SELECT</span>	s.name,t.name <span class="keyword">FROM</span> student s <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> teacher t <span class="keyword">ON</span> s.t_id<span class="operator">=</span>t.id;</span><br><span class="line"></span><br><span class="line"># 右连接	</span><br><span class="line"><span class="keyword">SELECT</span>	s.name,t.name <span class="keyword">FROM</span> student s <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> teacher t <span class="keyword">ON</span> s.t_id<span class="operator">=</span>t.id;</span><br><span class="line"></span><br><span class="line"># 查询内容合并</span><br><span class="line"><span class="keyword">SELECT</span>	s.name,t.name <span class="keyword">FROM</span> student s <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> teacher t <span class="keyword">ON</span> s.t_id<span class="operator">=</span>t.id</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span>	s.name,t.name <span class="keyword">FROM</span> student s <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> teacher t <span class="keyword">ON</span> s.t_id<span class="operator">=</span>t.id;</span><br><span class="line"></span><br><span class="line"># 全链接（合并查询结果并去重）</span><br><span class="line"><span class="keyword">SELECT</span>	s.name,t.name <span class="keyword">FROM</span> student s <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> teacher t <span class="keyword">ON</span> s.t_id<span class="operator">=</span>t.id</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span>	s.name,t.name <span class="keyword">FROM</span> student s <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> teacher t <span class="keyword">ON</span> s.t_id<span class="operator">=</span>t.id;</span><br></pre></td></tr></table></figure>

<h2 id="3-3-DCL：数据控制语言"><a href="#3-3-DCL：数据控制语言" class="headerlink" title="3.3 DCL：数据控制语言"></a>3.3 DCL：数据控制语言</h2><p>​        (DCL， Data Control Language)语句：数据控制语句，用于控制不同数据段直接的许可和访问级别的语句。这些语句定义了数据库、表、字段、用户的访问权限和安全级别。主要的语句关键字包括grant、revoke等。  </p>
<p>含义：给子账户开辟权限</p>
<p>\1.  开辟子账户：CREATE USER ‘用户名‘@’localhost’ IDENTIFIED BY ‘密码’;</p>
<p>\2.  给定权限：GRANT权限 ON 库.表 TO  ‘用户‘@’localhost’ IDENTIFIED BY ‘密码’;</p>
<p>\3.  删除权限：REVOKE 权限 ON 库.表 FROM ‘用户‘@’localhost’;</p>
<p>注意：权限-insert、delete、select、update</p>
<p>参数说明</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>grant all</td>
<td>在grant后接all说明给予所有权限</td>
</tr>
<tr>
<td>revoke all</td>
<td>在revoke后接all说明删除所有权限</td>
</tr>
<tr>
<td>权限 on <em>.</em></td>
<td><em>.</em> 所明给予所有库所有表的操作权限</td>
</tr>
<tr>
<td>‘用户‘@’主机’</td>
<td>主机里面若为%。任意来源的主机均可以使用这个用户来访问</td>
</tr>
</tbody></table>
<p> 解决编码问题：Set charset gbk;  </p>
<h1 id="4-拓展："><a href="#4-拓展：" class="headerlink" title="4 拓展："></a>4 拓展：</h1><h2 id="4-1-约束"><a href="#4-1-约束" class="headerlink" title="4.1 约束"></a>4.1 约束</h2><p>示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"># 约束是一种限制，它通过对表的行或列的数据做出限制，来确保表的数据的完整性、唯一性。</span><br><span class="line"></span><br><span class="line"># 主键约束：唯一约束 <span class="operator">+</span> 非空约束</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student(id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY);# 创建表时，设置主键约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">add</span> <span class="keyword">primary</span> key(id);# 添加主键约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">drop</span> <span class="keyword">primary</span> key;# 删除主键约束</span><br><span class="line"><span class="keyword">alter</span>  <span class="keyword">table</span> student modify id <span class="type">int</span>(<span class="number">3</span>) <span class="keyword">primary</span> key# 修改主键约束</span><br><span class="line"></span><br><span class="line"># 唯一约束：不允许出现重复的值，但是可以为多个<span class="keyword">null</span>。</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(# 创建表时，设置唯一约束</span><br><span class="line">    id <span class="type">int</span>(<span class="number">3</span>) <span class="keyword">PRIMARY</span> KEY ,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="keyword">unique</span>(name)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">add</span> <span class="keyword">unique</span> (name);# 添加唯一约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student modify name <span class="type">varchar</span>(<span class="number">40</span>) <span class="keyword">unique</span>;# 修改唯一约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">drop</span> name;# 删除约束</span><br><span class="line"></span><br><span class="line"># 非空约束：不允许为<span class="keyword">null</span></span><br><span class="line"># 设置默认值</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(# 创建表时，添加非空约束</span><br><span class="line">		 id <span class="type">int</span>(<span class="number">3</span>) <span class="keyword">PRIMARY</span> KEY ,</span><br><span class="line">		 name <span class="type">varchar</span>(<span class="number">32</span>),</span><br><span class="line">		 sex <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">default</span> <span class="string">&#x27;男&#x27;</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student modify sex <span class="type">varchar</span>(<span class="number">2</span>) <span class="keyword">not</span> <span class="keyword">null</span>;# 增加非空约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student modify sex <span class="type">varchar</span>(<span class="number">2</span>) <span class="keyword">null</span>;# 取消非空约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student modify sex <span class="type">varchar</span>(<span class="number">2</span>) <span class="keyword">default</span> <span class="string">&#x27;abc&#x27;</span> <span class="keyword">null</span>;# 取消非空约束，增加默认值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 外键约束：保证多表之间的参照完整性，外键是构建于一个表的两个字段或是两个表的两个字段之间的参照关系</span><br><span class="line"></span><br><span class="line"># 添加外键</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">add</span> <span class="keyword">foreign</span> key(t_id) <span class="keyword">references</span> teacher(id);</span><br><span class="line"></span><br><span class="line"># 删除外键（<span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student 找到外键的名字）</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">drop</span> <span class="keyword">foreign</span> key student_ibfk_1;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="4-2-索引"><a href="#4-2-索引" class="headerlink" title="4.2 索引"></a>4.2 索引</h2><p>示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># 索引：让该字段的查询效率更高</span><br><span class="line"></span><br><span class="line"># 主键索引：该字段的值不能为<span class="keyword">null</span>且并重复</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student(id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY);# 创建表时，设置主键索引</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">add</span> <span class="keyword">primary</span> key(id);# 添加主键索引</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">drop</span> <span class="keyword">primary</span> key;# 删除主键索引</span><br><span class="line"><span class="keyword">alter</span>  <span class="keyword">table</span> student modify id <span class="type">int</span>(<span class="number">3</span>) <span class="keyword">primary</span> key# 修改主键索引</span><br><span class="line"></span><br><span class="line"># 唯一索引：不允许出现重复的值，但是可以为多个<span class="keyword">null</span>。</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(# 创建表时，设置唯一索引</span><br><span class="line">    id <span class="type">int</span>(<span class="number">3</span>) <span class="keyword">PRIMARY</span> KEY ,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="keyword">unique</span>(name)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">add</span> <span class="keyword">unique</span> (name);# 添加唯一索引</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student modify name <span class="type">varchar</span>(<span class="number">40</span>) <span class="keyword">unique</span>;# 修改唯一索引</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">drop</span> name;# 删除唯一索引</span><br><span class="line"></span><br><span class="line"># 普通索引</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">add</span> index(name);# 添加普通索引</span><br><span class="line"><span class="keyword">drop</span> index name <span class="keyword">on</span> student;# 删除普通索引</span><br><span class="line"></span><br><span class="line"># 索引的缺点：在添加、删除、修改数据时，会改动B<span class="operator">+</span>Tree的结构</span><br><span class="line"># 解决方案：批量操作数据时，先把索引删掉，等批量操作数据后，再把索引添加上</span><br><span class="line"></span><br><span class="line"># 所有的分类：聚簇索引（主键）、非聚簇索引</span><br><span class="line"># 在InnoDB的引擎下，所有的索引底层数据结构都是B<span class="operator">+</span>Tree</span><br><span class="line"># 聚簇索引（主键）：叶子节点存的是数据</span><br><span class="line"># 非聚簇索引：叶子节点存的是主键</span><br></pre></td></tr></table></figure>

<p>btree和B+tree的区别：</p>
<p> B树的特点：<br>（1）所有键值分布在整个树中<br>（2）任何关键字出现且只出现在一个节点中<br>（3）搜索有可能在非叶子节点结束<br>（4）在关键字全集内做一次查找，性能逼近二分查找算法 </p>
<p>B+Tree树的特点：</p>
<p> （1）所有关键字存储在叶子节点，非叶子节点不存储真正的data    </p>
<p> （2）为所有叶子节点增加了一个链指针 </p>
<h2 id="4-3-视图"><a href="#4-3-视图" class="headerlink" title="4.3 视图"></a>4.3 视图</h2><p>示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 创建视图</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">VIEW</span> VIEW_1 <span class="keyword">as</span> <span class="keyword">SELECT</span> name,age,course <span class="keyword">FROM</span>  student <span class="keyword">WHERE</span> age<span class="operator">&gt;</span><span class="number">30</span> <span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION;</span><br><span class="line"></span><br><span class="line"># 查询视图</span><br><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> view_1;</span><br><span class="line"></span><br><span class="line"># 修改视图</span><br><span class="line">UPDATE VIEW_1 <span class="keyword">set</span> age<span class="operator">=</span><span class="number">50</span> <span class="keyword">WHERE</span> name<span class="operator">=</span><span class="string">&#x27;小刘&#x27;</span>;</span><br><span class="line">UPDATE VIEW_1 <span class="keyword">set</span> age<span class="operator">=</span><span class="number">20</span> <span class="keyword">WHERE</span> name<span class="operator">=</span><span class="string">&#x27;小刘&#x27;</span>;#不满足视图的<span class="keyword">WHERE</span>条件，执行将要报错，且不会修改</span><br><span class="line"></span><br><span class="line"># 删除视图</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> VIEW_1;</span><br></pre></td></tr></table></figure>

<h2 id="4-4-触发器"><a href="#4-4-触发器" class="headerlink" title="4.4 触发器"></a>4.4 触发器</h2><p>示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 需求：插入学生，并且班级表和学科表都要更新数据</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,class_id,course_id) <span class="keyword">values</span>(<span class="string">&#x27;小玲&#x27;</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,class_id,course_id) <span class="keyword">values</span>(<span class="string">&#x27;李科&#x27;</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,class_id,course_id) <span class="keyword">values</span>(<span class="string">&#x27;小红&#x27;</span>,<span class="number">3</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,class_id,course_id) <span class="keyword">values</span>(<span class="string">&#x27;小黄&#x27;</span>,<span class="number">4</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,class_id,course_id) <span class="keyword">values</span>(<span class="string">&#x27;小绿&#x27;</span>,<span class="number">4</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,class_id,course_id) <span class="keyword">values</span>(<span class="string">&#x27;小王&#x27;</span>,<span class="number">5</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 创建触发器</span><br><span class="line"># student执行了<span class="keyword">insert</span>事件后执行 update操作</span><br><span class="line">delimiter xx</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> t1 after <span class="keyword">insert</span> <span class="keyword">on</span> student <span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span> </span><br><span class="line">	<span class="keyword">BEGIN</span></span><br><span class="line">		update class <span class="keyword">set</span> sum<span class="operator">=</span>sum<span class="operator">+</span><span class="number">1</span> <span class="keyword">where</span> id <span class="operator">=</span> new.class_id;	</span><br><span class="line">		update course <span class="keyword">set</span> sum<span class="operator">=</span>sum<span class="operator">+</span><span class="number">1</span> <span class="keyword">where</span> id <span class="operator">=</span> new.course_id;</span><br><span class="line">	<span class="keyword">END</span> xx</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 需求：删除学生，并且班级表和学科表都要更新数据</span><br><span class="line"># student执行了<span class="keyword">delete</span>事件前执行 update操作</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">FROM</span> student <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">FROM</span> student <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">FROM</span> student <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">delimiter xx</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> t2 before <span class="keyword">delete</span> <span class="keyword">on</span> student <span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span> </span><br><span class="line">	<span class="keyword">BEGIN</span></span><br><span class="line">		update class <span class="keyword">set</span> sum<span class="operator">=</span>sum<span class="number">-1</span> <span class="keyword">where</span> id <span class="operator">=</span> old.class_id;	</span><br><span class="line">		update course <span class="keyword">set</span> sum<span class="operator">=</span>sum<span class="number">-1</span> <span class="keyword">where</span> id <span class="operator">=</span> old.course_id;</span><br><span class="line">	<span class="keyword">END</span> xx</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line"># new.字段：当前写法可以获得添加语句字段对应的值</span><br><span class="line"># old.字段：当前写法可以获得删除语句字段对应的值</span><br><span class="line"></span><br><span class="line"># delimiter xx 设置一条执行语句的结束符为 xx</span><br></pre></td></tr></table></figure>

<h2 id="4-5-存储过程"><a href="#4-5-存储过程" class="headerlink" title="4.5 存储过程"></a>4.5 存储过程</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"># 最简单的存储过程</span><br><span class="line">delimiter XX</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> myprocedure01()</span><br><span class="line">	<span class="keyword">BEGIN</span></span><br><span class="line">		<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student;</span><br><span class="line">		<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> teacher;</span><br><span class="line">	<span class="keyword">END</span> XX</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line"># 调用存储过程</span><br><span class="line"><span class="keyword">CALL</span> myprocedure01();</span><br><span class="line"></span><br><span class="line"># 存储过程可以传值</span><br><span class="line"># <span class="keyword">IN</span></span><br><span class="line"># <span class="keyword">OUT</span></span><br><span class="line"># <span class="keyword">INOUT</span></span><br><span class="line"></span><br><span class="line"># 需求：查询指定学生的id</span><br><span class="line">delimiter XX</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> myprocedure02(<span class="keyword">IN</span> s_id <span class="type">int</span>(<span class="number">3</span>))</span><br><span class="line">	<span class="keyword">BEGIN</span></span><br><span class="line">		<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> id<span class="operator">=</span>s_id;</span><br><span class="line">	<span class="keyword">END</span> XX</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line"># 调用存储过程</span><br><span class="line"><span class="keyword">CALL</span> myprocedure02(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"># 需求：查询指定id 的学生所属的老师name，并返回</span><br><span class="line">delimiter XX</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> myprocedure03(<span class="keyword">IN</span> s_id <span class="type">int</span>(<span class="number">3</span>),<span class="keyword">OUT</span> t_name <span class="type">VARCHAR</span>(<span class="number">32</span>))</span><br><span class="line">	<span class="keyword">BEGIN</span></span><br><span class="line">		<span class="keyword">SELECT</span> `name` <span class="keyword">INTO</span> t_name <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> id<span class="operator">=</span>(<span class="keyword">SELECT</span> t_id <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> id<span class="operator">=</span>s_id);</span><br><span class="line">	<span class="keyword">END</span> XX</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line"># 调用存储过程</span><br><span class="line"><span class="keyword">CALL</span> myprocedure03(<span class="number">1</span>,<span class="variable">@teacher</span>_name);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@teacher</span>_name;</span><br><span class="line"></span><br><span class="line"># 查询指定id学生的年龄</span><br><span class="line">delimiter xx</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">PROCEDURE</span> myprocedure04(<span class="keyword">INOUT</span> <span class="keyword">parameter</span> <span class="type">INT</span>(<span class="number">3</span>))</span><br><span class="line">	<span class="keyword">BEGIN</span></span><br><span class="line">		<span class="keyword">SELECT</span> age <span class="keyword">INTO</span> <span class="keyword">parameter</span> <span class="keyword">FROM</span>  student <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="keyword">parameter</span>;</span><br><span class="line">	<span class="keyword">END</span> xx</span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> <span class="variable">@para</span><span class="operator">=</span><span class="number">2</span>;	</span><br><span class="line"><span class="keyword">CALL</span> myprocedure04(<span class="variable">@para</span>);# 调用存储过程</span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@para</span>;</span><br></pre></td></tr></table></figure>

<h2 id="4-6-函数"><a href="#4-6-函数" class="headerlink" title="4.6 函数"></a>4.6 函数</h2><h3 id="4-6-1-预定义函数"><a href="#4-6-1-预定义函数" class="headerlink" title="4.6.1 预定义函数"></a>4.6.1 预定义函数</h3><p>示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 数学函数</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">abs</span>(<span class="number">-100</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">sqrt</span>(<span class="number">9</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">mod</span>(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">SELECT</span> rand();</span><br><span class="line"><span class="keyword">SELECT</span> pow(<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"># 字符串函数</span><br><span class="line"><span class="keyword">SELECT</span> length(&quot;abc123&quot;);</span><br><span class="line"><span class="keyword">SELECT</span> concat(&quot;abc&quot;,&quot;123&quot;);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">substring</span>(&quot;abc123&quot;,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"># 日期时间函数</span><br><span class="line"><span class="keyword">SELECT</span> 	curdate();</span><br><span class="line"><span class="keyword">SELECT</span>	curtime()</span><br><span class="line"><span class="keyword">SELECT</span>	now();</span><br><span class="line"><span class="keyword">SELECT</span>	<span class="keyword">year</span>(now());</span><br><span class="line"><span class="keyword">SELECT</span>	<span class="keyword">month</span>(now());</span><br><span class="line"><span class="keyword">SELECT</span>	<span class="keyword">day</span>(now());</span><br><span class="line"><span class="keyword">SELECT</span>	<span class="keyword">hour</span>(now());</span><br><span class="line"><span class="keyword">SELECT</span>	<span class="keyword">minute</span>(now());</span><br><span class="line"><span class="keyword">SELECT</span>	<span class="keyword">second</span>(now());</span><br><span class="line"><span class="keyword">SELECT</span>	DATE_FORMAT(now(),&quot;%y年%m月%d日 %H时%i分%s秒&quot;);</span><br></pre></td></tr></table></figure>

<h3 id="4-6-2-自定义函数"><a href="#4-6-2-自定义函数" class="headerlink" title="4.6.2 自定义函数"></a>4.6.2 自定义函数</h3><p>示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># 自定义函数</span><br><span class="line"></span><br><span class="line"># 函数入门</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">FUNCTION</span> method01()	<span class="keyword">RETURNS</span> <span class="type">INT</span>(<span class="number">3</span>) <span class="keyword">RETURN</span> <span class="number">666</span>;</span><br><span class="line"><span class="keyword">SELECT</span> method01();# 调用函数</span><br><span class="line"></span><br><span class="line"># 有返回值的函数</span><br><span class="line"># 需求：查询指定id的学生所属的学科名称，并返回</span><br><span class="line">delimiter xx</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">FUNCTION</span> method02(s_id <span class="type">int</span>(<span class="number">3</span>)) <span class="keyword">RETURNS</span> <span class="type">VARCHAR</span>(<span class="number">32</span>)</span><br><span class="line">	<span class="keyword">BEGIN</span></span><br><span class="line">		<span class="keyword">DECLARE</span> course_name <span class="type">VARCHAR</span>(<span class="number">32</span>);# 创建变量</span><br><span class="line">		<span class="keyword">SELECT</span> name <span class="keyword">INTO</span> course_name <span class="keyword">FROM</span> course <span class="keyword">WHERE</span> id<span class="operator">=</span>(<span class="keyword">SELECT</span> course_id <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> id <span class="operator">=</span> s_id);</span><br><span class="line">		<span class="keyword">RETURN</span> course_name;</span><br><span class="line">	<span class="keyword">END</span> xx</span><br><span class="line">delimiter ;</span><br><span class="line"><span class="keyword">SELECT</span> method02(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"># 需求：查询指定id的学生年龄，并返回</span><br><span class="line">delimiter xx</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">FUNCTION</span> method03(s_id <span class="type">int</span>(<span class="number">3</span>)) <span class="keyword">RETURNS</span> <span class="type">INT</span>(<span class="number">3</span>)</span><br><span class="line">	<span class="keyword">BEGIN</span></span><br><span class="line">		<span class="keyword">DECLARE</span> s_age <span class="type">INT</span>(<span class="number">3</span>);# 创建变量</span><br><span class="line">		<span class="keyword">SELECT</span> age <span class="keyword">INTO</span> s_age <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> id<span class="operator">=</span> s_id;</span><br><span class="line">		<span class="keyword">RETURN</span> s_age;</span><br><span class="line">	<span class="keyword">END</span> xx</span><br><span class="line">delimiter ;</span><br><span class="line"><span class="keyword">SELECT</span> method03(<span class="number">7</span>);</span><br><span class="line"></span><br><span class="line"># 删除函数</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">FUNCTION</span> method03;</span><br></pre></td></tr></table></figure>

<h2 id="4-7-事务"><a href="#4-7-事务" class="headerlink" title="4.7 事务"></a>4.7 事务</h2><h3 id="4-7-1-事务的应用"><a href="#4-7-1-事务的应用" class="headerlink" title="4.7.1 事务的应用"></a>4.7.1 事务的应用</h3><p>MySQL：每一条语句都属于独立事务,默认自动管理提交的。</p>
<p>如果需要把多条语句当成一个整体，那么就需要把多条语句放在一个事务里面</p>
<p>开启事务：start transaction</p>
<p>提交事务：commit;</p>
<p>回滚事务：rollback</p>
<p>sql语句示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">START</span> TRANSACTION;# 开启事物</span><br><span class="line">UPDATE bank <span class="keyword">SET</span> money<span class="operator">=</span>money<span class="number">-200</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">UPDATE bank <span class="keyword">SET</span> money<span class="operator">=</span>money<span class="operator">+</span><span class="number">200</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"># <span class="keyword">ROLLBACK</span>   <span class="comment">---回滚事物</span></span><br></pre></td></tr></table></figure>

<p>如果所有的SQL语句都正确执行，则成功。</p>
<p>如果有一条语句执行失败，事务中所有的语句都会取消执行。例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">START</span> TRANSACTION;# 开启事物</span><br><span class="line">UPDATE bank <span class="keyword">SET</span> money<span class="operator">=</span>money<span class="number">-200</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">UPDATE bank <span class="keyword">SET</span> m<span class="operator">=</span>m<span class="number">-200</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">UPDATE bank <span class="keyword">SET</span> money<span class="operator">=</span>money<span class="operator">+</span><span class="number">200</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br></pre></td></tr></table></figure>

<p>事物在JDBC中的使用：见javaWeb基础1:JDBC </p>
<h3 id="4-7-2-事务的特点（ACID）"><a href="#4-7-2-事务的特点（ACID）" class="headerlink" title="4.7.2 事务的特点（ACID）"></a>4.7.2 事务的特点（ACID）</h3><p>原子性（ Atomicity ）、一致性（ Consistency ）、隔离性（ Isolation ）和持久性（ Durability ）  </p>
<p>解释：</p>
<ol>
<li><p>原子性：事务是数据库的逻辑工作单位，事务中包含的各操作要么都完成，要么都不完成</p>
</li>
<li><p>一致性：事务执行的结果必须是使数据库从一个一致性状态变到另一个一致性状态。因此当数据库只包含成功事务提交的结果时，就说数据库处于一致性状态。如果数据库系统 运行中发生故障，有些事务尚未完成就被迫中断，这些未完成事务对数据库所做的修改有一部分已写入物理数据库，这时数据库就处于一种不正确的状态，或者说是 不一致的状态。</p>
</li>
<li><p>隔离性：一个事务的执行不能其它事务干扰。即一个事务内部的操作及使用的数据对其它并发事务是隔离的，并发执行的各个事务之间不能互相干扰。</p>
</li>
<li><p>持久性：指一个事务一旦提交，它对数据库中的数据的改变就应该是永久性的。接下来的其它操作或故障不应该对其执行结果有任何影响。</p>
</li>
</ol>
<h3 id="4-7-3-事务的隔离级别"><a href="#4-7-3-事务的隔离级别" class="headerlink" title="4.7.3 事务的隔离级别"></a>4.7.3 事务的隔离级别</h3><p>属于事务的。都已开启了事务为前提。</p>
<p>不考虑事务的隔离级别，会出现以下错误的情况</p>
<ol>
<li><p>脏读：一个线程中的事务读到了另外一个线程中未提交的数据。</p>
</li>
<li><p>不可重复读：一个线程中的事务读到了另外一个线程中已经提交的update的数据。</p>
</li>
<li><p>虚读：一个线程中的事务读到了另外一个线程中已经提交的insert的数据。</p>
</li>
</ol>
<p>要想避免以上现象，通过更改事务的隔离级别来避免：</p>
<ol>
<li><p>READ UNCOMMITTED 脏读、不可重复读、虚读有可能发生。</p>
</li>
<li><p>READ COMMITTED 避免脏读的发生，不可重复读、虚读有可能发生。</p>
</li>
<li><p>REPEATABLE READ 避免脏读、不可重复读的发生，虚读有可能发生。</p>
</li>
<li><p>SERIALIZABLE 避免脏读、不可重复读、虚读的发生。</p>
</li>
</ol>
<p>别依次升高，效率依次降低。</p>
<p>MySQL：默认REPEATABLE READ</p>
<p>ORACLE：默认READ COMMITTED</p>
<p>MySQL：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @<span class="variable">@tx</span>_isolation; #查看当前的隔离级别</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> transaction isolation level SERIALIZABLE <span class="operator">/</span><span class="operator">/</span>级别设置当前的事务隔离级别</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yolukami.com/2021/10/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/" data-id="ckvuq2kyo00006sonhum39qfo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-数据库基础知识/关系型数据库MySQL" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/10/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/" class="article-date">
  <time datetime="2021-10-10T16:00:00.000Z" itemprop="datePublished">2021-10-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/">MySQL数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/10/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/">关系型数据库MySQL</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="关系数据库入门"><a href="#关系数据库入门" class="headerlink" title="关系数据库入门"></a>关系数据库入门</h2><h3 id="关系数据库概述"><a href="#关系数据库概述" class="headerlink" title="关系数据库概述"></a>关系数据库概述</h3><ol>
<li><p>数据持久化 - 将数据保存到能够长久保存数据的存储介质中，在掉电的情况下数据也不会丢失。</p>
</li>
<li><p>数据库发展史 - 网状数据库、层次数据库、关系数据库、NoSQL 数据库、NewSQL 数据库。</p>
<blockquote>
<p>1970年，IBM的研究员E.F.Codd在<em>Communication of the ACM</em>上发表了名为<em>A Relational Model of Data for Large Shared Data Banks</em>的论文，提出了<strong>关系模型</strong>的概念，奠定了关系模型的理论基础。后来Codd又陆续发表多篇文章，论述了范式理论和衡量关系系统的12条标准，用数学理论奠定了关系数据库的基础。</p>
</blockquote>
</li>
<li><p>关系数据库特点。</p>
<ul>
<li><p>理论基础：<strong>关系代数</strong>。</p>
</li>
<li><p>具体表象：用<strong>二维表</strong>（有行和列）组织数据。</p>
</li>
<li><p>编程语言：<strong>结构化查询语言</strong>（SQL）。</p>
</li>
</ul>
</li>
<li><p>ER模型（实体关系模型）和概念模型图。</p>
<p><strong>ER模型</strong>，全称为<strong>实体关系模型</strong>（Entity-Relationship Model），由美籍华裔计算机科学家陈品山先生提出，是概念数据模型的高层描述方式，如下图所示。</p>
<img src="https://gitee.com/jackfrued/mypic/raw/master/20210826003119.png" width="75%">

<ul>
<li>实体 - 矩形框</li>
<li>属性 - 椭圆框</li>
<li>关系 - 菱形框</li>
<li>重数 - 1:1（一对一） / 1:N（一对多） / M:N（多对多）</li>
</ul>
<p>实际项目开发中，我们可以利用数据库建模工具（如：PowerDesigner）来绘制概念数据模型（其本质就是 ER 模型），然后再设置好目标数据库系统，将概念模型转换成物理模型，最终生成创建二维表的 SQL（很多工具都可以根据我们设计的物理模型图以及设定的目标数据库来导出 SQL 或直接生成数据表）。</p>
<p><img src="https://gitee.com/jackfrued/mypic/raw/master/20210826003212.png"></p>
</li>
<li><p>关系数据库产品。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.oracle.com/index.html">Oracle</a> - 目前世界上使用最为广泛的数据库管理系统，作为一个通用的数据库系统，它具有完整的数据管理功能；作为一个关系数据库，它是一个完备关系的产品；作为分布式数据库，它实现了分布式处理的功能。在 Oracle 最新的 12c 版本中，还引入了多承租方架构，使用该架构可轻松部署和管理数据库云。</li>
<li><a target="_blank" rel="noopener" href="https://www.ibm.com/analytics/us/en/db2/">DB2</a> - IBM 公司开发的、主要运行于 Unix（包括 IBM 自家的 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/AIX">AIX</a>）、Linux、以及 Windows 服务器版等系统的关系数据库产品。DB2 历史悠久且被认为是最早使用 SQL 的数据库产品，它拥有较为强大的商业智能功能。</li>
<li><a target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/sql-server/">SQL Server</a> - 由 Microsoft 开发和推广的关系型数据库产品，最初适用于中小企业的数据管理，但是近年来它的应用范围有所扩展，部分大企业甚至是跨国公司也开始基于它来构建自己的数据管理系统。</li>
<li><a target="_blank" rel="noopener" href="https://www.mysql.com/">MySQL</a> - MySQL 是开放源代码的，任何人都可以在 GPL（General Public License）的许可下下载并根据个性化的需要对其进行修改。MySQL 因为其速度、可靠性和适应性而备受关注。</li>
<li><a href="">PostgreSQL</a> - 在 BSD 许可证下发行的开放源代码的关系数据库产品。</li>
</ul>
</li>
</ol>
<h3 id="MySQL简介"><a href="#MySQL简介" class="headerlink" title="MySQL简介"></a>MySQL简介</h3><p>MySQL 最早是由瑞典的 MySQL AB 公司开发的一个开放源码的关系数据库管理系统，该公司于2008年被昇阳微系统公司（Sun Microsystems）收购。在2009年，甲骨文公司（Oracle）收购昇阳微系统公司，因此 MySQL 目前也是 Oracle 旗下产品。</p>
<p>MySQL 在过去由于性能高、成本低、可靠性好，已经成为最流行的开源数据库，因此被广泛地应用于中小型网站开发。随着 MySQL 的不断成熟，它也逐渐被应用于更多大规模网站和应用，比如维基百科、谷歌（Google）、脸书（Facebook）、淘宝网等网站都使用了 MySQL 来提供数据持久化服务。</p>
<p>甲骨文公司收购后昇阳微系统公司，大幅调涨 MySQL 商业版的售价，且甲骨文公司不再支持另一个自由软件项目 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/OpenSolaris">OpenSolaris </a> 的发展，因此导致自由软件社区对于 Oracle 是否还会持续支持 MySQL 社区版（MySQL 的各个发行版本中唯一免费的版本）有所担忧，MySQL 的创始人麦克尔·维德纽斯以 MySQL 为基础，创建了 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/MariaDB">MariaDB</a>（以他女儿的名字命名的数据库）分支。有许多原来使用 MySQL 数据库的公司（例如：维基百科）已经陆续完成了从 MySQL 数据库到 MariaDB 数据库的迁移。</p>
<h3 id="安装MySQL"><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h3><h4 id="Windows环境"><a href="#Windows环境" class="headerlink" title="Windows环境"></a>Windows环境</h4><p>（按照上课讲的内容自行补充）</p>
<h4 id="Linux环境"><a href="#Linux环境" class="headerlink" title="Linux环境"></a>Linux环境</h4><p>下面的安装和配置都是以 CentOS 环境为例，如果需要在其他 Linux 系统下安装 MySQL，读者可以自行在网络上查找对应的安装教程。</p>
<ol>
<li><p>安装 MySQL。</p>
<p>可以在 <a target="_blank" rel="noopener" href="https://www.mysql.com/">MySQL 官方网站</a>下载安装文件。首先在下载页面中选择平台和版本，然后找到对应的下载链接，直接下载包含所有安装文件的归档文件，解归档之后通过包管理工具进行安装。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar</span><br><span class="line">tar -xvf mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar</span><br></pre></td></tr></table></figure>

<p>如果系统上有 MariaDB 相关的文件，需要先移除MariaDB相关的文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list installed | grep mariadb | awk &#x27;&#123;print $1&#125;&#x27; | xargs yum erase -y</span><br></pre></td></tr></table></figure>

<p>更新和安装可能用到的底层依赖库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br><span class="line">yum install -y libaio libaio-devel</span><br></pre></td></tr></table></figure>

<p>接下来可以按照如下所示的顺序用 RPM（Redhat Package Manager）工具安装 MySQL。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-libs-compat-5.7.26-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-devel-5.7.26-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p>可以使用下面的命令查看已经安装的MySQL相关的包。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep mysql</span><br></pre></td></tr></table></figure></li>
<li><p>配置 MySQL。</p>
<p>MySQL 的配置文件在<code>/etc</code>目录下，名为<code>my.cnf</code>，默认的配置文件内容如下所示。如果对这个文件不理解并没有关系，什么时候用到这个配置文件什么时候再了解它就行了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/my.cnf</span><br></pre></td></tr></table></figure>

<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># For advice on how to change settings please see</span></span><br><span class="line"><span class="comment"># http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html</span></span><br><span class="line"></span><br><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Remove leading # and set to the amount of RAM for the most important data</span></span><br><span class="line"><span class="comment"># cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.</span></span><br><span class="line"><span class="comment"># innodb_buffer_pool_size = 128M</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Remove leading # to turn on a very important data integrity option: logging</span></span><br><span class="line"><span class="comment"># changes to the binary log between backups.</span></span><br><span class="line"><span class="comment"># log_bin</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Remove leading # to set options mainly useful for reporting servers.</span></span><br><span class="line"><span class="comment"># The server defaults are faster for transactions and fast SELECTs.</span></span><br><span class="line"><span class="comment"># Adjust sizes as needed, experiment to find the optimal values.</span></span><br><span class="line"><span class="comment"># join_buffer_size = 128M</span></span><br><span class="line"><span class="comment"># sort_buffer_size = 2M</span></span><br><span class="line"><span class="comment"># read_rnd_buffer_size = 2M</span></span><br><span class="line"><span class="attr">datadir</span>=/var/lib/mysql</span><br><span class="line"><span class="attr">socket</span>=/var/lib/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># Disabling symbolic-links is recommended to prevent assorted security risks</span></span><br><span class="line"><span class="attr">symbolic-links</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">log-error</span>=/var/log/mysqld.log</span><br><span class="line"><span class="attr">pid-file</span>=/var/run/mysqld/mysqld.pid</span><br></pre></td></tr></table></figure></li>
<li><p>启动 MySQL 服务。</p>
<p>可以使用下面的命令来启动 MySQL。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start</span><br></pre></td></tr></table></figure>

<p>在 CentOS 7 中，更推荐使用下面的命令来启动 MySQL。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld</span><br></pre></td></tr></table></figure>

<p>启动 MySQL 成功后，可以通过下面的命令来检查网络端口使用情况，MySQL 默认使用<code>3306</code>端口。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -ntlp | grep mysql</span><br></pre></td></tr></table></figure>

<p>也可以使用下面的命令查找是否有名为<code>mysqld</code>的进程。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep mysqld</span><br></pre></td></tr></table></figure></li>
<li><p>使用 MySQL 客户端工具连接服务器。</p>
<p>命令行工具：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：启动客户端时，<code>-u</code>参数用来指定用户名，MySQL默认的超级管理账号为<code>root</code>；<code>-p</code>表示要输入密码（用户口令）；如果连接的是其他主机而非本机，可以用<code>-h</code>来指定连接主机的主机名或IP地址。</p>
</blockquote>
<p>如果是首次安装MySQL，可以使用下面的命令来找到默认的初始密码。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /var/log/mysqld.log | grep password</span><br></pre></td></tr></table></figure>

<p>上面的命令会查看MySQL的日志带有<code>password</code>的行，在显示的结果中<code>root@localhost:</code>后面的部分就是默认设置的初始密码。</p>
<p>进入客户端工具后，可以通过下面的指令来修改超级管理员（root）的访问口令为<code>123456</code>。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> validate_password_policy<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> validate_password_length<span class="operator">=</span><span class="number">6</span>;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：MySQL 较新的版本默认不允许使用弱口令作为用户口令，所以上面的代码修改了验证用户口令的策略和口令的长度。事实上我们不应该使用弱口令，因为存在用户口令被暴力破解的风险。近年来，<strong>攻击数据库窃取数据和劫持数据库勒索比特币</strong>的事件屡见不鲜，要避免这些潜在的风险，最为重要的一点是<strong>不要让数据库服务器暴露在公网上</strong>（最好的做法是将数据库置于内网，至少要做到不向公网开放数据库服务器的访问端口），另外要保管好<code>root</code>账号的口令，应用系统需要访问数据库时，通常不使用<code>root</code>账号进行访问，而是<strong>创建其他拥有适当权限的账号来访问</strong>。</p>
</blockquote>
<p>再次使用客户端工具连接 MySQL 服务器时，就可以使用新设置的口令了。在实际开发中，为了方便用户操作，可以选择图形化的客户端工具来连接 MySQL 服务器，包括：</p>
<ul>
<li>MySQL Workbench（官方工具，推荐大家使用）</li>
<li>Navicat for MySQL（界面简单清爽，功能直观）</li>
<li>SQLyog for MySQL（强大的MySQL数据库管理员工具）</li>
</ul>
</li>
</ol>
<h3 id="MySQL常用命令"><a href="#MySQL常用命令" class="headerlink" title="MySQL常用命令"></a>MySQL常用命令</h3><ul>
<li><p>查看所有数据库。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></table></figure></li>
<li><p>查看所有字符集（编码方式）。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="type">character</span> <span class="keyword">set</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>查看所有的校对规则（排序）。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">collation</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>查看所有的引擎。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> engines;</span><br></pre></td></tr></table></figure></li>
<li><p>查看所有日志文件。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="type">binary</span> logs;</span><br></pre></td></tr></table></figure></li>
<li><p>查看数据库下所有表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></table></figure></li>
<li><p>获取帮助。</p>
<ol>
<li><p>查看<code>show</code>命令的帮助。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? show</span><br></pre></td></tr></table></figure></li>
<li><p>查看有哪些帮助内容。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? contents</span><br></pre></td></tr></table></figure></li>
<li><p>获取函数的帮助。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? functions</span><br></pre></td></tr></table></figure></li>
<li><p>获取数据类型的帮助。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? data types</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h3 id="SQL详解"><a href="#SQL详解" class="headerlink" title="SQL详解"></a>SQL详解</h3><p>我们通常可以将SQL分为四类，分别是 DDL（数据定义语言）、DML（数据操作语言）、DQL（数据查询语言）和 DCL（数据控制语言）。DDL 主要用于创建、删除、修改数据库中的对象，比如创建、删除和修改二维表，核心的关键字包括<code>create</code>、<code>drop</code>和<code>alter</code>；DML 主要负责插入数据、删除数据和更新数据，核心的关键词包括<code>insert</code>、<code>delete</code>和<code>update</code>；DQL 负责查询，最重要的一个关键词是<code>select</code>；DCL通常用于授予权限和召回权限，核心关键词是<code>grant</code>和<code>revoke</code>。</p>
<blockquote>
<p><strong>说明</strong>：SQL 是不区分大小写的语言，为了书写和识别方便，下面的 SQL 都使用了小写字母来书写。</p>
</blockquote>
<h4 id="DDL（数据定义语言）"><a href="#DDL（数据定义语言）" class="headerlink" title="DDL（数据定义语言）"></a>DDL（数据定义语言）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 如果存在名为school的数据库就删除它</span></span><br><span class="line"><span class="keyword">drop</span> database if <span class="keyword">exists</span> `school`;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建名为school的数据库并设置默认的字符集和排序方式</span></span><br><span class="line"><span class="keyword">create</span> database `school` <span class="keyword">default</span> <span class="type">character</span> <span class="keyword">set</span> utf8mb4;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 切换到school数据库上下文环境</span></span><br><span class="line">use `school`;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建学院表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `tb_college`</span><br><span class="line">(</span><br><span class="line">`col_id` <span class="type">int</span> unsigned auto_increment comment <span class="string">&#x27;编号&#x27;</span>,</span><br><span class="line">`col_name` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;名称&#x27;</span>,</span><br><span class="line">`col_intro` <span class="type">varchar</span>(<span class="number">5000</span>) <span class="keyword">default</span> <span class="string">&#x27;&#x27;</span> comment <span class="string">&#x27;介绍&#x27;</span>,</span><br><span class="line"><span class="keyword">primary</span> key (`col_id`)</span><br><span class="line">) engine<span class="operator">=</span>innodb comment <span class="string">&#x27;学院表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建学生表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `tb_student`</span><br><span class="line">(</span><br><span class="line">`stu_id` <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`stu_name` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`stu_sex` <span class="type">boolean</span> <span class="keyword">default</span> <span class="number">1</span> comment <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">`stu_birth` <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">`stu_addr` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">default</span> <span class="string">&#x27;&#x27;</span> comment <span class="string">&#x27;籍贯&#x27;</span>,</span><br><span class="line">`col_id` <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;所属学院&#x27;</span>,</span><br><span class="line"><span class="keyword">primary</span> key (`stu_id`),</span><br><span class="line"><span class="keyword">foreign</span> key (`col_id`) <span class="keyword">references</span> `tb_college` (`col_id`)</span><br><span class="line">) engine<span class="operator">=</span>innodb comment <span class="string">&#x27;学生表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建教师表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `tb_teacher`</span><br><span class="line">(</span><br><span class="line">`tea_id` <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;工号&#x27;</span>,</span><br><span class="line">`tea_name` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`tea_title` <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">default</span> <span class="string">&#x27;助教&#x27;</span> comment <span class="string">&#x27;职称&#x27;</span>,</span><br><span class="line">`col_id` <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;所属学院&#x27;</span>,</span><br><span class="line"><span class="keyword">primary</span> key (`tea_id`),</span><br><span class="line"><span class="keyword">foreign</span> key (`col_id`) <span class="keyword">references</span> `tb_college` (`col_id`)</span><br><span class="line">) engine<span class="operator">=</span>innodb comment <span class="string">&#x27;老师表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建课程表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `tb_course`</span><br><span class="line">(</span><br><span class="line">`cou_id` <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;编号&#x27;</span>,</span><br><span class="line">`cou_name` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;名称&#x27;</span>,</span><br><span class="line">`cou_credit` <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;学分&#x27;</span>,</span><br><span class="line">`tea_id` <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;授课老师&#x27;</span>,</span><br><span class="line"><span class="keyword">primary</span> key (`cou_id`),</span><br><span class="line"><span class="keyword">foreign</span> key (`tea_id`) <span class="keyword">references</span> `tb_teacher` (`tea_id`)</span><br><span class="line">) engine<span class="operator">=</span>innodb comment <span class="string">&#x27;课程表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建选课记录表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `tb_record`</span><br><span class="line">(</span><br><span class="line">`rec_id` <span class="type">bigint</span> unsigned auto_increment comment <span class="string">&#x27;选课记录号&#x27;</span>,</span><br><span class="line">`sid` <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`cid` <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;课程编号&#x27;</span>,</span><br><span class="line">`sel_date` <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;选课日期&#x27;</span>,</span><br><span class="line">`score` <span class="type">decimal</span>(<span class="number">4</span>,<span class="number">1</span>) comment <span class="string">&#x27;考试成绩&#x27;</span>,</span><br><span class="line"><span class="keyword">primary</span> key (`rec_id`),</span><br><span class="line"><span class="keyword">foreign</span> key (`sid`) <span class="keyword">references</span> `tb_student` (`stu_id`),</span><br><span class="line"><span class="keyword">foreign</span> key (`cid`) <span class="keyword">references</span> `tb_course` (`cou_id`),</span><br><span class="line"><span class="keyword">unique</span> (`sid`, `cid`)</span><br><span class="line">) engine<span class="operator">=</span>innodb comment <span class="string">&#x27;选课记录表&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>上面的DDL有几个地方需要强调一下：</p>
<ul>
<li><p>创建数据库时，我们通过<code>default charset utf8</code>指定了数据库默认使用的字符集，我们推荐使用该字符集，因为utf8能够支持国际化编码。如果将来数据库中用到的字符可能包括类似于Emoji这样的图片字符，也可以将默认字符集设定为utf8mb4（最大4字节的utf-8编码）。查看MySQL支持的字符集可以执行下面的语句。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="type">character</span> <span class="keyword">set</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">+----------+---------------------------------+---------------------+--------+</span><br><span class="line">| Charset  | Description                     | Default collation   | Maxlen |</span><br><span class="line">+----------+---------------------------------+---------------------+--------+</span><br><span class="line">| big5     | Big5 Traditional Chinese        | big5_chinese_ci     |      2 |</span><br><span class="line">| dec8     | DEC West European               | dec8_swedish_ci     |      1 |</span><br><span class="line">| cp850    | DOS West European               | cp850_general_ci    |      1 |</span><br><span class="line">| hp8      | HP West European                | hp8_english_ci      |      1 |</span><br><span class="line">| koi8r    | KOI8-R Relcom Russian           | koi8r_general_ci    |      1 |</span><br><span class="line">| latin1   | cp1252 West European            | latin1_swedish_ci   |      1 |</span><br><span class="line">| latin2   | ISO 8859-2 Central European     | latin2_general_ci   |      1 |</span><br><span class="line">| swe7     | 7bit Swedish                    | swe7_swedish_ci     |      1 |</span><br><span class="line">| ascii    | US ASCII                        | ascii_general_ci    |      1 |</span><br><span class="line">| ujis     | EUC-JP Japanese                 | ujis_japanese_ci    |      3 |</span><br><span class="line">| sjis     | Shift-JIS Japanese              | sjis_japanese_ci    |      2 |</span><br><span class="line">| hebrew   | ISO 8859-8 Hebrew               | hebrew_general_ci   |      1 |</span><br><span class="line">| tis620   | TIS620 Thai                     | tis620_thai_ci      |      1 |</span><br><span class="line">| euckr    | EUC-KR Korean                   | euckr_korean_ci     |      2 |</span><br><span class="line">| koi8u    | KOI8-U Ukrainian                | koi8u_general_ci    |      1 |</span><br><span class="line">| gb2312   | GB2312 Simplified Chinese       | gb2312_chinese_ci   |      2 |</span><br><span class="line">| greek    | ISO 8859-7 Greek                | greek_general_ci    |      1 |</span><br><span class="line">| cp1250   | Windows Central European        | cp1250_general_ci   |      1 |</span><br><span class="line">| gbk      | GBK Simplified Chinese          | gbk_chinese_ci      |      2 |</span><br><span class="line">| latin5   | ISO 8859-9 Turkish              | latin5_turkish_ci   |      1 |</span><br><span class="line">| armscii8 | ARMSCII-8 Armenian              | armscii8_general_ci |      1 |</span><br><span class="line">| utf8     | UTF-8 Unicode                   | utf8_general_ci     |      3 |</span><br><span class="line">| ucs2     | UCS-2 Unicode                   | ucs2_general_ci     |      2 |</span><br><span class="line">| cp866    | DOS Russian                     | cp866_general_ci    |      1 |</span><br><span class="line">| keybcs2  | DOS Kamenicky Czech-Slovak      | keybcs2_general_ci  |      1 |</span><br><span class="line">| macce    | Mac Central European            | macce_general_ci    |      1 |</span><br><span class="line">| macroman | Mac West European               | macroman_general_ci |      1 |</span><br><span class="line">| cp852    | DOS Central European            | cp852_general_ci    |      1 |</span><br><span class="line">| latin7   | ISO 8859-13 Baltic              | latin7_general_ci   |      1 |</span><br><span class="line">| utf8mb4  | UTF-8 Unicode                   | utf8mb4_general_ci  |      4 |</span><br><span class="line">| cp1251   | Windows Cyrillic                | cp1251_general_ci   |      1 |</span><br><span class="line">| utf16    | UTF-16 Unicode                  | utf16_general_ci    |      4 |</span><br><span class="line">| utf16le  | UTF-16LE Unicode                | utf16le_general_ci  |      4 |</span><br><span class="line">| cp1256   | Windows Arabic                  | cp1256_general_ci   |      1 |</span><br><span class="line">| cp1257   | Windows Baltic                  | cp1257_general_ci   |      1 |</span><br><span class="line">| utf32    | UTF-32 Unicode                  | utf32_general_ci    |      4 |</span><br><span class="line">| binary   | Binary pseudo charset           | binary              |      1 |</span><br><span class="line">| geostd8  | GEOSTD8 Georgian                | geostd8_general_ci  |      1 |</span><br><span class="line">| cp932    | SJIS for Windows Japanese       | cp932_japanese_ci   |      2 |</span><br><span class="line">| eucjpms  | UJIS for Windows Japanese       | eucjpms_japanese_ci |      3 |</span><br><span class="line">| gb18030  | China National Standard GB18030 | gb18030_chinese_ci  |      4 |</span><br><span class="line">+----------+---------------------------------+---------------------+--------+</span><br><span class="line">41 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>如果要设置MySQL服务启动时默认使用的字符集，可以修改MySQL的配置并添加以下内容。</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8</span><br></pre></td></tr></table></figure></li>
<li><p>在创建表的时候，可以自行选择底层的存储引擎。MySQL 支持多种存储引擎，可以通过<code>show engines</code>命令进行查看。MySQL 5.5以后的版本默认使用的存储引擎是 InnoDB，它是我们推荐大家使用的存储引擎（因为更适合当下互联网应用对高并发、性能以及事务支持等方面的需求），为了 SQL 语句的向下兼容性，我们可以在建表语句结束处右圆括号的后面通过<code>engine=innodb</code>来指定使用 InnoDB 存储引擎。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> engines\G</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">*************************** 1. row ***************************</span><br><span class="line">      Engine: InnoDB</span><br><span class="line">     Support: DEFAULT</span><br><span class="line">     Comment: Supports transactions, row-level locking, and foreign keys</span><br><span class="line">Transactions: YES</span><br><span class="line">          XA: YES</span><br><span class="line">  Savepoints: YES</span><br><span class="line">*************************** 2. row ***************************</span><br><span class="line">      Engine: MRG_MYISAM</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: Collection of identical MyISAM tables</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 3. row ***************************</span><br><span class="line">      Engine: MEMORY</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: Hash based, stored in memory, useful for temporary tables</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 4. row ***************************</span><br><span class="line">      Engine: BLACKHOLE</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: /dev/null storage engine (anything you write to it disappears)</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 5. row ***************************</span><br><span class="line">      Engine: MyISAM</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: MyISAM storage engine</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 6. row ***************************</span><br><span class="line">      Engine: CSV</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: CSV storage engine</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 7. row ***************************</span><br><span class="line">      Engine: ARCHIVE</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: Archive storage engine</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 8. row ***************************</span><br><span class="line">      Engine: PERFORMANCE_SCHEMA</span><br><span class="line">     Support: YES</span><br><span class="line">     Comment: Performance Schema</span><br><span class="line">Transactions: NO</span><br><span class="line">          XA: NO</span><br><span class="line">  Savepoints: NO</span><br><span class="line">*************************** 9. row ***************************</span><br><span class="line">      Engine: FEDERATED</span><br><span class="line">     Support: NO</span><br><span class="line">     Comment: Federated MySQL storage engine</span><br><span class="line">Transactions: NULL</span><br><span class="line">          XA: NULL</span><br><span class="line">  Savepoints: NULL</span><br><span class="line">9 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>下面的表格对MySQL几种常用的数据引擎进行了简单的对比。</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>InnoDB</th>
<th>MRG_MYISAM</th>
<th>MEMORY</th>
<th>MyISAM</th>
</tr>
</thead>
<tbody><tr>
<td>存储限制</td>
<td>有</td>
<td>没有</td>
<td>有</td>
<td>有</td>
</tr>
<tr>
<td>事务</td>
<td>支持</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>锁机制</td>
<td>行锁</td>
<td>表锁</td>
<td>表锁</td>
<td>表锁</td>
</tr>
<tr>
<td>B树索引</td>
<td>支持</td>
<td>支持</td>
<td>支持</td>
<td>支持</td>
</tr>
<tr>
<td>哈希索引</td>
<td></td>
<td></td>
<td>支持</td>
<td></td>
</tr>
<tr>
<td>全文检索</td>
<td>支持（5.6+）</td>
<td></td>
<td></td>
<td>支持</td>
</tr>
<tr>
<td>集群索引</td>
<td>支持</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>数据缓存</td>
<td>支持</td>
<td></td>
<td>支持</td>
<td></td>
</tr>
<tr>
<td>索引缓存</td>
<td>支持</td>
<td>支持</td>
<td>支持</td>
<td>支持</td>
</tr>
<tr>
<td>数据可压缩</td>
<td></td>
<td></td>
<td></td>
<td>支持</td>
</tr>
<tr>
<td>内存使用</td>
<td>高</td>
<td>低</td>
<td>中</td>
<td>低</td>
</tr>
<tr>
<td>存储空间使用</td>
<td>高</td>
<td>低</td>
<td></td>
<td>低</td>
</tr>
<tr>
<td>批量插入性能</td>
<td>低</td>
<td>高</td>
<td>高</td>
<td>高</td>
</tr>
<tr>
<td>是否支持外键</td>
<td>支持</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>通过上面的比较我们可以了解到，InnoDB 是唯一能够支持外键、事务以及行锁的存储引擎，所以我们之前说它更适合互联网应用，而且在较新版本的 MySQL 中，它也是默认使用的存储引擎。</p>
</li>
<li><p>在定义表结构为每个字段选择数据类型时，如果不清楚哪个数据类型更合适，可以通过MySQL的帮助系统来了解每种数据类型的特性、数据的长度和精度等相关信息。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? data types</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">You asked for help about help category: &quot;Data Types&quot;</span><br><span class="line">For more information, type &#x27;help &lt;item&gt;&#x27;, where &lt;item&gt; is one of the following</span><br><span class="line">topics:</span><br><span class="line">   AUTO_INCREMENT</span><br><span class="line">   BIGINT</span><br><span class="line">   BINARY</span><br><span class="line">   BIT</span><br><span class="line">   BLOB</span><br><span class="line">   BLOB DATA TYPE</span><br><span class="line">   BOOLEAN</span><br><span class="line">   CHAR</span><br><span class="line">   CHAR BYTE</span><br><span class="line">   DATE</span><br><span class="line">   DATETIME</span><br><span class="line">   DEC</span><br><span class="line">   DECIMAL</span><br><span class="line">   DOUBLE</span><br><span class="line">   DOUBLE PRECISION</span><br><span class="line">   ENUM</span><br><span class="line">   FLOAT</span><br><span class="line">   INT</span><br><span class="line">   INTEGER</span><br><span class="line">   LONGBLOB</span><br><span class="line">   LONGTEXT</span><br><span class="line">   MEDIUMBLOB</span><br><span class="line">   MEDIUMINT</span><br><span class="line">   MEDIUMTEXT</span><br><span class="line">   SET DATA TYPE</span><br><span class="line">   SMALLINT</span><br><span class="line">   TEXT</span><br><span class="line">   TIME</span><br><span class="line">   TIMESTAMP</span><br><span class="line">   TINYBLOB</span><br><span class="line">   TINYINT</span><br><span class="line">   TINYTEXT</span><br><span class="line">   VARBINARY</span><br><span class="line">   VARCHAR</span><br><span class="line">   YEAR DATA TYPE</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? <span class="type">varchar</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Name: &#x27;VARCHAR&#x27;</span><br><span class="line">Description:</span><br><span class="line">[NATIONAL] VARCHAR(M) [CHARACTER SET charset_name] [COLLATE</span><br><span class="line">collation_name]</span><br><span class="line"></span><br><span class="line">A variable-length string. M represents the maximum column length in</span><br><span class="line">characters. The range of M is 0 to 65,535. The effective maximum length</span><br><span class="line">of a VARCHAR is subject to the maximum row size (65,535 bytes, which is</span><br><span class="line">shared among all columns) and the character set used. For example, utf8</span><br><span class="line">characters can require up to three bytes per character, so a VARCHAR</span><br><span class="line">column that uses the utf8 character set can be declared to be a maximum</span><br><span class="line">of 21,844 characters. See</span><br><span class="line">http://dev.mysql.com/doc/refman/5.7/en/column-count-limit.html.</span><br><span class="line"></span><br><span class="line">MySQL stores VARCHAR values as a 1-byte or 2-byte length prefix plus</span><br><span class="line">data. The length prefix indicates the number of bytes in the value. A</span><br><span class="line">VARCHAR column uses one length byte if values require no more than 255</span><br><span class="line">bytes, two length bytes if values may require more than 255 bytes.</span><br><span class="line"></span><br><span class="line">*Note*:</span><br><span class="line"></span><br><span class="line">MySQL follows the standard SQL specification, and does not remove</span><br><span class="line">trailing spaces from VARCHAR values.</span><br><span class="line"></span><br><span class="line">VARCHAR is shorthand for CHARACTER VARYING. NATIONAL VARCHAR is the</span><br><span class="line">standard SQL way to define that a VARCHAR column should use some</span><br><span class="line">predefined character set. MySQL uses utf8 as this predefined character</span><br><span class="line">set. http://dev.mysql.com/doc/refman/5.7/en/charset-national.html.</span><br><span class="line">NVARCHAR is shorthand for NATIONAL VARCHAR.</span><br><span class="line"></span><br><span class="line">URL: http://dev.mysql.com/doc/refman/5.7/en/string-type-overview.html</span><br></pre></td></tr></table></figure>

<p>在数据类型的选择上，保存字符串数据通常都使用<code>VARCHAR</code>和<code>CHAR</code>两种类型，前者通常称为变长字符串，而后者通常称为定长字符串；对于 InnoDB 存储引擎，行存储格式没有区分固定长度和可变长度列，因此<code>VARCHAR</code>类型和<code>CHAR</code>类型没有本质区别，后者不一定比前者性能更好。如果要保存的很大字符串，可以使用<code>TEXT</code>类型；如果要保存很大的字节串，可以使用<code>BLOB</code>（二进制大对象）类型。在 MySQL 中，<code>TEXT</code>和<code>BLOB</code>又分别包括<code>TEXT</code>、<code>MEDIUMTEXT</code>、<code>LONGTEXT</code>和<code>BLOB</code>、<code>MEDIUMBLOB</code>、<code>LONGBLOB</code>三种不同的类型，它们主要的区别在于存储数据的最大大小不同。保存浮点数可以用<code>FLOAT</code>或<code>DOUBLE</code>类型，<code>FLOAT</code>已经不推荐使用了，而且在 MySQL 后续的版本中可能会被移除掉。而保存定点数应该使用<code>DECIMAL</code>类型。如果要保存时间日期，<code>DATETIME</code>类型优于<code>TIMESTAMP</code>类型，因为前者能表示的时间日期范围更大。</p>
</li>
</ul>
<h4 id="DML（数据操作语言）"><a href="#DML（数据操作语言）" class="headerlink" title="DML（数据操作语言）"></a>DML（数据操作语言）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">use school;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入学院数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `tb_college` </span><br><span class="line">    (`col_name`, `col_intro`) </span><br><span class="line"><span class="keyword">values</span> </span><br><span class="line">    (<span class="string">&#x27;计算机学院&#x27;</span>, <span class="string">&#x27;计算机学院1958年设立计算机专业，1981年建立计算机科学系，1998年设立计算机学院，2005年5月，为了进一步整合教学和科研资源，学校决定，计算机学院和软件学院行政班子合并统一运作、实行教学和学生管理独立运行的模式。 学院下设三个系：计算机科学与技术系、物联网工程系、计算金融系；两个研究所：图象图形研究所、网络空间安全研究院（2015年成立）；三个教学实验中心：计算机基础教学实验中心、IBM技术中心和计算机专业实验中心。&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;外国语学院&#x27;</span>, <span class="string">&#x27;外国语学院设有7个教学单位，6个文理兼收的本科专业；拥有1个一级学科博士授予点，3个二级学科博士授予点，5个一级学科硕士学位授权点，5个二级学科硕士学位授权点，5个硕士专业授权领域，同时还有2个硕士专业学位（MTI）专业；有教职员工210余人，其中教授、副教授80余人，教师中获得中国国内外名校博士学位和正在职攻读博士学位的教师比例占专任教师的60%以上。&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;经济管理学院&#x27;</span>, <span class="string">&#x27;经济学院前身是创办于1905年的经济科；已故经济学家彭迪先、张与九、蒋学模、胡寄窗、陶大镛、胡代光，以及当代学者刘诗白等曾先后在此任教或学习。&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入学生数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `tb_student` </span><br><span class="line">    (`stu_id`, `stu_name`, `stu_sex`, `stu_birth`, `stu_addr`, `col_id`) </span><br><span class="line"><span class="keyword">values</span></span><br><span class="line">    (<span class="number">1001</span>, <span class="string">&#x27;杨过&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;1990-3-4&#x27;</span>, <span class="string">&#x27;湖南长沙&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">    (<span class="number">1002</span>, <span class="string">&#x27;任我行&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;1992-2-2&#x27;</span>, <span class="string">&#x27;湖南长沙&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">    (<span class="number">1033</span>, <span class="string">&#x27;王语嫣&#x27;</span>, <span class="number">0</span>, <span class="string">&#x27;1989-12-3&#x27;</span>, <span class="string">&#x27;四川成都&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">    (<span class="number">1572</span>, <span class="string">&#x27;岳不群&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;1993-7-19&#x27;</span>, <span class="string">&#x27;陕西咸阳&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">    (<span class="number">1378</span>, <span class="string">&#x27;纪嫣然&#x27;</span>, <span class="number">0</span>, <span class="string">&#x27;1995-8-12&#x27;</span>, <span class="string">&#x27;四川绵阳&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">    (<span class="number">1954</span>, <span class="string">&#x27;林平之&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;1994-9-20&#x27;</span>, <span class="string">&#x27;福建莆田&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">    (<span class="number">2035</span>, <span class="string">&#x27;东方不败&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;1988-6-30&#x27;</span>, <span class="keyword">null</span>, <span class="number">2</span>),</span><br><span class="line">    (<span class="number">3011</span>, <span class="string">&#x27;林震南&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;1985-12-12&#x27;</span>, <span class="string">&#x27;福建莆田&#x27;</span>, <span class="number">3</span>),</span><br><span class="line">    (<span class="number">3755</span>, <span class="string">&#x27;项少龙&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;1993-1-25&#x27;</span>, <span class="keyword">null</span>, <span class="number">3</span>),</span><br><span class="line">    (<span class="number">3923</span>, <span class="string">&#x27;杨不悔&#x27;</span>, <span class="number">0</span>, <span class="string">&#x27;1985-4-17&#x27;</span>, <span class="string">&#x27;四川成都&#x27;</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入老师数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `tb_teacher` </span><br><span class="line">    (`tea_id`, `tea_name`, `tea_title`, `col_id`) </span><br><span class="line"><span class="keyword">values</span> </span><br><span class="line">    (<span class="number">1122</span>, <span class="string">&#x27;张三丰&#x27;</span>, <span class="string">&#x27;教授&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">    (<span class="number">1133</span>, <span class="string">&#x27;宋远桥&#x27;</span>, <span class="string">&#x27;副教授&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">    (<span class="number">1144</span>, <span class="string">&#x27;杨逍&#x27;</span>, <span class="string">&#x27;副教授&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">    (<span class="number">2255</span>, <span class="string">&#x27;范遥&#x27;</span>, <span class="string">&#x27;副教授&#x27;</span>, <span class="number">2</span>),</span><br><span class="line">    (<span class="number">3366</span>, <span class="string">&#x27;韦一笑&#x27;</span>, <span class="keyword">default</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入课程数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `tb_course` </span><br><span class="line">    (`cou_id`, `cou_name`, `cou_credit`, `tea_id`) </span><br><span class="line"><span class="keyword">values</span> </span><br><span class="line">    (<span class="number">1111</span>, <span class="string">&#x27;Python程序设计&#x27;</span>, <span class="number">3</span>, <span class="number">1122</span>),</span><br><span class="line">    (<span class="number">2222</span>, <span class="string">&#x27;Web前端开发&#x27;</span>, <span class="number">2</span>, <span class="number">1122</span>),</span><br><span class="line">    (<span class="number">3333</span>, <span class="string">&#x27;操作系统&#x27;</span>, <span class="number">4</span>, <span class="number">1122</span>),</span><br><span class="line">    (<span class="number">4444</span>, <span class="string">&#x27;计算机网络&#x27;</span>, <span class="number">2</span>, <span class="number">1133</span>),</span><br><span class="line">    (<span class="number">5555</span>, <span class="string">&#x27;编译原理&#x27;</span>, <span class="number">4</span>, <span class="number">1144</span>),</span><br><span class="line">    (<span class="number">6666</span>, <span class="string">&#x27;算法和数据结构&#x27;</span>, <span class="number">3</span>, <span class="number">1144</span>),</span><br><span class="line">    (<span class="number">7777</span>, <span class="string">&#x27;经贸法语&#x27;</span>, <span class="number">3</span>, <span class="number">2255</span>),</span><br><span class="line">    (<span class="number">8888</span>, <span class="string">&#x27;成本会计&#x27;</span>, <span class="number">2</span>, <span class="number">3366</span>),</span><br><span class="line">    (<span class="number">9999</span>, <span class="string">&#x27;审计学&#x27;</span>, <span class="number">3</span>, <span class="number">3366</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入选课数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `tb_record` </span><br><span class="line">    (`sid`, `cid`, `sel_date`, `score`) </span><br><span class="line"><span class="keyword">values</span> </span><br><span class="line">    (<span class="number">1001</span>, <span class="number">1111</span>, <span class="string">&#x27;2017-09-01&#x27;</span>, <span class="number">95</span>),</span><br><span class="line">    (<span class="number">1001</span>, <span class="number">2222</span>, <span class="string">&#x27;2017-09-01&#x27;</span>, <span class="number">87.5</span>),</span><br><span class="line">    (<span class="number">1001</span>, <span class="number">3333</span>, <span class="string">&#x27;2017-09-01&#x27;</span>, <span class="number">100</span>),</span><br><span class="line">    (<span class="number">1001</span>, <span class="number">4444</span>, <span class="string">&#x27;2018-09-03&#x27;</span>, <span class="keyword">null</span>),</span><br><span class="line">    (<span class="number">1001</span>, <span class="number">6666</span>, <span class="string">&#x27;2017-09-02&#x27;</span>, <span class="number">100</span>),</span><br><span class="line">    (<span class="number">1002</span>, <span class="number">1111</span>, <span class="string">&#x27;2017-09-03&#x27;</span>, <span class="number">65</span>),</span><br><span class="line">    (<span class="number">1002</span>, <span class="number">5555</span>, <span class="string">&#x27;2017-09-01&#x27;</span>, <span class="number">42</span>),</span><br><span class="line">    (<span class="number">1033</span>, <span class="number">1111</span>, <span class="string">&#x27;2017-09-03&#x27;</span>, <span class="number">92.5</span>),</span><br><span class="line">    (<span class="number">1033</span>, <span class="number">4444</span>, <span class="string">&#x27;2017-09-01&#x27;</span>, <span class="number">78</span>),</span><br><span class="line">    (<span class="number">1033</span>, <span class="number">5555</span>, <span class="string">&#x27;2017-09-01&#x27;</span>, <span class="number">82.5</span>),</span><br><span class="line">    (<span class="number">1572</span>, <span class="number">1111</span>, <span class="string">&#x27;2017-09-02&#x27;</span>, <span class="number">78</span>),</span><br><span class="line">    (<span class="number">1378</span>, <span class="number">1111</span>, <span class="string">&#x27;2017-09-05&#x27;</span>, <span class="number">82</span>),</span><br><span class="line">    (<span class="number">1378</span>, <span class="number">7777</span>, <span class="string">&#x27;2017-09-02&#x27;</span>, <span class="number">65.5</span>),</span><br><span class="line">    (<span class="number">2035</span>, <span class="number">7777</span>, <span class="string">&#x27;2018-09-03&#x27;</span>, <span class="number">88</span>),</span><br><span class="line">    (<span class="number">2035</span>, <span class="number">9999</span>, <span class="string">&#x27;2019-09-02&#x27;</span>, <span class="keyword">null</span>),</span><br><span class="line">    (<span class="number">3755</span>, <span class="number">1111</span>, <span class="string">&#x27;2019-09-02&#x27;</span>, <span class="keyword">null</span>),</span><br><span class="line">    (<span class="number">3755</span>, <span class="number">8888</span>, <span class="string">&#x27;2019-09-02&#x27;</span>, <span class="keyword">null</span>),</span><br><span class="line">    (<span class="number">3755</span>, <span class="number">9999</span>, <span class="string">&#x27;2017-09-01&#x27;</span>, <span class="number">92</span>);</span><br></pre></td></tr></table></figure>

<h4 id="DQL（数据查询语言）"><a href="#DQL（数据查询语言）" class="headerlink" title="DQL（数据查询语言）"></a>DQL（数据查询语言）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询所有学生的所有信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_student;</span><br><span class="line"><span class="keyword">select</span> stu_id, stu_name, stu_sex, stu_birth, stu_addr, col_id <span class="keyword">from</span> tb_student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询所有课程名称及学分(投影和别名)</span></span><br><span class="line"><span class="keyword">select</span> cou_name <span class="keyword">as</span> 课程名称, cou_credit <span class="keyword">as</span> 学分 <span class="keyword">from</span> tb_course;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询所有女学生的姓名和出生日期(筛选)</span></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_birth <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_sex<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询所有80后学生的姓名、性别和出生日期(筛选)</span></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_sex, stu_birth <span class="keyword">from</span> tb_student </span><br><span class="line"><span class="keyword">where</span> stu_birth<span class="operator">&gt;=</span><span class="string">&#x27;1980-1-1&#x27;</span> <span class="keyword">and</span> stu_birth<span class="operator">&lt;=</span><span class="string">&#x27;1989-12-31&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_sex, stu_birth <span class="keyword">from</span> tb_student </span><br><span class="line"><span class="keyword">where</span> stu_birth <span class="keyword">between</span> <span class="string">&#x27;1980-1-1&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;1989-12-31&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 补充1：在查询时可以对列的值进行处理</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">	stu_name <span class="keyword">as</span> 姓名, </span><br><span class="line">    <span class="keyword">case</span> stu_sex <span class="keyword">when</span> <span class="number">1</span> <span class="keyword">then</span> <span class="string">&#x27;男&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;女&#x27;</span> <span class="keyword">end</span> <span class="keyword">as</span> 性别, </span><br><span class="line">    stu_birth <span class="keyword">as</span> 生日</span><br><span class="line"><span class="keyword">from</span> tb_student </span><br><span class="line"><span class="keyword">where</span> stu_birth <span class="keyword">between</span> <span class="string">&#x27;1980-1-1&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;1989-12-31&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 补充2：MySQL方言(使用数据库特有的函数)</span></span><br><span class="line"><span class="comment">-- 例如：Oracle中做同样事情的函数叫做decode</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">	stu_name <span class="keyword">as</span> 姓名, </span><br><span class="line">    if(stu_sex, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;女&#x27;</span>) <span class="keyword">as</span> 性别, </span><br><span class="line">    stu_birth <span class="keyword">as</span> 生日</span><br><span class="line"><span class="keyword">from</span> tb_student </span><br><span class="line"><span class="keyword">where</span> stu_birth <span class="keyword">between</span> <span class="string">&#x27;1980-1-1&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;1989-12-31&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询所有80后女学生的姓名和出生日期</span></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_birth <span class="keyword">from</span> tb_student </span><br><span class="line"><span class="keyword">where</span> stu_birth <span class="keyword">between</span> <span class="string">&#x27;1980-1-1&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;1989-12-31&#x27;</span> <span class="keyword">and</span> stu_sex<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询所有的80后学生或女学生的姓名和出生日期</span></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_birth <span class="keyword">from</span> tb_student </span><br><span class="line"><span class="keyword">where</span> stu_birth <span class="keyword">between</span> <span class="string">&#x27;1980-1-1&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;1989-12-31&#x27;</span> <span class="keyword">or</span> stu_sex<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询姓“杨”的学生姓名和性别(模糊)</span></span><br><span class="line"><span class="comment">-- 在SQL中通配符%可以匹配零个或任意多个字符</span></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_sex <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_name <span class="keyword">like</span> <span class="string">&#x27;杨%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询姓“杨”名字两个字的学生姓名和性别(模糊)</span></span><br><span class="line"><span class="comment">-- 在SQL中通配符_可以刚刚好匹配一个字符</span></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_sex <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_name <span class="keyword">like</span> <span class="string">&#x27;杨_&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询姓“杨”名字三个字的学生姓名和性别(模糊)</span></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_sex <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_name <span class="keyword">like</span> <span class="string">&#x27;杨__&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询名字中有“不”字或“嫣”字的学生的姓名(模糊)</span></span><br><span class="line"><span class="comment">-- 提示：前面带%的模糊查询性能基本上都是非常糟糕的</span></span><br><span class="line"><span class="keyword">select</span> stu_name <span class="keyword">from</span> tb_student </span><br><span class="line"><span class="keyword">where</span> stu_name <span class="keyword">like</span> <span class="string">&#x27;%不%&#x27;</span> <span class="keyword">or</span> stu_name <span class="keyword">like</span> <span class="string">&#x27;%嫣%&#x27;</span>;</span><br><span class="line"></span><br><span class="line">update tb_student <span class="keyword">set</span> stu_name<span class="operator">=</span><span class="string">&#x27;岳不嫣&#x27;</span> <span class="keyword">where</span> stu_id<span class="operator">=</span><span class="number">1572</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 并集运算</span></span><br><span class="line"><span class="keyword">select</span> stu_name <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_name <span class="keyword">like</span> <span class="string">&#x27;%不%&#x27;</span></span><br><span class="line"><span class="keyword">union</span> </span><br><span class="line"><span class="keyword">select</span> stu_name <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_name <span class="keyword">like</span> <span class="string">&#x27;%嫣%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> stu_name <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_name <span class="keyword">like</span> <span class="string">&#x27;%不%&#x27;</span></span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line"><span class="keyword">select</span> stu_name <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_name <span class="keyword">like</span> <span class="string">&#x27;%嫣%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 正则表达式模糊查询</span></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_sex <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_name regexp <span class="string">&#x27;^杨.&#123;2&#125;$&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询没有录入家庭住址的学生姓名(空值)</span></span><br><span class="line"><span class="comment">-- null作任何运算结果也是产生null，null相当于是条件不成立</span></span><br><span class="line"><span class="keyword">select</span> stu_name <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_addr <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">select</span> stu_name <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_addr<span class="operator">&lt;=&gt;</span><span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询录入了家庭住址的学生姓名(空值)</span></span><br><span class="line"><span class="keyword">select</span> stu_name <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_addr <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询学生选课的所有日期(去重)</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> sel_date <span class="keyword">from</span> tb_record;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询学生的家庭住址(去重)</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> stu_addr <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_addr <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询男学生的姓名和生日按年龄从大到小排列(排序)</span></span><br><span class="line"><span class="comment">-- asc - 升序（从小到大），desc - 降序（从大到小）</span></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_birth <span class="keyword">from</span> tb_student </span><br><span class="line"><span class="keyword">where</span> stu_sex<span class="operator">=</span><span class="number">1</span> <span class="keyword">order</span> <span class="keyword">by</span> stu_birth <span class="keyword">asc</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> stu_name, stu_birth <span class="keyword">from</span> tb_student </span><br><span class="line"><span class="keyword">where</span> stu_sex<span class="operator">=</span><span class="number">1</span> <span class="keyword">order</span> <span class="keyword">by</span> stu_birth <span class="keyword">desc</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询年龄最大的学生的出生日期(聚合函数) ---&gt; 找出最小的生日</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(stu_birth) <span class="keyword">from</span> tb_student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">	<span class="built_in">min</span>(stu_birth) <span class="keyword">as</span> 生日,</span><br><span class="line">    <span class="built_in">floor</span>(datediff(curdate(), <span class="built_in">min</span>(stu_birth))<span class="operator">/</span><span class="number">365</span>) <span class="keyword">as</span> 年龄</span><br><span class="line"><span class="keyword">from</span> tb_student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询年龄最小的学生的出生日期(聚合函数)</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">	<span class="built_in">max</span>(stu_birth) <span class="keyword">as</span> 生日,</span><br><span class="line">    <span class="built_in">floor</span>(datediff(curdate(), <span class="built_in">max</span>(stu_birth))<span class="operator">/</span><span class="number">365</span>) <span class="keyword">as</span> 年龄</span><br><span class="line"><span class="keyword">from</span> tb_student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询所有考试的平均成绩</span></span><br><span class="line"><span class="comment">-- 聚合函数在遇到null值会做忽略的处理</span></span><br><span class="line"><span class="comment">-- 如果做计数操作，建议使用count(*)，这样才不会漏掉空值</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(score) <span class="keyword">from</span> tb_record;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(score) <span class="operator">/</span> <span class="built_in">count</span>(score) <span class="keyword">from</span> tb_record;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(score) <span class="operator">/</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> tb_record;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询课程编号为1111的课程的平均成绩(筛选和聚合函数)</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(score) <span class="keyword">from</span> tb_record <span class="keyword">where</span> cid<span class="operator">=</span><span class="number">1111</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询学号为1001的学生所有课程的平均分(筛选和聚合函数)</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(score) <span class="keyword">from</span> tb_record <span class="keyword">where</span> sid<span class="operator">=</span><span class="number">1001</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> stu_addr) <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_addr <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询男女学生的人数(分组和聚合函数) </span></span><br><span class="line"><span class="comment">-- SAC（Split - Aggregate - Combine）</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">	if(stu_sex, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;女&#x27;</span>) <span class="keyword">as</span> 性别, </span><br><span class="line">    <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> 人数 </span><br><span class="line"><span class="keyword">from</span> tb_student <span class="keyword">group</span> <span class="keyword">by</span> stu_sex;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 统计每个学院男女学生的人数</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">	col_id <span class="keyword">as</span> 学院, </span><br><span class="line">    if(stu_sex, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;女&#x27;</span>) <span class="keyword">as</span> 性别, </span><br><span class="line">    <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> 人数 </span><br><span class="line"><span class="keyword">from</span> tb_student <span class="keyword">group</span> <span class="keyword">by</span> col_id, stu_sex;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询每个学生的学号和平均成绩(分组和聚合函数)</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">	sid <span class="keyword">as</span> 学号, </span><br><span class="line">    round(<span class="built_in">avg</span>(score),<span class="number">1</span>) <span class="keyword">as</span> 平均分 </span><br><span class="line"><span class="keyword">from</span> tb_record <span class="keyword">group</span> <span class="keyword">by</span> sid;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询平均成绩大于等于90分的学生的学号和平均成绩</span></span><br><span class="line"><span class="comment">-- 分组以前的数据筛选使用where子句，分组以后的数据筛选使用having子句</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">	sid <span class="keyword">as</span> 学号, </span><br><span class="line">    round(<span class="built_in">avg</span>(score),<span class="number">1</span>) <span class="keyword">as</span> 平均分 </span><br><span class="line"><span class="keyword">from</span> tb_record </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> sid <span class="keyword">having</span> 平均分<span class="operator">&gt;=</span><span class="number">90</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询年龄最大的学生的姓名(子查询)</span></span><br><span class="line"><span class="comment">-- 嵌套查询：把一个查询的结果作为另外一个查询的一部分来使用。</span></span><br><span class="line"><span class="keyword">select</span> stu_name <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_birth<span class="operator">=</span>(</span><br><span class="line">	<span class="keyword">select</span> <span class="built_in">min</span>(stu_birth) <span class="keyword">from</span> tb_student</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询年龄最大的学生姓名和年龄(子查询+运算)</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">	stu_name <span class="keyword">as</span> 姓名,</span><br><span class="line">    <span class="built_in">floor</span>(datediff(curdate(), stu_birth) <span class="operator">/</span> <span class="number">365</span>) <span class="keyword">as</span> 年龄 </span><br><span class="line"><span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_birth<span class="operator">=</span>(</span><br><span class="line">	<span class="keyword">select</span> <span class="built_in">min</span>(stu_birth) <span class="keyword">from</span> tb_student</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询选了两门以上的课程的学生姓名(子查询/分组条件/集合运算)</span></span><br><span class="line"><span class="keyword">select</span> stu_name <span class="keyword">from</span> tb_student <span class="keyword">where</span> stu_id <span class="keyword">in</span> (</span><br><span class="line">	<span class="keyword">select</span> sid <span class="keyword">from</span> tb_record <span class="keyword">group</span> <span class="keyword">by</span> sid <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">2</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询课程的名称、学分和授课老师的姓名(连接查询)</span></span><br><span class="line"><span class="keyword">select</span> cou_name, cou_credit, tea_name </span><br><span class="line"><span class="keyword">from</span> tb_course, tb_teacher </span><br><span class="line"><span class="keyword">where</span> tb_course.tea_id<span class="operator">=</span>tb_teacher.tea_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> cou_name, cou_credit, tea_name <span class="keyword">from</span> tb_course t1 </span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> tb_teacher t2 <span class="keyword">on</span> t1.tea_id<span class="operator">=</span>t2.tea_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询学生姓名、课程名称以及成绩(连接查询)</span></span><br><span class="line"><span class="keyword">select</span> stu_name, cou_name, score </span><br><span class="line"><span class="keyword">from</span> tb_record, tb_student, tb_course</span><br><span class="line"><span class="keyword">where</span> stu_id<span class="operator">=</span>sid <span class="keyword">and</span> cou_id<span class="operator">=</span>cid <span class="keyword">and</span> score <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> stu_name, cou_name, score <span class="keyword">from</span> tb_student </span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> tb_record <span class="keyword">on</span> stu_id<span class="operator">=</span>sid </span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> tb_course <span class="keyword">on</span> cou_id<span class="operator">=</span>cid </span><br><span class="line"><span class="keyword">where</span> score <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询选课学生的姓名和平均成绩(子查询和连接查询)</span></span><br><span class="line"><span class="keyword">select</span> stu_name, avg_score </span><br><span class="line"><span class="keyword">from</span> tb_student, (<span class="keyword">select</span> sid, round(<span class="built_in">avg</span>(score),<span class="number">1</span>) <span class="keyword">as</span> avg_score </span><br><span class="line">	<span class="keyword">from</span> tb_record <span class="keyword">group</span> <span class="keyword">by</span> sid</span><br><span class="line">) tb_temp <span class="keyword">where</span> stu_id<span class="operator">=</span>sid;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询每个学生的姓名和选课数量(左外连接和子查询)</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">	stu_name <span class="keyword">as</span> 姓名, </span><br><span class="line">    ifnull(total, <span class="number">0</span>) <span class="keyword">as</span> 选课数量 </span><br><span class="line"><span class="keyword">from</span> tb_student <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> (</span><br><span class="line">	<span class="keyword">select</span> sid, <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> total <span class="keyword">from</span> tb_record <span class="keyword">group</span> <span class="keyword">by</span> sid</span><br><span class="line">) tb_temp <span class="keyword">on</span> stu_id<span class="operator">=</span>sid;</span><br></pre></td></tr></table></figure>

<p>上面的DML有几个地方需要加以说明：</p>
<ol>
<li><p>MySQL 中支持多种类型的运算符，包括：算术运算符（<code>+</code>、<code>-</code>、<code>*</code>、<code>/</code>、<code>%</code>）、比较运算符（<code>=</code>、<code>&lt;&gt;</code>、<code>&lt;=&gt;</code>、<code>&lt;</code>、<code>&lt;=</code>、<code>&gt;</code>、<code>&gt;=</code>、<code>BETWEEN...AND..</code>.、<code>IN</code>、<code>IS NULL</code>、<code>IS NOT NULL</code>、<code>LIKE</code>、<code>RLIKE</code>、<code>REGEXP</code>）、逻辑运算符（<code>NOT</code>、<code>AND</code>、<code>OR</code>、<code>XOR</code>）和位运算符（<code>&amp;</code>、<code>|</code>、<code>^</code>、<code>~</code>、<code>&gt;&gt;</code>、<code>&lt;&lt;</code>），我们可以在 DML 中使用这些运算符处理数据。</p>
</li>
<li><p>在查询数据时，可以在<code>SELECT</code>语句及其子句（如<code>WHERE</code>子句、<code>ORDER BY</code>子句、<code>HAVING</code>子句等）中使用函数，这些函数包括字符串函数、数值函数、时间日期函数、流程函数等，如下面的表格所示。</p>
<p>常用字符串函数。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>CONCAT</td>
<td>将多个字符串连接成一个字符串</td>
</tr>
<tr>
<td>FORMAT</td>
<td>将数值格式化成字符串并指定保留几位小数</td>
</tr>
<tr>
<td>FROM_BASE64 / TO_BASE64</td>
<td>BASE64解码/编码</td>
</tr>
<tr>
<td>BIN / OCT / HEX</td>
<td>将数值转换成二进制/八进制/十六进制字符串</td>
</tr>
<tr>
<td>LOCATE</td>
<td>在字符串中查找一个子串的位置</td>
</tr>
<tr>
<td>LEFT / RIGHT</td>
<td>返回一个字符串左边/右边指定长度的字符</td>
</tr>
<tr>
<td>LENGTH / CHAR_LENGTH</td>
<td>返回字符串的长度以字节/字符为单位</td>
</tr>
<tr>
<td>LOWER / UPPER</td>
<td>返回字符串的小写/大写形式</td>
</tr>
<tr>
<td>LPAD / RPAD</td>
<td>如果字符串的长度不足，在字符串左边/右边填充指定的字符</td>
</tr>
<tr>
<td>LTRIM / RTRIM</td>
<td>去掉字符串前面/后面的空格</td>
</tr>
<tr>
<td>ORD / CHAR</td>
<td>返回字符对应的编码/返回编码对应的字符</td>
</tr>
<tr>
<td>STRCMP</td>
<td>比较字符串，返回-1、0、1分别表示小于、等于、大于</td>
</tr>
<tr>
<td>SUBSTRING</td>
<td>返回字符串指定范围的子串</td>
</tr>
</tbody></table>
<p>常用数值函数。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>ABS</td>
<td>返回一个数的绝度值</td>
</tr>
<tr>
<td>CEILING / FLOOR</td>
<td>返回一个数上取整/下取整的结果</td>
</tr>
<tr>
<td>CONV</td>
<td>将一个数从一种进制转换成另一种进制</td>
</tr>
<tr>
<td>CRC32</td>
<td>计算循环冗余校验码</td>
</tr>
<tr>
<td>EXP / LOG / LOG2 / LOG10</td>
<td>计算指数/对数</td>
</tr>
<tr>
<td>POW</td>
<td>求幂</td>
</tr>
<tr>
<td>RAND</td>
<td>返回[0,1)范围的随机数</td>
</tr>
<tr>
<td>ROUND</td>
<td>返回一个数四舍五入后的结果</td>
</tr>
<tr>
<td>SQRT</td>
<td>返回一个数的平方根</td>
</tr>
<tr>
<td>TRUNCATE</td>
<td>截断一个数到指定的精度</td>
</tr>
<tr>
<td>SIN / COS / TAN / COT / ASIN / ACOS / ATAN</td>
<td>三角函数</td>
</tr>
</tbody></table>
<p>常用时间日期函数。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>CURDATE / CURTIME / NOW</td>
<td>获取当前日期/时间/日期和时间</td>
</tr>
<tr>
<td>ADDDATE / SUBDATE</td>
<td>将两个日期表达式相加/相减并返回结果</td>
</tr>
<tr>
<td>DATE / TIME</td>
<td>从字符串中获取日期/时间</td>
</tr>
<tr>
<td>YEAR / MONTH / DAY</td>
<td>从日期中获取年/月/日</td>
</tr>
<tr>
<td>HOUR / MINUTE / SECOND</td>
<td>从时间中获取时/分/秒</td>
</tr>
<tr>
<td>DATEDIFF / TIMEDIFF</td>
<td>返回两个时间日期表达式相差多少天/小时</td>
</tr>
<tr>
<td>MAKEDATE / MAKETIME</td>
<td>制造一个日期/时间</td>
</tr>
</tbody></table>
<p>常用流程函数。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>IF</td>
<td>根据条件是否成立返回不同的值</td>
</tr>
<tr>
<td>IFNULL</td>
<td>如果为NULL则返回指定的值否则就返回本身</td>
</tr>
<tr>
<td>NULLIF</td>
<td>两个表达式相等就返回NULL否则返回第一个表达式的值</td>
</tr>
</tbody></table>
<p>其他常用函数。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>MD5 / SHA1 / SHA2</td>
<td>返回字符串对应的哈希摘要</td>
</tr>
<tr>
<td>CHARSET / COLLATION</td>
<td>返回字符集/校对规则</td>
</tr>
<tr>
<td>USER / CURRENT_USER</td>
<td>返回当前用户</td>
</tr>
<tr>
<td>DATABASE</td>
<td>返回当前数据库名</td>
</tr>
<tr>
<td>VERSION</td>
<td>返回当前数据库版本</td>
</tr>
<tr>
<td>FOUND_ROWS / ROW_COUNT</td>
<td>返回查询到的行数/受影响的行数</td>
</tr>
<tr>
<td>LAST_INSERT_ID</td>
<td>返回最后一个自增主键的值</td>
</tr>
<tr>
<td>UUID / UUID_SHORT</td>
<td>返回全局唯一标识符</td>
</tr>
</tbody></table>
</li>
</ol>
<h4 id="DCL（数据控制语言）"><a href="#DCL（数据控制语言）" class="headerlink" title="DCL（数据控制语言）"></a>DCL（数据控制语言）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建可以远程登录的root账号并为其指定口令</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 为远程登录的root账号授权操作所有数据库所有对象的所有权限并允许其将权限再次赋予其他用户</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> <span class="keyword">with</span> <span class="keyword">grant</span> option;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建名为hellokitty的用户并为其指定口令</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;hellokitty&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123123&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 将对school数据库所有对象的所有操作权限授予hellokitty</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> school.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;hellokitty&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 召回hellokitty对school数据库所有对象的insert/delete/update权限</span></span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">insert</span>, <span class="keyword">delete</span>, update <span class="keyword">on</span> school.<span class="operator">*</span> <span class="keyword">from</span> <span class="string">&#x27;hellokitty&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：创建一个可以允许任意主机登录并且具有超级管理员权限的用户在现实中并不是一个明智的决定，因为一旦该账号的口令泄露或者被破解，数据库将会面临灾难级的风险。</p>
</blockquote>
<h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><p>索引是关系型数据库中用来提升查询性能最为重要的手段。关系型数据库中的索引就像一本书的目录，我们可以想象一下，如果要从一本书中找出某个知识点，但是这本书没有目录，这将是意见多么可怕的事情（我们估计得一篇一篇的翻下去，才能确定这个知识点到底在什么位置）。创建索引虽然会带来存储空间上的开销，就像一本书的目录会占用一部分的篇幅一样，但是在牺牲空间后换来的查询时间的减少也是非常显著的。</p>
<p>MySQL中，所有数据类型的列都可以被索引，常用的存储引擎InnoDB和MyISAM能支持每个表创建16个索引。InnoDB和MyISAM使用的索引其底层算法是B-tree（B树），B-tree是一种自平衡的树，类似于平衡二叉排序树，能够保持数据有序。这种数据结构能够让查找数据、顺序访问、插入数据及删除的操作都在对数时间内完成。</p>
<p>接下来我们通过一个简单的例子来说明索引的意义，比如我们要根据学生的姓名来查找学生，这个场景在实际开发中应该经常遇到，就跟通过商品名称查找商品道理是一样的。我们可以使用MySQL的<code>explain</code>关键字来查看SQL的执行计划。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_student <span class="keyword">where</span> stuname<span class="operator">=</span><span class="string">&#x27;林震南&#x27;</span>\G</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*************************** 1. row ***************************</span><br><span class="line">           id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: tb_student</span><br><span class="line">   partitions: NULL</span><br><span class="line">         type: ALL</span><br><span class="line">possible_keys: NULL</span><br><span class="line">          key: NULL</span><br><span class="line">      key_len: NULL</span><br><span class="line">          ref: NULL</span><br><span class="line">         rows: 11</span><br><span class="line">     filtered: 10.00</span><br><span class="line">        Extra: Using where</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>在上面的SQL执行计划中，有几项值得我们关注：</p>
<ol>
<li><code>select_type</code>：查询的类型。<ul>
<li>SIMPLE：简单SELECT，不需要使用UNION操作或子查询。</li>
<li>PRIMARY：如果查询包含子查询，最外层的SELECT被标记为PRIMARY。</li>
<li>UNION：UNION操作中第二个或后面的SELECT语句。</li>
<li>SUBQUERY：子查询中的第一个SELECT。</li>
<li>DERIVED：派生表的SELECT子查询。</li>
</ul>
</li>
<li><code>table</code>：查询对应的表。</li>
<li><code>type</code>：MySQL在表中找到满足条件的行的方式，也称为访问类型，包括：ALL（全表扫描）、index（索引全扫描，只遍历索引树）、range（索引范围扫描）、ref（非唯一索引扫描）、eq_ref（唯一索引扫描）、const/system（常量级查询）、NULL（不需要访问表或索引）。在所有的访问类型中，很显然ALL是性能最差的，它代表的全表扫描是指要扫描表中的每一行才能找到匹配的行。</li>
<li><code>possible_keys</code>：MySQL可以选择的索引，但是<strong>有可能不会使用</strong>。</li>
<li><code>key</code>：MySQL真正使用的索引，如果为NULL就表示没有使用索引。</li>
<li><code>key_len</code>：使用的索引的长度，在不影响查询的情况下肯定是长度越短越好。</li>
<li><code>rows</code>：执行查询需要扫描的行数，这是一个<strong>预估值</strong>。</li>
<li><code>extra</code>：关于查询额外的信息。<ul>
<li><code>Using filesort</code>：MySQL无法利用索引完成排序操作。</li>
<li><code>Using index</code>：只使用索引的信息而不需要进一步查表来获取更多的信息。</li>
<li><code>Using temporary</code>：MySQL需要使用临时表来存储结果集，常用于分组和排序。</li>
<li><code>Impossible where</code>：<code>where</code>子句会导致没有符合条件的行。</li>
<li><code>Distinct</code>：MySQL发现第一个匹配行后，停止为当前的行组合搜索更多的行。</li>
<li><code>Using where</code>：查询的列未被索引覆盖，筛选条件并不是索引的前导列。</li>
</ul>
</li>
</ol>
<p>从上面的执行计划可以看出，当我们通过学生名字查询学生时实际上是进行了全表扫描，不言而喻这个查询性能肯定是非常糟糕的，尤其是在表中的行很多的时候。如果我们需要经常通过学生姓名来查询学生，那么就应该在学生姓名对应的列上创建索引，通过索引来加速查询。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> index idx_student_name <span class="keyword">on</span> tb_student(stuname);</span><br></pre></td></tr></table></figure>

<p>再次查看刚才的SQL对应的执行计划。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_student <span class="keyword">where</span> stuname<span class="operator">=</span><span class="string">&#x27;林震南&#x27;</span>\G</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*************************** 1. row ***************************</span><br><span class="line">           id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: tb_student</span><br><span class="line">   partitions: NULL</span><br><span class="line">         type: ref</span><br><span class="line">possible_keys: idx_student_name</span><br><span class="line">          key: idx_student_name</span><br><span class="line">      key_len: 62</span><br><span class="line">          ref: const</span><br><span class="line">         rows: 1</span><br><span class="line">     filtered: 100.00</span><br><span class="line">        Extra: NULL</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>可以注意到，在对学生姓名创建索引后，刚才的查询已经不是全表扫描而是基于索引的查询，而且扫描的行只有唯一的一行，这显然大大的提升了查询的性能。MySQL中还允许创建前缀索引，即对索引字段的前N个字符创建索引，这样的话可以减少索引占用的空间（但节省了空间很有可能会浪费时间，<strong>时间和空间是不可调和的矛盾</strong>），如下所示。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> index idx_student_name_1 <span class="keyword">on</span> tb_student(stuname(<span class="number">1</span>));</span><br></pre></td></tr></table></figure>

<p>上面的索引相当于是根据学生姓名的第一个字来创建的索引，我们再看看SQL执行计划。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_student <span class="keyword">where</span> stuname<span class="operator">=</span><span class="string">&#x27;林震南&#x27;</span>\G</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*************************** 1. row ***************************</span><br><span class="line">           id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: tb_student</span><br><span class="line">   partitions: NULL</span><br><span class="line">         type: ref</span><br><span class="line">possible_keys: idx_student_name</span><br><span class="line">          key: idx_student_name</span><br><span class="line">      key_len: 5</span><br><span class="line">          ref: const</span><br><span class="line">         rows: 2</span><br><span class="line">     filtered: 100.00</span><br><span class="line">        Extra: Using where</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>不知道大家是否注意到，这一次扫描的行变成了2行，因为学生表中有两个姓“林”的学生，我们只用姓名的第一个字作为索引的话，在查询时通过索引就会找到这两行。</p>
<p>如果要删除索引，可以使用下面的SQL。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_student <span class="keyword">drop</span> index idx_student_name;</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> index idx_student_name <span class="keyword">on</span> tb_student;</span><br></pre></td></tr></table></figure>

<p>我们简单的为大家总结一下索引的设计原则：</p>
<ol>
<li><strong>最适合</strong>索引的列是出现在<strong>WHERE子句</strong>和连接子句中的列。</li>
<li>索引列的基数越大（取值多重复值少），索引的效果就越好。</li>
<li>使用<strong>前缀索引</strong>可以减少索引占用的空间，内存中可以缓存更多的索引。</li>
<li><strong>索引不是越多越好</strong>，虽然索引加速了读操作（查询），但是写操作（增、删、改）都会变得更慢，因为数据的变化会导致索引的更新，就如同书籍章节的增删需要更新目录一样。</li>
<li>使用InnoDB存储引擎时，表的普通索引都会保存主键的值，所以<strong>主键要尽可能选择较短的数据类型</strong>，这样可以有效的减少索引占用的空间，利用提升索引的缓存效果。</li>
</ol>
<p>最后，还有一点需要说明，InnoDB使用的B-tree索引，数值类型的列除了等值判断时索引会生效之外，使用&gt;、&lt;、&gt;=、&lt;=、BETWEEN…AND… 、&lt;&gt;时，索引仍然生效；对于字符串类型的列，如果使用不以通配符开头的模糊查询，索引也是起作用的，但是其他的情况会导致索引失效，这就意味着很有可能会做全表查询。</p>
<h3 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h3><p>视图是关系型数据库中将一组查询指令构成的结果集组合成可查询的数据表的对象。简单的说，视图就是虚拟的表，但与数据表不同的是，数据表是一种实体结构，而视图是一种虚拟结构，你也可以将视图理解为保存在数据库中被赋予名字的SQL语句。</p>
<p>使用视图可以获得以下好处：</p>
<ol>
<li>可以将实体数据表隐藏起来，让外部程序无法得知实际的数据结构，让访问者可以使用表的组成部分而不是整个表，降低数据库被攻击的风险。</li>
<li>在大多数的情况下视图是只读的（更新视图的操作通常都有诸多的限制），外部程序无法直接透过视图修改数据。</li>
<li>重用SQL语句，将高度复杂的查询包装在视图表中，直接访问该视图即可取出需要的数据；也可以将视图视为数据表进行连接查询。</li>
<li>视图可以返回与实体数据表不同格式的数据，</li>
</ol>
<p>创建视图。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> vw_avg_score </span><br><span class="line"><span class="keyword">as</span> </span><br><span class="line">    <span class="keyword">select</span> sid, round(<span class="built_in">avg</span>(score), <span class="number">1</span>) <span class="keyword">as</span> avgscore </span><br><span class="line">    <span class="keyword">from</span> tb_record <span class="keyword">group</span> <span class="keyword">by</span> sid;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> vw_student_score </span><br><span class="line"><span class="keyword">as</span> </span><br><span class="line">    <span class="keyword">select</span> stuname, avgscore </span><br><span class="line">    <span class="keyword">from</span> tb_student, vw_avg_score </span><br><span class="line">    <span class="keyword">where</span> stuid<span class="operator">=</span>sid;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>提示</strong>：因为视图不包含数据，所以每次使用视图时，都必须执行查询以获得数据，如果你使用了连接查询、嵌套查询创建了较为复杂的视图，你可能会发现查询性能下降得很厉害。因此，在使用复杂的视图前，应该进行测试以确保其性能能够满足应用的需求。</p>
</blockquote>
<p>使用视图。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> stuname, avgscore <span class="keyword">from</span> vw_student_score <span class="keyword">order</span> <span class="keyword">by</span> avgscore <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+--------------+----------+</span><br><span class="line">| stuname      | avgscore |</span><br><span class="line">+--------------+----------+</span><br><span class="line">| 杨过         |     95.6 |</span><br><span class="line">| 任我行       |     53.5 |</span><br><span class="line">| 王语嫣       |     84.3 |</span><br><span class="line">| 纪嫣然       |     73.8 |</span><br><span class="line">| 岳不群       |     78.0 |</span><br><span class="line">| 东方不败     |     88.0 |</span><br><span class="line">| 项少龙       |     92.0 |</span><br><span class="line">+--------------+----------+</span><br></pre></td></tr></table></figure>

<p>既然视图是一张虚拟的表，那么视图的中的数据可以更新吗？视图的可更新性要视具体情况而定，以下类型的视图是不能更新的：</p>
<ol>
<li>使用了聚合函数（SUM、MIN、MAX、AVG、COUNT等）、DISTINCT、GROUP BY、HAVING、UNION或者UNION ALL的视图。</li>
<li>SELECT中包含了子查询的视图。</li>
<li>FROM子句中包含了一个不能更新的视图的视图。</li>
<li>WHERE子句的子查询引用了FROM子句中的表的视图。</li>
</ol>
<p>删除视图。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> vw_student_score;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：如果希望更新视图，可以先用上面的命令删除视图，也可以通过<code>create or replace view</code>来更新视图。</p>
</blockquote>
<p>视图的规则和限制。</p>
<ol>
<li>视图可以嵌套，可以利用从其他视图中检索的数据来构造一个新的视图。视图也可以和表一起使用。</li>
<li>创建视图时可以使用<code>order by</code>子句，但如果从视图中检索数据时也使用了<code>order by</code>，那么该视图中原先的<code>order by</code>会被覆盖。</li>
<li>视图无法使用索引，也不会激发触发器（实际开发中因为性能等各方面的考虑，通常不建议使用触发器，所以我们也不对这个概念进行介绍）的执行。</li>
</ol>
<h3 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h3><p>过程（又称存储过程）是事先编译好存储在数据库中的一组SQL的集合，调用过程可以简化应用程序开发人员的工作，减少与数据库服务器之间的通信，对于提升数据操作的性能也是有帮助的。其实迄今为止，我们使用的SQL语句都是针对一个或多个表的单条语句，但在实际开发中经常会遇到某个操作需要多条SQL语句才能完成的情况。例如，电商网站在受理用户订单时，需要做以下一系列的处理。 </p>
<ol>
<li>通过查询来核对库存中是否有对应的物品以及库存是否充足。</li>
<li>如果库存有物品，需要锁定库存以确保这些物品不再卖给别人， 并且要减少可用的物品数量以反映正确的库存量。</li>
<li>如果库存不足，可能需要进一步与供应商进行交互或者至少产生一条系统提示消息。 </li>
<li>不管受理订单是否成功，都需要产生流水记录，而且需要给对应的用户产生一条通知信息。 </li>
</ol>
<p>我们可以通过过程将复杂的操作封装起来，这样不仅有助于保证数据的一致性，而且将来如果业务发生了变动，只需要调整和修改过程即可。对于调用过程的用户来说，过程并没有暴露数据表的细节，而且执行过程比一条条的执行一组SQL要快得多。</p>
<p>下面的过程实现了查询某门课程的最高分、最低分和平均分。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> if <span class="keyword">exists</span> sp_score_by_cid;</span><br><span class="line"></span><br><span class="line">delimiter $$</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> sp_score_by_cid(</span><br><span class="line">	courseId <span class="type">int</span>, </span><br><span class="line">	<span class="keyword">out</span> maxScore <span class="type">decimal</span>(<span class="number">4</span>,<span class="number">1</span>), </span><br><span class="line">	<span class="keyword">out</span> minScore <span class="type">decimal</span>(<span class="number">4</span>,<span class="number">1</span>),</span><br><span class="line">	<span class="keyword">out</span> avgScore <span class="type">decimal</span>(<span class="number">4</span>,<span class="number">1</span>)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">select</span> <span class="built_in">max</span>(score) <span class="keyword">into</span> maxScore <span class="keyword">from</span> tb_record </span><br><span class="line">		<span class="keyword">where</span> cid<span class="operator">=</span>courseId;</span><br><span class="line">	<span class="keyword">select</span> <span class="built_in">min</span>(score) <span class="keyword">into</span> minScore <span class="keyword">from</span> tb_record </span><br><span class="line">		<span class="keyword">where</span> cid<span class="operator">=</span>courseId;</span><br><span class="line">	<span class="keyword">select</span> <span class="built_in">avg</span>(score) <span class="keyword">into</span> avgScore <span class="keyword">from</span> tb_record </span><br><span class="line">		<span class="keyword">where</span> cid<span class="operator">=</span>courseId;</span><br><span class="line"><span class="keyword">end</span> $$</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">call</span> sp_score_by_cid(<span class="number">1111</span>, <span class="variable">@a</span>, <span class="variable">@b</span>, <span class="variable">@c</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="variable">@a</span>, <span class="variable">@b</span>, <span class="variable">@c</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：在定义过程时，因为可能需要书写多条SQL，而分隔这些SQL需要使用分号作为分隔符，如果这个时候，仍然用分号表示整段代码结束，那么定义过程的SQL就会出现错误，所以上面我们用<code>delimiter $$</code>将整段代码结束的标记定义为<code>$$</code>，那么代码中的分号将不再表示整段代码的结束，整段代码只会在遇到<code>end $$</code>时才会执行。在定义完过程后，通过<code>delimiter ;</code>将结束符重新改回成分号（恢复现场）。</p>
</blockquote>
<p>上面定义的过程有四个参数，其中第一个参数是输入参数，代表课程的编号，后面的参数都是输出参数，因为过程不能定义返回值，只能通过输出参数将执行结果带出，定义输出参数的关键字是<code>out</code>，默认情况下参数都是输入参数。</p>
<p>调用过程。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> sp_score_by_cid(<span class="number">1111</span>, <span class="variable">@a</span>, <span class="variable">@b</span>, <span class="variable">@c</span>);</span><br></pre></td></tr></table></figure>

<p>获取输出参数的值。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="variable">@a</span> <span class="keyword">as</span> 最高分, <span class="variable">@b</span> <span class="keyword">as</span> 最低分, <span class="variable">@c</span> <span class="keyword">as</span> 平均分;</span><br></pre></td></tr></table></figure>

<p>删除过程。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> sp_score_by_cid;</span><br></pre></td></tr></table></figure>

<p>在过程中，我们可以定义变量、条件，可以使用分支和循环语句，可以通过游标操作查询结果，还可以使用事件调度器，这些内容我们暂时不在此处进行介绍。虽然我们说了很多过程的好处，但是在实际开发中，如果过度的使用过程并将大量复杂的运算放到过程中，必然会导致占用数据库服务器的CPU资源，造成数据库服务器承受巨大的压力。为此，我们一般会将复杂的运算和处理交给应用服务器，因为很容易部署多台应用服务器来分摊这些压力。</p>
<h3 id="MySQL8窗口函数"><a href="#MySQL8窗口函数" class="headerlink" title="MySQL8窗口函数"></a>MySQL8窗口函数</h3><p>MySQL从8.0开始支持窗口函数，大多数商业数据库和一些开源数据库早已提供了对窗口函数的支持，有的也将其称之为OLAP（联机分析和处理）函数，听名字就知道跟统计和分析相关。为了帮助大家理解窗口函数，我们先说说窗口的概念。</p>
<p>窗口可以理解为记录的集合，窗口函数也就是在满足某种条件的记录集合上执行的特殊函数，对于每条记录都要在此窗口内执行函数。窗口函数和我们上面讲到的聚合函数比较容易混淆，二者的区别主要在于聚合函数是将多条记录聚合为一条记录，窗口函数是每条记录都会执行，执行后记录条数不会变。窗口函数不仅仅是几个函数，它是一套完整的语法，函数只是该语法的一部分，基本语法如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span>窗口函数<span class="operator">&gt;</span> <span class="keyword">over</span> (<span class="keyword">partition</span> <span class="keyword">by</span> <span class="operator">&lt;</span>用于分组的列名<span class="operator">&gt;</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="operator">&lt;</span>用户排序的列名<span class="operator">&gt;</span>)</span><br></pre></td></tr></table></figure>

<p>上面语法中，窗口函数的位置可以放以下两种函数：</p>
<ol>
<li>专用窗口函数，包括：<code>rank</code>、<code>dense_rank</code>和<code>row_number</code>等。</li>
<li>聚合函数，包括：<code>sum</code>、<code>avg</code>、<code>max</code>、<code>min</code>和<code>count</code>等。</li>
</ol>
<p>（按照上课讲的内容自行补充）</p>
<blockquote>
<p><strong>参考链接</strong>：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/92654574">https://zhuanlan.zhihu.com/p/92654574</a>。</p>
</blockquote>
<h3 id="其他内容"><a href="#其他内容" class="headerlink" title="其他内容"></a>其他内容</h3><h4 id="范式理论"><a href="#范式理论" class="headerlink" title="范式理论"></a>范式理论</h4><p>范式理论是设计关系型数据库中二维表的指导思想。</p>
<ol>
<li>第一范式：数据表的每个列的值域都是由原子值组成的，不能够再分割。</li>
<li>第二范式：数据表里的所有数据都要和该数据表的键（主键与候选键）有完全依赖关系。</li>
<li>第三范式：所有非键属性都只和候选键有相关性，也就是说非键属性之间应该是独立无关的。</li>
</ol>
<h4 id="数据完整性"><a href="#数据完整性" class="headerlink" title="数据完整性"></a>数据完整性</h4><ol>
<li><p>实体完整性 - 每个实体都是独一无二的</p>
<ul>
<li>主键（primary key） / 唯一约束 / 唯一索引（unique）</li>
</ul>
</li>
<li><p>引用完整性（参照完整性）- 关系中不允许引用不存在的实体</p>
<ul>
<li>外键（foreign key）</li>
</ul>
</li>
<li><p>域完整性 - 数据是有效的</p>
<ul>
<li><p>数据类型及长度</p>
</li>
<li><p>非空约束（not null）</p>
</li>
<li><p>默认值约束（default）</p>
</li>
<li><p>检查约束（check）</p>
<blockquote>
<p><strong>说明</strong>：在MySQL数据库中，检查约束并不起作用。</p>
</blockquote>
</li>
</ul>
</li>
</ol>
<h4 id="数据一致性"><a href="#数据一致性" class="headerlink" title="数据一致性"></a>数据一致性</h4><ol>
<li><p>事务：一系列对数据库进行读/写的操作，这些操作要么全都成功，要么全都失败。</p>
</li>
<li><p>事务的ACID特性</p>
<ul>
<li>原子性：事务作为一个整体被执行，包含在其中的对数据库的操作要么全部被执行，要么都不执行</li>
<li>一致性：事务应确保数据库的状态从一个一致状态转变为另一个一致状态</li>
<li>隔离性：多个事务并发执行时，一个事务的执行不应影响其他事务的执行</li>
<li>持久性：已被提交的事务对数据库的修改应该永久保存在数据库中</li>
</ul>
</li>
<li><p>MySQL中的事务操作</p>
<ul>
<li><p>开启事务环境</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">start</span> transaction</span><br></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">begin</span></span><br></pre></td></tr></table></figure></li>
<li><p>提交事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">commit</span></span><br></pre></td></tr></table></figure></li>
<li><p>回滚事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">rollback</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<p>大家应该能够想到，关于MySQL的知识肯定远远不止上面列出的这些，比如MySQL的性能优化、管理和维护MySQL的相关工具、MySQL数据的备份和恢复、监控MySQL、部署高可用架构等问题我们在这里都没有进行讨论。当然，这些内容也都是跟项目开发密切相关的，我们就留到有需要的时候再进行讲解。</p>
<h3 id="Python数据库编程"><a href="#Python数据库编程" class="headerlink" title="Python数据库编程"></a>Python数据库编程</h3><p>我们用如下所示的数据库来演示在Python中如何访问MySQL数据库。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database if <span class="keyword">exists</span> hrs;</span><br><span class="line"><span class="keyword">create</span> database hrs <span class="keyword">default</span> charset utf8;</span><br><span class="line"></span><br><span class="line">use hrs;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> tb_emp;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> tb_dept;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_dept</span><br><span class="line">(</span><br><span class="line">dno   <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;编号&#x27;</span>,</span><br><span class="line">dname <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;名称&#x27;</span>,</span><br><span class="line">dloc  <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;所在地&#x27;</span>,</span><br><span class="line"><span class="keyword">primary</span> key (dno)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_dept <span class="keyword">values</span> </span><br><span class="line">	(<span class="number">10</span>, <span class="string">&#x27;会计部&#x27;</span>, <span class="string">&#x27;北京&#x27;</span>),</span><br><span class="line">	(<span class="number">20</span>, <span class="string">&#x27;研发部&#x27;</span>, <span class="string">&#x27;成都&#x27;</span>),</span><br><span class="line">	(<span class="number">30</span>, <span class="string">&#x27;销售部&#x27;</span>, <span class="string">&#x27;重庆&#x27;</span>),</span><br><span class="line">	(<span class="number">40</span>, <span class="string">&#x27;运维部&#x27;</span>, <span class="string">&#x27;深圳&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_emp</span><br><span class="line">(</span><br><span class="line">eno   <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;员工编号&#x27;</span>,</span><br><span class="line">ename <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;员工姓名&#x27;</span>,</span><br><span class="line">job   <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;员工职位&#x27;</span>,</span><br><span class="line">mgr   <span class="type">int</span> comment <span class="string">&#x27;主管编号&#x27;</span>,</span><br><span class="line">sal   <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;员工月薪&#x27;</span>,</span><br><span class="line">comm  <span class="type">int</span> comment <span class="string">&#x27;每月补贴&#x27;</span>,</span><br><span class="line">dno   <span class="type">int</span> comment <span class="string">&#x27;所在部门编号&#x27;</span>,</span><br><span class="line"><span class="keyword">primary</span> key (eno)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_emp <span class="keyword">add</span> <span class="keyword">constraint</span> fk_emp_dno <span class="keyword">foreign</span> key (dno) <span class="keyword">references</span> tb_dept (dno);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_emp <span class="keyword">values</span> </span><br><span class="line">	(<span class="number">7800</span>, <span class="string">&#x27;张三丰&#x27;</span>, <span class="string">&#x27;总裁&#x27;</span>, <span class="keyword">null</span>, <span class="number">9000</span>, <span class="number">1200</span>, <span class="number">20</span>),</span><br><span class="line">	(<span class="number">2056</span>, <span class="string">&#x27;乔峰&#x27;</span>, <span class="string">&#x27;分析师&#x27;</span>, <span class="number">7800</span>, <span class="number">5000</span>, <span class="number">1500</span>, <span class="number">20</span>),</span><br><span class="line">	(<span class="number">3088</span>, <span class="string">&#x27;李莫愁&#x27;</span>, <span class="string">&#x27;设计师&#x27;</span>, <span class="number">2056</span>, <span class="number">3500</span>, <span class="number">800</span>, <span class="number">20</span>),</span><br><span class="line">	(<span class="number">3211</span>, <span class="string">&#x27;张无忌&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">2056</span>, <span class="number">3200</span>, <span class="keyword">null</span>, <span class="number">20</span>),</span><br><span class="line">	(<span class="number">3233</span>, <span class="string">&#x27;丘处机&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">2056</span>, <span class="number">3400</span>, <span class="keyword">null</span>, <span class="number">20</span>),</span><br><span class="line">	(<span class="number">3251</span>, <span class="string">&#x27;张翠山&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">2056</span>, <span class="number">4000</span>, <span class="keyword">null</span>, <span class="number">20</span>),</span><br><span class="line">	(<span class="number">5566</span>, <span class="string">&#x27;宋远桥&#x27;</span>, <span class="string">&#x27;会计师&#x27;</span>, <span class="number">7800</span>, <span class="number">4000</span>, <span class="number">1000</span>, <span class="number">10</span>),</span><br><span class="line">	(<span class="number">5234</span>, <span class="string">&#x27;郭靖&#x27;</span>, <span class="string">&#x27;出纳&#x27;</span>, <span class="number">5566</span>, <span class="number">2000</span>, <span class="keyword">null</span>, <span class="number">10</span>),</span><br><span class="line">	(<span class="number">3344</span>, <span class="string">&#x27;黄蓉&#x27;</span>, <span class="string">&#x27;销售主管&#x27;</span>, <span class="number">7800</span>, <span class="number">3000</span>, <span class="number">800</span>, <span class="number">30</span>),</span><br><span class="line">	(<span class="number">1359</span>, <span class="string">&#x27;胡一刀&#x27;</span>, <span class="string">&#x27;销售员&#x27;</span>, <span class="number">3344</span>, <span class="number">1800</span>, <span class="number">200</span>, <span class="number">30</span>),</span><br><span class="line">	(<span class="number">4466</span>, <span class="string">&#x27;苗人凤&#x27;</span>, <span class="string">&#x27;销售员&#x27;</span>, <span class="number">3344</span>, <span class="number">2500</span>, <span class="keyword">null</span>, <span class="number">30</span>),</span><br><span class="line">	(<span class="number">3244</span>, <span class="string">&#x27;欧阳锋&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">3088</span>, <span class="number">3200</span>, <span class="keyword">null</span>, <span class="number">20</span>),</span><br><span class="line">	(<span class="number">3577</span>, <span class="string">&#x27;杨过&#x27;</span>, <span class="string">&#x27;会计&#x27;</span>, <span class="number">5566</span>, <span class="number">2200</span>, <span class="keyword">null</span>, <span class="number">10</span>),</span><br><span class="line">	(<span class="number">3588</span>, <span class="string">&#x27;朱九真&#x27;</span>, <span class="string">&#x27;会计&#x27;</span>, <span class="number">5566</span>, <span class="number">2500</span>, <span class="keyword">null</span>, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>在Python 3中，我们通常使用纯Python的三方库PyMySQL来访问MySQL数据库，它应该是目前Python操作MySQL数据库最好的选择。</p>
<ol>
<li><p>安装PyMySQL。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pymysql</span><br></pre></td></tr></table></figure></li>
<li><p>添加一个部门。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    no = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;编号: &#x27;</span>))</span><br><span class="line">    name = <span class="built_in">input</span>(<span class="string">&#x27;名字: &#x27;</span>)</span><br><span class="line">    loc = <span class="built_in">input</span>(<span class="string">&#x27;所在地: &#x27;</span>)</span><br><span class="line">    <span class="comment"># 1. 创建数据库连接对象</span></span><br><span class="line">    con = pymysql.connect(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">3306</span>,</span><br><span class="line">                          database=<span class="string">&#x27;hrs&#x27;</span>, charset=<span class="string">&#x27;utf8&#x27;</span>,</span><br><span class="line">                          user=<span class="string">&#x27;yourname&#x27;</span>, password=<span class="string">&#x27;yourpass&#x27;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 2. 通过连接对象获取游标</span></span><br><span class="line">        <span class="keyword">with</span> con.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">            <span class="comment"># 3. 通过游标执行SQL并获得执行结果</span></span><br><span class="line">            result = cursor.execute(</span><br><span class="line">                <span class="string">&#x27;insert into tb_dept values (%s, %s, %s)&#x27;</span>,</span><br><span class="line">                (no, name, loc)</span><br><span class="line">            )</span><br><span class="line">        <span class="keyword">if</span> result == <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;添加成功!&#x27;</span>)</span><br><span class="line">        <span class="comment"># 4. 操作成功提交事务</span></span><br><span class="line">        con.commit()</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="comment"># 5. 关闭连接释放资源</span></span><br><span class="line">        con.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></li>
<li><p>删除一个部门。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    no = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;编号: &#x27;</span>))</span><br><span class="line">    con = pymysql.connect(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">3306</span>,</span><br><span class="line">                          database=<span class="string">&#x27;hrs&#x27;</span>, charset=<span class="string">&#x27;utf8&#x27;</span>,</span><br><span class="line">                          user=<span class="string">&#x27;yourname&#x27;</span>, password=<span class="string">&#x27;yourpass&#x27;</span>,</span><br><span class="line">                          autocommit=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> con.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">            result = cursor.execute(</span><br><span class="line">                <span class="string">&#x27;delete from tb_dept where dno=%s&#x27;</span>,</span><br><span class="line">                (no, )</span><br><span class="line">            )</span><br><span class="line">        <span class="keyword">if</span> result == <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;删除成功!&#x27;</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        con.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：如果不希望每次SQL操作之后手动提交或回滚事务，可以像上面的代码那样，在创建连接的时候多加一个名为<code>autocommit</code>的参数并将它的值设置为<code>True</code>，表示每次执行SQL之后自动提交。如果程序中不需要使用事务环境也不希望手动的提交或回滚就可以这么做。</p>
</blockquote>
</li>
<li><p>更新一个部门。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    no = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;编号: &#x27;</span>))</span><br><span class="line">    name = <span class="built_in">input</span>(<span class="string">&#x27;名字: &#x27;</span>)</span><br><span class="line">    loc = <span class="built_in">input</span>(<span class="string">&#x27;所在地: &#x27;</span>)</span><br><span class="line">    con = pymysql.connect(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">3306</span>,</span><br><span class="line">                          database=<span class="string">&#x27;hrs&#x27;</span>, charset=<span class="string">&#x27;utf8&#x27;</span>,</span><br><span class="line">                          user=<span class="string">&#x27;yourname&#x27;</span>, password=<span class="string">&#x27;yourpass&#x27;</span>,</span><br><span class="line">                          autocommit=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> con.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">            result = cursor.execute(</span><br><span class="line">                <span class="string">&#x27;update tb_dept set dname=%s, dloc=%s where dno=%s&#x27;</span>,</span><br><span class="line">                (name, loc, no)</span><br><span class="line">            )</span><br><span class="line">        <span class="keyword">if</span> result == <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;更新成功!&#x27;</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        con.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></li>
<li><p>查询所有部门。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    con = pymysql.connect(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">3306</span>,</span><br><span class="line">                          database=<span class="string">&#x27;hrs&#x27;</span>, charset=<span class="string">&#x27;utf8&#x27;</span>,</span><br><span class="line">                          user=<span class="string">&#x27;yourname&#x27;</span>, password=<span class="string">&#x27;yourpass&#x27;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> con.cursor(cursor=DictCursor) <span class="keyword">as</span> cursor:</span><br><span class="line">            cursor.execute(<span class="string">&#x27;select dno as no, dname as name, dloc as loc from tb_dept&#x27;</span>)</span><br><span class="line">            results = cursor.fetchall()</span><br><span class="line">            <span class="built_in">print</span>(results)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;编号\t名称\t\t所在地&#x27;</span>)</span><br><span class="line">            <span class="keyword">for</span> dept <span class="keyword">in</span> results:</span><br><span class="line">                <span class="built_in">print</span>(dept[<span class="string">&#x27;no&#x27;</span>], end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">                <span class="built_in">print</span>(dept[<span class="string">&#x27;name&#x27;</span>], end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">                <span class="built_in">print</span>(dept[<span class="string">&#x27;loc&#x27;</span>])</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        con.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></li>
<li><p>分页查询员工信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Emp</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, no, name, job, sal</span>):</span></span><br><span class="line">        self.no = no</span><br><span class="line">        self.name = name</span><br><span class="line">        self.job = job</span><br><span class="line">        self.sal = sal</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;\n编号：<span class="subst">&#123;self.no&#125;</span>\n姓名：<span class="subst">&#123;self.name&#125;</span>\n职位：<span class="subst">&#123;self.job&#125;</span>\n月薪：<span class="subst">&#123;self.sal&#125;</span>\n&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    page = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;页码: &#x27;</span>))</span><br><span class="line">    size = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;大小: &#x27;</span>))</span><br><span class="line">    con = pymysql.connect(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">3306</span>,</span><br><span class="line">                          database=<span class="string">&#x27;hrs&#x27;</span>, charset=<span class="string">&#x27;utf8&#x27;</span>,</span><br><span class="line">                          user=<span class="string">&#x27;yourname&#x27;</span>, password=<span class="string">&#x27;yourpass&#x27;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> con.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">            cursor.execute(</span><br><span class="line">                <span class="string">&#x27;select eno as no, ename as name, job, sal from tb_emp limit %s,%s&#x27;</span>,</span><br><span class="line">                ((page - <span class="number">1</span>) * size, size)</span><br><span class="line">            )</span><br><span class="line">            <span class="keyword">for</span> emp_tuple <span class="keyword">in</span> cursor.fetchall():</span><br><span class="line">                emp = Emp(*emp_tuple)</span><br><span class="line">                <span class="built_in">print</span>(emp)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        con.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yolukami.com/2021/10/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/" data-id="ckvuq2l1i00036son4csh6smv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-数据分析流程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/09/13/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/" class="article-date">
  <time datetime="2021-09-12T16:00:00.000Z" itemprop="datePublished">2021-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/09/13/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/">数据分析流程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="数据分析的一般流程"><a href="#数据分析的一般流程" class="headerlink" title="数据分析的一般流程"></a>数据分析的一般流程</h3><p>1.提取数据（筛选）</p>
<ul>
<li>布尔索引</li>
<li><code>query()</code>：相当于布尔索引</li>
<li><code>drop()</code>：删除指定的行或列</li>
<li><code>rename()</code>：重命名行或列索引</li>
<li><code>reset_index()</code>：重制索引（将索引变成普通列）</li>
<li><code>set_index()</code>：设置索引（将一个列或多个列指定为索引）</li>
<li><code>reindex()</code>：调整行或列索引的顺序（还可以做花式索引）</li>
</ul>
<p>2.整合和重塑</p>
<ul>
<li><code>merge()</code>：实现两个DataFrame对象的内连接或外连接（适用于两张表有关联）。</li>
<li><code>concat()</code>：将两个或多个DataFrame的数据拼接到一起（适用于多张表结构一致）。</li>
</ul>
<p>3.数据清洗（缺失值、重复值、异常值）</p>
<ul>
<li>缺失值：<ul>
<li><code>dropna()</code>：删除空值</li>
<li><code>fillna()</code>：填充空值 &lt;— 均值、中位数、众数</li>
<li><code>isnull()</code> / <code>notnull()</code>：判断空值</li>
</ul>
</li>
<li>重复值：<ul>
<li><code>duplication()</code>：判断是否重复</li>
<li><code>drop_duplication</code>：删除重复值</li>
</ul>
</li>
<li>异常值：<ul>
<li>异常值 / 极端值 / 离群值</li>
<li><code>drop()</code>：删除</li>
<li><code>replace()</code>：替换</li>
</ul>
</li>
<li>预处理：<ul>
<li><code>apply()</code>：将函数作用到数据上，需要指定在哪个轴上执行</li>
<li><code>transform</code>：将（多个）函数作用到数据上</li>
<li><code>applymap()</code>：对每个元素使用指定的函数进行映射，相当于<code>Series</code>上的<code>map()</code>方法 —-&gt; elementwise</li>
</ul>
</li>
</ul>
<blockquote>
<p>注意：这三个方法都是高阶函数的用法，<code>apply()</code>方法接受的函数，可以是带归约性质的函数（聚合函数），也可以是没有归约性质的函数。<code>transform()</code>方法接受的函数不能是带归约功能的函数，只能是对数据做变换的函数，简单的说就是函数的执行不会减少数据的量。</p>
</blockquote>
<p>4.数据透视（排序、分组、聚合）</p>
<ul>
<li>透视表：根据A统计B（根据A列对数据进行分组，再对B列上聚合函数）</li>
<li><code>groupby()</code>  —&gt;  <code>sum()</code> /<code>mean()</code>/ <code>max()</code> /…..</li>
<li><code>pivot_table()</code>   —&gt;  专门生成透视表的函数</li>
<li><code>cut()</code> —&gt;  数据离散化（分箱）</li>
</ul>
<p>5.数据可视化（统计图表）</p>
<p>6.数据的洞察（发现问题给出建议）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yolukami.com/2021/09/13/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/" data-id="ckv6kay050004tconbol6bdbf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python算法入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/09/13/python%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/" class="article-date">
  <time datetime="2021-09-12T16:00:00.000Z" itemprop="datePublished">2021-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/">Python算法入门</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/09/13/python%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/">基础排序算法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><p>​        该算法是不断将列表中相邻的两个数中比较大的那个数往右移动，类似于冒泡，将比较大的那个数往上面“冒”</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubble_sort</span>(<span class="params">li</span>):</span></span><br><span class="line">    <span class="comment"># 因为排到第n-1趟后只剩下一个数且这个数必定是最大(最小数)，所以可减去最后一次遍历</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(i) - <span class="number">1</span>):</span><br><span class="line">        exchange = <span class="literal">False</span> <span class="comment"># 设置标志防止多余排序</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(li) - i -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> li[j] &gt; li[j + <span class="number">1</span>]:</span><br><span class="line">                li[j], li[j + <span class="number">1</span>] = li[j + <span class="number">1</span>], li[j]</span><br><span class="line">                exchange = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> exchange:</span><br><span class="line">                <span class="keyword">return</span></span><br></pre></td></tr></table></figure>

<h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><p>​        该算法是找出列表中最小的元素，放在列表开头(已排好序)，然后将剩余的元素看成一个列表，重复进行前面的操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">select_sort</span>(<span class="params">li</span>):</span></span><br><span class="line">    <span class="comment"># 和冒泡算法一样，在最后一趟就只剩下一个最大数(最小数),所以减少一趟遍历</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(li) - <span class="number">1</span>):</span><br><span class="line">        min_ind = i</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, <span class="built_in">len</span>(li)):</span><br><span class="line">            <span class="keyword">if</span> li[min_ind] &gt; li[j]:</span><br><span class="line">                min_ind = j</span><br><span class="line">        li[i], li[min_ind] = li[min_ind], li[i]</span><br></pre></td></tr></table></figure>

<h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h2><p>​        该算法类似于插扑克牌，我们斗地主的时候都习惯将手中的牌排好顺序，然后将摸到的牌也顺序插入到手中，是一个原理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_sort</span>(<span class="params">li</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(li)): <span class="comment"># i 表示摸到的牌的下标</span></span><br><span class="line">        tmp = li[i]</span><br><span class="line">        j = i - <span class="number">1</span> <span class="comment"># j表示手中已排好序的牌中的最后一张</span></span><br><span class="line">        <span class="keyword">while</span> j &gt;= <span class="number">0</span> <span class="keyword">and</span> li[j] &gt; tmp: <span class="comment"># 手中的牌比摸到的牌大，就向右移一位</span></span><br><span class="line">            li[j + <span class="number">1</span>] = li[j]</span><br><span class="line">            j -= <span class="number">1</span></span><br><span class="line">        li[j + <span class="number">1</span>] = tmp</span><br></pre></td></tr></table></figure>

<p>以上3个排序的时间复杂度最坏都是O(N²)，所以也被称为排序算法中的“LowB三人组”</p>
<h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><p>该算法的思想是取一个分界点，然后将列表分为两部分，左边一部分是小于这个分界点的数，右边一部分是大于这个分界点的数，然后再将左边和右边那部分 分别当作一个列表，再重复以上操作，直到每部分只有一个元素有序；</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">partition</span>(<span class="params">li, left, right</span>):</span></span><br><span class="line">    tmp = li[<span class="number">0</span>] <span class="comment"># 取列表第一个数作为分界点</span></span><br><span class="line">    <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">        <span class="comment"># 先从右边开始遍历，直到找到比分界点小的数</span></span><br><span class="line">        <span class="keyword">while</span> left &lt;= right <span class="keyword">and</span> li[right] &gt; tmp:</span><br><span class="line">            right -= <span class="number">1</span></span><br><span class="line">        <span class="comment"># 找到比分界点小的数后就放到left指针指向的位置(即放到分界点的左边)</span></span><br><span class="line">        li[left] = li[right]</span><br><span class="line">        <span class="comment"># 找到一个比分界点小的数后就从左边开始遍历，直到直到找到比分界点大的数</span></span><br><span class="line">        <span class="keyword">while</span> left &lt;= right <span class="keyword">and</span> li[left] &lt; tmp:</span><br><span class="line">            left += <span class="number">1</span></span><br><span class="line">        <span class="comment"># 找到比分界点小的数后就放到right指针指向的位置(即放到分界点的右边)</span></span><br><span class="line">        li[right] = li[left]</span><br><span class="line">    <span class="comment"># 最后将分界点放在left指向的位置</span></span><br><span class="line">    li[left] = tmp</span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quick_sort</span>(<span class="params">li, left, right</span>):</span></span><br><span class="line">    mid = partition(li, left, right)</span><br><span class="line">    <span class="comment"># 调用自身先对左边进行排序， 再对右边进行排序</span></span><br><span class="line">    quick_sort(li, left, mid - <span class="number">1</span>)</span><br><span class="line">    quick_sort(li, mid + <span class="number">1</span>, right)</span><br></pre></td></tr></table></figure>

<h2 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h2><p>该算法采用的也是递归思想，先将列表分为两部分，从两部分的起始位置开始比较遍历，较小(大)的一个就取出来放入一个新列表中，然后重复比较后面的数，将较小(大)的数放入列表中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span>(<span class="params">li, low, mid, high</span>):</span></span><br><span class="line">    i = low</span><br><span class="line">    j = mid + <span class="number">1</span></span><br><span class="line">    ltmp = []</span><br><span class="line">    <span class="keyword">while</span> i &lt;= mid <span class="keyword">and</span> j &lt;= high:</span><br><span class="line">        <span class="keyword">if</span> li[i] &lt; li[j]:</span><br><span class="line">            ltmp.append(li[i])</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            ltmp.append(li[j])</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="comment"># 将比较完后剩余列表中的数全部加入到ltmp列表中</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= mid:</span><br><span class="line">        ltmp.append(li[i])</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> j &lt;= high:</span><br><span class="line">        ltmp.append(li[j])</span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line">    li[low:high + <span class="number">1</span>] = ltmp</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span>(<span class="params">li, low, high</span>):</span></span><br><span class="line">    <span class="keyword">if</span> low &lt; high:</span><br><span class="line">        mid = (low + high) // <span class="number">2</span></span><br><span class="line">        merge_sort(li, low, mid)</span><br><span class="line">        merge_sort(li, mid + <span class="number">1</span>, high)</span><br><span class="line">        merge(li, low, mid, high)</span><br></pre></td></tr></table></figure>

<h2 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sift</span>(<span class="params">li, low, high</span>):</span></span><br><span class="line">    i = low</span><br><span class="line">    j = <span class="number">2</span> * i + <span class="number">1</span></span><br><span class="line">    tmp = li[low]</span><br><span class="line">    <span class="keyword">while</span> j &lt;= high:</span><br><span class="line">        <span class="keyword">if</span> j + <span class="number">1</span> &lt;= high <span class="keyword">and</span> li[j + <span class="number">1</span>] &gt; li[j]:</span><br><span class="line">            j = j + <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> li[j] &gt; tmp:</span><br><span class="line">            li[i] = li[j]</span><br><span class="line">            i = j</span><br><span class="line">            j = <span class="number">2</span> * i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            li[i] = tmp</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        li[i] = tmp</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">heap_sort</span>(<span class="params">li</span>):</span></span><br><span class="line">    n = <span class="built_in">len</span>(li)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>((n - <span class="number">2</span>) // <span class="number">2</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">        sift(li, i, n -<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">        li[<span class="number">0</span>], li[i] = li[i], li[<span class="number">0</span>]</span><br><span class="line">        sift(li, <span class="number">0</span>, i - <span class="number">1</span>)</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yolukami.com/2021/09/13/python%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/" data-id="ckv6kay050005tcong1kwg57p" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Python基础学习/Python基础学习（一）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/09/13/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/" class="article-date">
  <time datetime="2021-09-12T16:00:00.000Z" itemprop="datePublished">2021-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/">Python基础学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/09/13/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/">Python基础学习（一）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>开始学习Python，一门新的语言，接下来就是记录学习的过程，对学习的内容的一些总结：</p>
<p>[PyCharm环境的部分知识介绍](# 一、PyCharm环境的部分知识介绍)</p>
<p>[Python语法基础知识](# 二、Python语法基础知识)</p>
<p>[总结](# 三、总结)</p>
<p>PyCharm编译环境下：</p>
<h2 id="一、PyCharm环境的部分知识介绍"><a href="#一、PyCharm环境的部分知识介绍" class="headerlink" title="一、PyCharm环境的部分知识介绍"></a>一、PyCharm环境的部分知识介绍</h2><h3 id="1-常用快捷键"><a href="#1-常用快捷键" class="headerlink" title="1.常用快捷键"></a>1.常用快捷键</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ctr + /    -    添加/取消注释<span class="comment">#</span></span><br><span class="line">ctr + s    -    保存</span><br><span class="line">ctr + c    -    复制</span><br><span class="line">ctr + v    -    粘贴</span><br><span class="line">ctr + x    -    剪切</span><br><span class="line">ctr + z    -    撤销</span><br><span class="line">ctr + shift + z / ctr + y   -    反撤销</span><br><span class="line">shift + enter   -   换行，直接在下一行另起一行</span><br></pre></td></tr></table></figure>

<p>当然，作为一个正经的码农，在编译代码的同时注释也少不了</p>
<h3 id="2-注释"><a href="#2-注释" class="headerlink" title="2.注释"></a>2.注释</h3><p>注释是在代码中不会被编译执行的部分。其存在不会影响代码的运行。<br>注释是为了对代码进行注解和说明，增加程序的可读性；也可以让有效代码的功能消失</p>
<h5 id="1）单行注释：在需要注释内容的开头加’-‘号（规范格式为’-space‘）"><a href="#1）单行注释：在需要注释内容的开头加’-‘号（规范格式为’-space‘）" class="headerlink" title="1）单行注释：在需要注释内容的开头加’#‘号（规范格式为’# + space‘）"></a>1）单行注释：在需要注释内容的开头加’#‘号（规范格式为’# + space‘）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下面输出&#x27;Hello World!&#x27;语句（这是单行注释的一种方法）</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello World!&#x27;</span>)   <span class="comment">#在控制端打印’Hlleo World!‘(这是单行注释的第二种方法)</span></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713174018432.png" alt="image-20210713174018432"></p>
<h5 id="2）多行注释（前后用三个双引号（英文下的”））"><a href="#2）多行注释（前后用三个双引号（英文下的”））" class="headerlink" title="2）多行注释（前后用三个双引号（英文下的”））"></a>2）多行注释（前后用三个双引号（英文下的”））</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">下面输出</span></span><br><span class="line"><span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="string">语句</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello World!&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713174026946.png" alt="image-20210713174026946"></p>
<p>接下来就介绍Python的一些相关语法基础知识</p>
<h2 id="二、Python语法基础知识"><a href="#二、Python语法基础知识" class="headerlink" title="二、Python语法基础知识"></a>二、Python语法基础知识</h2><h3 id="1-语句"><a href="#1-语句" class="headerlink" title="1.语句"></a>1.语句</h3><p>一条有效代码就是一条语句</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello！&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>注意：<br>1）一般情况下，一条语句占一行，且一条语句结束后可以不加分号，但如果要在一行中写入两条语句则必须在前一条语句结束末尾后添加分号。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello，World！&#x27;</span>);<span class="built_in">print</span>(<span class="string">&#x27;Hello，Python&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713175049974.png" alt="image-20210713175049974"></p>
<p>2）一条语句的开头不能随便添加缩进符号（space/Tab）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print(&#x27;Python&#x27;) 错误示例(开头前添加了空格)</span></span><br></pre></td></tr></table></figure>

<h3 id="2-标识符和关键字"><a href="#2-标识符和关键字" class="headerlink" title="2.标识符和关键字"></a>2.标识符和关键字</h3><p>1）标识符（命名要求）：由英文字母、数字或者下划线组成，并且不能以数字作为开头（但Python3.0以后的版本规定标识符可以用中文定义，个人不建议这个）,还有就是不能和语言所规定的关键字相同（按理说可以，但用系统定义关键字定义新的标识符并且赋值后，关键字原来的功能会消失）<br>基本格式：变量名 = 数据（变量名和数据都由我们自己本身自己定义，关于数据后面会讲到）<br>例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">100</span>; a1 =<span class="number">23</span>; a_ = <span class="number">30</span>; __ = <span class="number">30</span></span><br><span class="line"><span class="comment"># 错误示例 a.b = 100</span></span><br><span class="line"><span class="comment"># 错误示例 1a = 300</span></span><br><span class="line">年龄 = <span class="number">100</span>（不建议）</span><br></pre></td></tr></table></figure>

<p>2）关键字   -     本身的存在就有特殊意义或者特殊功能的一些标识符</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [&#x27;False&#x27;, &#x27;None&#x27;, &#x27;True&#x27;, &#x27;__peg_parser__&#x27;, &#x27;and&#x27;, &#x27;as&#x27;,</span></span><br><span class="line"><span class="comment"># &#x27;assert&#x27;, &#x27;async&#x27;, &#x27;await&#x27;, &#x27;break&#x27;, &#x27;class&#x27;, &#x27;continue&#x27;,</span></span><br><span class="line"><span class="comment"># &#x27;def&#x27;, &#x27;del&#x27;, &#x27;elif&#x27;, &#x27;else&#x27;, &#x27;except&#x27;, &#x27;finally&#x27;, &#x27;for&#x27;,</span></span><br><span class="line"><span class="comment"># &#x27;from&#x27;, &#x27;global&#x27;, &#x27;if&#x27;, &#x27;import&#x27;, &#x27;in&#x27;, &#x27;is&#x27;, &#x27;lambda&#x27;,</span></span><br><span class="line"><span class="comment"># &#x27;nonlocal&#x27;, &#x27;not&#x27;, &#x27;or&#x27;, &#x27;pass&#x27;, &#x27;raise&#x27;, &#x27;return&#x27;, &#x27;try&#x27;,</span></span><br><span class="line"><span class="comment"># &#x27;while&#x27;, &#x27;with&#x27;, &#x27;yield&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>这里不需要强制把这些都记忆下来，可以用到哪个记哪个<br>可以在PyCharm中用这段代码查看有哪些关键字：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> keyword</span><br><span class="line"><span class="built_in">print</span>(keyword.kwlist)</span><br></pre></td></tr></table></figure>

<h3 id="3-常用的数据和数据类型"><a href="#3-常用的数据和数据类型" class="headerlink" title="3.常用的数据和数据类型"></a>3.常用的数据和数据类型</h3><h5 id="1）数字数据："><a href="#1）数字数据：" class="headerlink" title="1）数字数据："></a>1）数字数据：</h5><p>用来表示数值大小的数据，例如：年龄值、身高值、距离值、长度等。<br>在程序中表示数字数据的时候和数学中的数字的表示方法一致：18、+20、-30、                                      1.23、-3.5、3e4 等等。<br>数字数据对应的类型有三种：int(整型)、float(浮点型)、complex(复数)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(+<span class="number">18</span>)</span><br><span class="line"><span class="built_in">print</span>(-<span class="number">2.13</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">2e3</span>)</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713191316967.png" alt="image-20210713191316967"></p>
<h5 id="2）文本数据："><a href="#2）文本数据：" class="headerlink" title="2）文本数据："></a>2）文本数据：</h5><p>用文字来提供数据的数据，例如：姓名、公司名、学校名等等。<br>在程序中表示文字数据的时候需要加单引号或者双引号，例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;张三&#x27;</span>、<span class="string">&#x27;四川&#x27;</span>、<span class="string">&#x27;......&#x27;</span>、...</span><br></pre></td></tr></table></figure>

<p>文本数据所对应的类型只有一种，就是：str(字符串)</p>
<h5 id="3）布尔数据："><a href="#3）布尔数据：" class="headerlink" title="3）布尔数据："></a>3）布尔数据：</h5><p>在程序中用 ‘True’ 表示肯定、真。<br>用 ‘False’ 表示否定、假的数据。<br>一般都用来判断表达式的真或假</p>
<h5 id="4）其他常用的数据类型：list-列表-、dict-字典-、tuple-元组-、set-集合-、迭代器、生成器、function-函数-、自定义类型…"><a href="#4）其他常用的数据类型：list-列表-、dict-字典-、tuple-元组-、set-集合-、迭代器、生成器、function-函数-、自定义类型…" class="headerlink" title="4）其他常用的数据类型：list(列表)、dict(字典)、tuple(元组)、set(集合)、迭代器、生成器、function(函数)、自定义类型…."></a>4）其他常用的数据类型：list(列表)、dict(字典)、tuple(元组)、set(集合)、迭代器、生成器、function(函数)、自定义类型….</h5><h5 id="5）获取数据的类型（type函数）"><a href="#5）获取数据的类型（type函数）" class="headerlink" title="5）获取数据的类型（type函数）"></a>5）获取数据的类型（type函数）</h5><p>一般用type函数去获取数据类型，具体用法为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># type(数据)</span></span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">10</span>));<span class="built_in">print</span>(<span class="built_in">type</span>(<span class="string">&#x27;张三&#x27;</span>));<span class="built_in">print</span>(<span class="built_in">type</span>(<span class="literal">True</span>))</span><br></pre></td></tr></table></figure>

<p>得到控制台输出结果：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713191805158.png" alt="image-20210713191805158"></p>
<p>注：若是只写’type(数据)’而不用print输出则控制端不会有任何反应</p>
<h5 id="6）数据之间的转换"><a href="#6）数据之间的转换" class="headerlink" title="6）数据之间的转换"></a>6）数据之间的转换</h5><p>转换方法：类型名(数据)  —&gt;  将指定数据转换成指定类型的数据，例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">int</span>(<span class="number">3.14</span>));<span class="built_in">print</span>(<span class="built_in">int</span>(<span class="number">3.99</span>));<span class="built_in">print</span>(<span class="built_in">float</span>(<span class="number">8</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">int</span>(<span class="literal">True</span>));<span class="built_in">print</span>(<span class="built_in">int</span>(<span class="literal">False</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">int</span>(<span class="string">&#x27;123&#x27;</span>));<span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&#x27;123.456&#x27;</span>));<span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&#x27;23&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>控制台得到结果：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713192323704.png" alt="image-20210713192323704"></p>
<p>注意：不是所有的字符串都可以转换成数字，字符串去掉引号后是一个整数才可将这样的字符串转换成整型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print(int(&#x27;abc&#x27;))    错误示例！</span></span><br></pre></td></tr></table></figure>

<p>而去掉引号后只包含数字的都可以转换成浮点型。</p>
<h3 id="4-输入和输出函数"><a href="#4-输入和输出函数" class="headerlink" title="4.输入和输出函数"></a>4.输入和输出函数</h3><h4 id="1）输出函数"><a href="#1）输出函数" class="headerlink" title="1）输出函数:"></a>1）输出函数:</h4><p>print()函数  —&gt;将数据打印到控制台</p>
<h5 id="a-打印单个数据：print-数据-print-有结果的表达式"><a href="#a-打印单个数据：print-数据-print-有结果的表达式" class="headerlink" title="a. 打印单个数据：print(数据)  / print(有结果的表达式)"></a>a. 打印单个数据：print(数据)  / print(有结果的表达式)</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">56</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">56</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="number">100</span>+<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>控制台输出结果：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713193201495.png" alt="image-20210713193201495"></p>
<h5 id="b-同时打印多个数据：print-数据1-数据2-数据3-数据4"><a href="#b-同时打印多个数据：print-数据1-数据2-数据3-数据4" class="headerlink" title="b. 同时打印多个数据：print(数据1, 数据2, 数据3, 数据4)"></a>b. 同时打印多个数据：print(数据1, 数据2, 数据3, 数据4)</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">100</span>, <span class="number">200</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">12.5</span>, <span class="string">&#x27;你好！&#x27;</span>, <span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span>+<span class="number">20</span>, <span class="number">100</span>, <span class="built_in">type</span>(<span class="number">12.5</span>))</span><br></pre></td></tr></table></figure>

<p>控制台输出结果：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713193343075.png" alt="image-20210713193343075"></p>
<h5 id="c-定制结尾符号"><a href="#c-定制结尾符号" class="headerlink" title="c. 定制结尾符号"></a>c. 定制结尾符号</h5><p>用print打印的内容在末尾都会加上一个换行符号：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello World!&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713193826708.png" alt="image-20210713193826708"></p>
<p>其实每一个print都有一个end作为它的一个参数(代码中未显示)，其默认值为换行符’\n’，当print打印完所有的数据后会自动打印end的值。在知道了这个原理后，其实我们自己也可以根据自己想法更改end的值,但end赋值必须放在所有数据的后面，也就是括号中内容的末尾。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">100</span>, end=<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">200</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;abc&#x27;</span>, <span class="number">200</span>, end=<span class="string">&#x27;。\n&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713194323209.png" alt="image-20210713194323209"></p>
<h5 id="d-定制数据分割符（用一个print打印多个数据时可用）"><a href="#d-定制数据分割符（用一个print打印多个数据时可用）" class="headerlink" title="d. 定制数据分割符（用一个print打印多个数据时可用）"></a>d. 定制数据分割符（用一个print打印多个数据时可用）</h5><p>print在打印多个数据时会默认在数据之间加上一个空格</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713194854845.png" alt="image-20210713194854845"></p>
<p>是因为print中除了包含有end结尾符以外，还有数据分割符：sep，它的默认值为sep = ‘  ‘（引号里面的是空格space）<br>sep的作用是控制的时候同时打印多个数据的时候，数据之间的分隔方式。<br>我们也可以根据自己的想法更改分隔符sep的值，但是必须要将sep的赋值语句放到括号内容的末尾处<br>并且配合给 ‘end’ 赋值，也可以有这种效果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>, sep=<span class="string">&#x27;+&#x27;</span>, end=<span class="string">&#x27;=&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">100</span>+<span class="number">200</span>+<span class="number">300</span>)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713195155779.png" alt="image-20210713195155779"></p>
<h4 id="2）输入函数"><a href="#2）输入函数" class="headerlink" title="2）输入函数"></a>2）输入函数</h4><p>input()   —&gt;    设置在控制台输入内容。</p>
<p>使用方法：<br>变量 = input(输入提示信息)   —-&gt;  从控制台输入内容，并且将输入的内容保存到变量中<br>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = input(&#x27;请输入姓名：&#x27;)</span><br><span class="line">print(name)</span><br><span class="line">print(type(name))</span><br></pre></td></tr></table></figure>

<p>运行后：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713195511119.png" alt="image-20210713195511119"></p>
<p>在控制台输入名字后：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713195545190.png" alt="image-20210713195545190"></p>
<p>这里需要注意的是：通过input函数输入的数据，不管输入的内容是什么类型的，返回的数据的类型都是字符串(str)，下面可以来看看区别：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="built_in">input</span>(<span class="string">&#x27;请输入年龄：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(age))</span><br><span class="line">age = <span class="built_in">int</span>(age)</span><br><span class="line"><span class="built_in">print</span>(age, <span class="built_in">type</span>(age), sep=<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(age + <span class="number">100</span>)</span><br></pre></td></tr></table></figure>

<p>再看看运行结果，就很清晰了：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713195741514.png" alt="image-20210713195741514"></p>
<h3 id="5-变量"><a href="#5-变量" class="headerlink" title="5.变量"></a>5.变量</h3><p>规定将随便一句话输出5遍。<br>用我们之前学到的知识，可以这样做：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;这里是PyCharm！&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;这里是PyCharm！&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;这里是PyCharm！&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;这里是PyCharm！&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;这里是PyCharm！&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713200159770.png" alt="image-20210713200159770"></p>
<p>可以看到这样的效果，但如果要改写输出内容，则每一句话都要改动，这样很麻烦，怎么办呢？接下来就是变量大展身手的时候了：</p>
<p>我们可以定义一个变量：message，将我们要输出的语句赋值给这个变量：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">message = <span class="string">&#x27;这里是PyCharm！&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(message)</span><br><span class="line"><span class="built_in">print</span>(message)</span><br><span class="line"><span class="built_in">print</span>(message)</span><br><span class="line"><span class="built_in">print</span>(message)</span><br><span class="line"><span class="built_in">print</span>(message)</span><br></pre></td></tr></table></figure>

<p>这样的效果也是一样的：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713200542727.png" alt="image-20210713200542727"></p>
<p>并且如果要改动输出的内容，只用改赋值给变量message的那一条语句就可以了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">message = <span class="string">&#x27;这里是PyCharm！我才刚开始学Python，请多指教！&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(message)</span><br><span class="line"><span class="built_in">print</span>(message)</span><br><span class="line"><span class="built_in">print</span>(message)</span><br><span class="line"><span class="built_in">print</span>(message)</span><br><span class="line"><span class="built_in">print</span>(message)</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713200757047.png" alt="image-20210713200757047"></p>
<p>有了变量，就很方便了！</p>
<p>回到正题，刚刚只是粗略地讲解了一下变量的好处，现在来作具体介绍</p>
<h4 id="1）什么是变量，变量的定义"><a href="#1）什么是变量，变量的定义" class="headerlink" title="1）什么是变量，变量的定义"></a>1）什么是变量，变量的定义</h4><p>变量是保存数据的容器。将数据保存到变量中以后，就可以通过使用变量来使用数据</p>
<p>用法：变量名 = 值<br>说明；<br>变量名：由我们自己命名<br>               要求：必须是标识符（之前提到过的），而不是关键字（之前也提到过的）<br>               定义的规范：1.见名知义(看到变量名就大概知道变量中保存的是什么数据)<br>                                      2.如果有多个单词，则单词之间用下划线隔开，例如：Stu_Name<br>                                      3.不使用系统的函数名、类名和模块名</p>
<p>‘=’(赋值符号)：这是赋值符号的固定写法，顾名思义就是将右边的值赋值给左边的变量名</p>
<p>值：可以是任何有结果的表达式，例如：具体的数据、运算表达式、函数调用表达式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print = 15 错误示例！ print 为关键字，会导致print原输出功能用不了</span></span><br><span class="line"><span class="comment"># a*b = 100   错误示例</span></span><br><span class="line"><span class="comment"># for = 100    错误示例</span></span><br></pre></td></tr></table></figure>

<h4 id="2）使用变量"><a href="#2）使用变量" class="headerlink" title="2）使用变量"></a>2）使用变量</h4><p>使用变量就是使用变量中保存的数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">10</span>    <span class="comment"># 定义变量并赋值</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span>)   <span class="comment"># 等价于print(num)</span></span><br><span class="line"><span class="built_in">print</span>(num)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> + <span class="number">2</span>)  <span class="comment"># 等价于print(num + 2)</span></span><br><span class="line"><span class="built_in">print</span>(num + <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">10</span>))   <span class="comment"># 等价于print(type(num))</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(num))</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713202445455.png" alt="image-20210713202445455"></p>
<h4 id="3）同时定义多个变量"><a href="#3）同时定义多个变量" class="headerlink" title="3）同时定义多个变量"></a>3）同时定义多个变量</h4><h5 id="a-同时定义多个变量赋相同的值"><a href="#a-同时定义多个变量赋相同的值" class="headerlink" title="a. 同时定义多个变量赋相同的值"></a>a. 同时定义多个变量赋相同的值</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = b = c = <span class="number">200</span> 	<span class="comment">#第一种方法</span></span><br><span class="line">a = <span class="number">200</span>				<span class="comment">#第二种方法</span></span><br><span class="line">b = <span class="number">200</span></span><br><span class="line">c = <span class="number">200</span></span><br><span class="line"><span class="built_in">print</span>(a, b, c)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713202737260.png" alt="image-20210713202737260"></p>
<h5 id="b-同时定义多个变量赋不同的值"><a href="#b-同时定义多个变量赋不同的值" class="headerlink" title="b. 同时定义多个变量赋不同的值"></a>b. 同时定义多个变量赋不同的值</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x, y, z = <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span></span><br><span class="line"><span class="built_in">print</span>(x, y, z)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713202902198.png" alt="image-20210713202902198"></p>
<h4 id="4）Python中定义变量和重新给变量赋值的基本原理"><a href="#4）Python中定义变量和重新给变量赋值的基本原理" class="headerlink" title="4）Python中定义变量和重新给变量赋值的基本原理"></a>4）Python中定义变量和重新给变量赋值的基本原理</h4><p>定义变量的时候系统会自动在内存中申请空间，空间申请多少看保存的数据需要多大；<br>重新给变量赋值的时候，会重新申请新的内存空间，新的内存空间的大小由新赋值的数据决定；</p>
<p>Python中查看变量地址的方法：id()函数</p>
<p>id函数的用法：id(变量)  功能：获取变量保存的数据的地址</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;num的地址为：&#x27;</span>, <span class="built_in">id</span>(num))</span><br><span class="line">num = <span class="number">200</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;num的地址为：&#x27;</span>, <span class="built_in">id</span>(num))</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713203347522.png" alt="image-20210713203347522"></p>
<p>可以看到这里num被重新赋值后它的地址是发生了变化的，而在C/Java中，给变量定义赋值后再赋新值，则是不变的：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;strings.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> x = <span class="number">100</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;x的地址为：%p\n&quot;</span>,&amp;x);</span><br><span class="line">	x = <span class="number">200</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;x的地址为：%p\n&quot;</span>,&amp;x);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p><img src="C:\Users\风落心夜\AppData\Roaming\Typora\typora-user-images\image-20210713204422433.png" alt="image-20210713204422433"></p>
<p>所以论运行效率，Python相比C/Java，还是有些效率低的表现</p>
<h1 id="三、总结"><a href="#三、总结" class="headerlink" title="三、总结"></a>三、总结</h1><p>通过今天的学习，对Python有了初步的了解，对这们语言也很好奇，很有趣，至少在语法上，明显感觉跟之前学过的几种语言不同，但好在有之前那些语言的基础，对这些新东西大多并不陌生，如果有什么不解，也会在来这里回顾以往学到的知识，不过也希望在认识这位”新朋友“后，不会把”老朋友“给忘得一干二净。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yolukami.com/2021/09/13/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/" data-id="ckv6kay060007tcon64sy9wx0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Python基础学习/Python基础学习（三）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/09/13/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/" class="article-date">
  <time datetime="2021-09-12T16:00:00.000Z" itemprop="datePublished">2021-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/">Python基础学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/09/13/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/">Python基础学习（三）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天是学习Python基础的第三天，只有一个知识点，那就是循环！有时候需要重复一段代码，比如需要重复输出几句相同的话，如果不知道循环，则只能这样输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>如果重复的次数小，那么这么做可以解决，但当需要重复的次数很大，几万，几十万，几百万甚至更多的时候，不可能真的去写那么多的代码，而这个时候，就该循环出场了</p>
<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><p>循环    -   让代码重复执行（代码写一遍，运行的时候可以执行多次）</p>
<h4 id="1-for循环"><a href="#1-for循环" class="headerlink" title="1. for循环"></a>1. for循环</h4><p>语法：<br>for 变量 in 序列:<br>    循环体<br>说明：<br>for、in     —-    关键字、固定写法<br>变量      —-       写一个变量名（这个变量可以是已经定义过的，也可以是没有定义过的）<br>序列      —-       容器型数据类型（就是用于存放数据的，像C语言中的数组那样的）对应的数据，常见序列：字符串、列表、元组、字典、集合、迭代器、生成器、range。<br>‘ : ‘       —-     固定写法，英文下的冒号<br>循环体     —-       和for保持一个缩进的一条语句或者多条语句；就是需要重复执行的代码。</p>
<p>执行过程：<br>就是让变量去序列中取值，一个一个的取，取完为止，然后每取一个值执行一次循环体。<br>而且for循环循环的次数和序列中元素的个数有关</p>
<p>举个例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&#x27;abc&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&#x27;Hello World&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>执行结果：</p>
<p>上面的例子就是让i去取’abc’中的值，可以看到有3个值，取了三次，所以就是执行三次循环，而i的值第一次取就是a,第二次取就是b,第三次取就是c,下面也是执行的过程解析，可以看一下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">x = &#x27;a&#x27;: print(x, &#x27;Hello World&#x27;)  -&gt;  print(&#x27;a&#x27;, Hello World)</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="string">x = &#x27;c&#x27;: print(x, &#x27;Hello World&#x27;)  -&gt;  print(&#x27;c&#x27;, Hello World)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-range函数"><a href="#2-range函数" class="headerlink" title="2.range函数"></a>2.range函数</h4><p>range()        —-        产生指定范围的数字序列</p>
<p>先引入一个问题：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">需求：打印 &#x27;Hello&#x27; 100遍</span></span><br><span class="line"><span class="string">for x in ?</span></span><br><span class="line"><span class="string">    print(&#x27;hello&#x27;)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>那么 ？里该写什么内容？这时候range函数就可以解决，先来看看它的用法：</p>
<p>用法1：range(N)     -   产生[0, N)的数字序列，其中步长为1<br>用法2：range(M, N)     -   产生[M. N)的数字序列，步长为1<br>用法3：range(M, N, step)   -   产生[M. N)的数字序列，步长为step指定的值</p>
<p>这里用用法一就可以解决开头提到的问题；</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>这样就可以打印’Hello’ 100遍了！</p>
<p>并且依靠这个，还可以介绍下for循环的两个用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=====for用法1：产生0开始步长为1的数字序列=====&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=====for用法2：直接地控制循环次数=====&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>来看看输出结果：</p>
<p>上面也演示了range的用法1，然后再来看看其他两个用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=============range用法2==============&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>, <span class="number">15</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=============range用法3==============&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>, <span class="number">0</span>, -<span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<p>输出；</p>
<p>这里还有几个例子可以参考</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;0到100的偶数：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">101</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;100到200个位数为三的数：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">103</span>, <span class="number">200</span>, <span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>, <span class="number">1000</span>):</span><br><span class="line">    m = i % <span class="number">10</span></span><br><span class="line">    n = i // <span class="number">10</span> % <span class="number">10</span></span><br><span class="line">    k = i // <span class="number">100</span></span><br><span class="line">    <span class="keyword">if</span> m ** <span class="number">3</span> + n ** <span class="number">3</span> + k ** <span class="number">3</span> == i:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;水仙花数：&#x27;</span>, i)</span><br></pre></td></tr></table></figure>

<p>再介绍两个for循环的常用用法，用例子说明：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 统计100以内偶数的个数</span></span><br><span class="line">n = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">100</span>):</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;100以内偶数的个数是：&#x27;</span>, n)</span><br><span class="line"><span class="comment"># 2. 统计100以内能被3整除的偶数的个数</span></span><br><span class="line">n = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="keyword">if</span> j % <span class="number">3</span> == <span class="number">0</span>:</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;100以内能被3整除的偶数的个数:&#x27;</span>, n)</span><br><span class="line"><span class="comment"># 3. 计算1+2+3+....+100的和</span></span><br><span class="line">s1 = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">101</span>):</span><br><span class="line">    s1 += k</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;1+2+3+....+100的和:&#x27;</span>, s1)</span><br><span class="line"><span class="comment"># 4. 计算所有的水仙花的和</span></span><br><span class="line">s2 = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>, <span class="number">1000</span>):</span><br><span class="line">    m = i % <span class="number">10</span></span><br><span class="line">    n = i // <span class="number">10</span> % <span class="number">10</span></span><br><span class="line">    k = i // <span class="number">100</span></span><br><span class="line">    <span class="keyword">if</span> m ** <span class="number">3</span> + n ** <span class="number">3</span> + k ** <span class="number">3</span> == i:</span><br><span class="line">        s2 += i</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;所有的水仙花的和：&#x27;</span>, s2)</span><br></pre></td></tr></table></figure>

<p>来看看结果：</p>
<p>可以看出，前两个是用来统计个数的，后两个是用来统计总和的。</p>
<h4 id="3-while-循环"><a href="#3-while-循环" class="headerlink" title="3.while 循环"></a>3.while 循环</h4><p>语法：<br>while 条件语句<br>    循环体</p>
<p>说明：<br>while   —-   关键字，固定写法<br>条件语句    —-   任何有结果的表达式（只有赋值语句不行）<br>‘:’        —-   英文下的冒号，固定写法<br>循环体     —-    和while保持一个缩进的一条或多条语句；需要重复执行的代码</p>
<p>执行过程：<br>先判断条件语句是否为True，如果为True就执行循环体，执行完循环体再判断条件是否为True，如果是为Trye就再执行循环体<br>…以此类推，当条件语句结果为False循环直接结束</p>
<p>按照惯例，再来看看例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 while 循环控制程序打印2个’hello‘</span></span><br><span class="line">num = <span class="number">2</span></span><br><span class="line"><span class="keyword">while</span> num &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    num -= <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>执行结果：</p>
<p>而while 循环控制循环次数的原则：就是让条件经历过指定次数后由True变成False，然后结束循环</p>
<p>现在两种循环都了解了，那么，该如何选择这两种循环呢？接下来看看：</p>
<h5 id="while和for的选择"><a href="#while和for的选择" class="headerlink" title="while和for的选择"></a>while和for的选择</h5><p>1）for循环：循环次数确定的时候使用</p>
<p>2） while循环：循环次数不确定的时候使用（程序员在写代码的时候没有办法通过任何方式来确定循环次数）</p>
<h4 id="4-循环关键字"><a href="#4-循环关键字" class="headerlink" title="4.循环关键字"></a>4.循环关键字</h4><h5 id="1）continue-和-break"><a href="#1）continue-和-break" class="headerlink" title="1）continue 和 break"></a>1）continue 和 break</h5><p>continue 和 break 只能出现在循环体中<br>continue  —-   结束一次循环 / 结束当次循环<br>如果在执行循环的时候遇到了continue，那么当次循环结束，直接进入下一循环</p>
<p>break   —-   结束整个循环<br>如果在执行循环的时候遇到了break，整个循环直接结束</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;========continue========&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;python&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;!!!!&#x27;</span>)</span><br><span class="line"><span class="comment"># 遇到continue结束这次循环，不执行后面的两条语句，然后进行下一次循环</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;========break========&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;python&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;!!!!&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<p>执行结果：</p>
<h5 id="2）有了break的while循环"><a href="#2）有了break的while循环" class="headerlink" title="2）有了break的while循环"></a>2）有了break的while循环</h5><p>while True:<br>    需要重复执行的操作<br>    if 循环结束的条件:<br>        break</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    value = <span class="built_in">input</span>(<span class="string">&#x27;请输入：&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> value == <span class="string">&#x27;0&#x27;</span>:  <span class="comment"># 输入0时结束循环</span></span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h5 id="3）else关键字"><a href="#3）else关键字" class="headerlink" title="3）else关键字"></a>3）else关键字</h5><p>这里只是稍微提一下，具体的后面还会再说</p>
<p>在知道这个关键字的时候，应该是在学习if语句的时候，但else除了if语句以外，还能在循环语句中使用：</p>
<p>完整的for循环：</p>
<p>for 变量 in 序列:<br>    循环体<br>else:<br>    代码段</p>
<p>完整的while循环：<br>while 条件语句:<br>    循环体<br>else:<br>    代码段</p>
<p>else结构的存在不影响原来循环的执行，当循环自然结束，则会执行else后面的代码段，如果循环是非自然结束（即遇到break），则不会执行else后面的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=====for循环=====&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;for循环结束&#x27;</span>)</span><br><span class="line"><span class="comment"># 循环中有break时</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;for循环结束&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>在for循环中执行结果对比：</p>
<p>while循环：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=====while循环=====&#x27;</span>)</span><br><span class="line">str1 = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> str1:</span><br><span class="line">    str1 = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入：&#x27;</span>))</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;while循环结束&#x27;</span>)</span><br><span class="line"><span class="comment"># 循环中有break时</span></span><br><span class="line">str1 = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> str1:</span><br><span class="line">    str1 = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入：&#x27;</span>))</span><br><span class="line">    <span class="keyword">if</span> str1 == <span class="number">5</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;while循环结束&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>在while循环中执行结果对比：</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yolukami.com/2021/09/13/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/" data-id="ckv6kay070008tconej2r71qv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Python基础学习/Python基础学习（二）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/09/13/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/" class="article-date">
  <time datetime="2021-09-12T16:00:00.000Z" itemprop="datePublished">2021-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/">Python基础学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/09/13/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/">Python基础学习（二）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>学习python基础语法的第二天，做好接纳新东西的准备</p>
<h2 id="一、数学运算符"><a href="#一、数学运算符" class="headerlink" title="一、数学运算符"></a>一、数学运算符</h2><p>在Python中的数学运算符有：+(加)、-(减) 、*(乘)、 /(除)、 %(取余)、 //(整除)、 **(幂运算)，需要注意的是：</p>
<h4 id="1-、-、-、-和数学中的-、-、×、÷的功能一模一样"><a href="#1-、-、-、-和数学中的-、-、×、÷的功能一模一样" class="headerlink" title="1. +、-、*、/和数学中的+、-、×、÷的功能一模一样"></a>1. +、-、*、/和数学中的+、-、×、÷的功能一模一样</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">5</span> + <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">5</span> - <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">5</span> * <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">5</span> / <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>而在这里值得注意的是：和C/Java不一样，Python的除号(‘’/‘’)就和现实中的数学符号÷的功能一样，如果结果是浮点型，那么也会一样的显示及那个原本的结果显示出来不会进行任何加工。下面是上面代码运行的结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714122435.png"></p>
<h4 id="2-—-求余数、取模"><a href="#2-—-求余数、取模" class="headerlink" title="2. %    —    求余数、取模"></a>2. %    —    求余数、取模</h4><p>用法：x % y   —-&gt;    求x除以y的余数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">5</span> % <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">16</span> % <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714122824.png"></p>
<p>它的应用：</p>
<h5 id="a应用1：判断一个数是否能被另外一个数整除（看余数是否为0）"><a href="#a应用1：判断一个数是否能被另外一个数整除（看余数是否为0）" class="headerlink" title="a应用1：判断一个数是否能被另外一个数整除（看余数是否为0）"></a>a应用1：判断一个数是否能被另外一个数整除（看余数是否为0）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">15</span> % <span class="number">5</span> == <span class="number">0</span>)   <span class="comment">#判断15是否能被5整除</span></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714123040.png"></p>
<h5 id="b应用2：取低位数（对10或者10的幂次方取余）"><a href="#b应用2：取低位数（对10或者10的幂次方取余）" class="headerlink" title="b应用2：取低位数（对10或者10的幂次方取余）"></a>b应用2：取低位数（对10或者10的幂次方取余）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">456</span></span><br><span class="line"><span class="built_in">print</span>(num % <span class="number">10</span>)    <span class="comment"># 商45余6，结果6</span></span><br><span class="line"><span class="built_in">print</span>(num % <span class="number">100</span>)   <span class="comment"># 商4余56，结果56</span></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714123351.png"></p>
<h4 id="3-—-整除"><a href="#3-—-整除" class="headerlink" title="3.  //  —-   整除"></a>3.  //  —-   整除</h4><p>用法：x // y    —&gt;    x除以y的商（结果向较小的数那边取整）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">5</span> // <span class="number">2</span>)     <span class="comment"># 结果2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">1.8</span> // <span class="number">2</span>)   <span class="comment"># 结果0</span></span><br><span class="line"><span class="built_in">print</span>(-<span class="number">5</span> // <span class="number">2</span>)    <span class="comment"># 结果-3（因为是负数所以-2.5 &gt; -3，结果为-3）</span></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714123703.png"></p>
<p>它的应用：</p>
<h5 id="a应用1：正整数去低位"><a href="#a应用1：正整数去低位" class="headerlink" title="a应用1：正整数去低位"></a>a应用1：正整数去低位</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">456789</span></span><br><span class="line"><span class="built_in">print</span>(num // <span class="number">10</span>)    <span class="comment"># 去掉个位，结果45678</span></span><br><span class="line"><span class="built_in">print</span>(num // <span class="number">100</span>)   <span class="comment"># 去掉个位和十位，结果4567</span></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714124127.png"></p>
<p>还有相关例题可以参考一下：获取指定正整数的十位数以及获取指定正整数的百位数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">3945</span></span><br><span class="line">i = num % <span class="number">100</span> // <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(i)			<span class="comment">#获取指定正整数的十位数</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">3945</span></span><br><span class="line">i = num // <span class="number">100</span> % <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(i)		    <span class="comment">#获取指定正整数的百位数</span></span><br></pre></td></tr></table></figure>

<p>结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714124515.png"></p>
<h4 id="4-—-幂运算"><a href="#4-—-幂运算" class="headerlink" title="4. **   —  幂运算"></a>4. **   —  幂运算</h4><p>用法：x ** y     -    求x的y次方</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">2</span> ** <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">5</span> ** <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">16</span> ** <span class="number">0.5</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">27</span> ** (<span class="number">1</span>/<span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="number">1.1</span> ** <span class="number">2</span>) </span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714125432.png"></p>
<p>注意：可以看出最后一个例子的结果后面有很多零并且结果末尾还有个数字2，这是因为浮点型数据在计算机中存储的形式有些不同，可以举个例子，所有浮点型数据都可以以（1/2）的多少次方相加，所以后面计算的时候多多少少有些波动篇幅，不过这并不影响我们的计算。</p>
<h2 id="二、比较运算符"><a href="#二、比较运算符" class="headerlink" title="二、比较运算符"></a>二、比较运算符</h2><p>在Python中的比较运算符有：比较运算符：&gt;(大于)、 &lt;(小于)、 &gt;=(大于等于)、 &lt;=(小于等于)、 ==(等于)、            !=(不等于)</p>
<p>注意：所有比较运算符的运算结果都是布尔型（bool:True/False）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">10</span> &gt; <span class="number">20</span>)      <span class="comment"># 结果False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> &lt; <span class="number">20</span>)      <span class="comment"># 结果True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> &gt;= <span class="number">10</span>)     <span class="comment"># 结果True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> == <span class="number">20</span>)     <span class="comment"># 结果False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> != <span class="number">20</span>)     <span class="comment"># 结果True</span></span><br></pre></td></tr></table></figure>

<p>运算结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714125947.png"></p>
<p>而且不同的是：Python 中的比较运算符可以像数学中的表达式一样通过连写来表达范围，比如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age = 30</span><br><span class="line">print(18 &lt;= age &lt;= 28) 		# 判断年龄age是否在18和28之间</span><br></pre></td></tr></table></figure>

<p>运算结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714125956.png"></p>
<h2 id="三、逻辑运算符"><a href="#三、逻辑运算符" class="headerlink" title="三、逻辑运算符"></a>三、逻辑运算符</h2><p>逻辑运算符：and(逻辑与运算)、or(逻辑或运算)、not(逻辑非运算)</p>
<h4 id="1-and-逻辑与运算"><a href="#1-and-逻辑与运算" class="headerlink" title="1. and    -   逻辑与运算"></a>1. and    -   逻辑与运算</h4><h5 id="1）应用场景：相当于生活中的并且，用于连接需要同时满足的多个条件"><a href="#1）应用场景：相当于生活中的并且，用于连接需要同时满足的多个条件" class="headerlink" title="1）应用场景：相当于生活中的并且，用于连接需要同时满足的多个条件"></a>1）应用场景：相当于生活中的并且，用于连接需要同时满足的多个条件</h5><h5 id="2）运算规则：两个都是True（真）结果就是True（真），只要有一个是False（假）结果就是False（假）"><a href="#2）运算规则：两个都是True（真）结果就是True（真），只要有一个是False（假）结果就是False（假）" class="headerlink" title="2）运算规则：两个都是True（真）结果就是True（真），只要有一个是False（假）结果就是False（假）"></a>2）运算规则：两个都是True（真）结果就是True（真），只要有一个是False（假）结果就是False（假）</h5><p>比如：<br>条件1 and 条件2<br>True and True   -   True<br>True and False  -   False<br>False and True  -   False<br>False and False -   False</p>
<p>例：写出一个能同时被3和7整除的数的条件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">67</span></span><br><span class="line"><span class="built_in">print</span>(num, <span class="string">&#x27;是否能同时被3和7整除：&#x27;</span>, num % <span class="number">3</span> == <span class="number">0</span> <span class="keyword">and</span> num % <span class="number">7</span> == <span class="number">0</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(num, <span class="string">&#x27;是否能同时被3和7整除：&#x27;</span>, num % <span class="number">21</span> == <span class="number">0</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(num, <span class="string">&#x27;是否能同时被3和7整除：&#x27;</span>, <span class="keyword">not</span> num % <span class="number">21</span> != <span class="number">0</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714173100.png"></p>
<h4 id="2-or-逻辑或运算"><a href="#2-or-逻辑或运算" class="headerlink" title="2. or   -   逻辑或运算"></a>2. or   -   逻辑或运算</h4><h5 id="1）应用场景：相当于生活中的或者，用于连接需要多个条件中满足一个条件就行的情况"><a href="#1）应用场景：相当于生活中的或者，用于连接需要多个条件中满足一个条件就行的情况" class="headerlink" title="1）应用场景：相当于生活中的或者，用于连接需要多个条件中满足一个条件就行的情况"></a>1）应用场景：相当于生活中的或者，用于连接需要多个条件中满足一个条件就行的情况</h5><h5 id="2）运算规则：只要有一个是True（真）结果就是True-真-，两个都为False-假-结果才为False-假"><a href="#2）运算规则：只要有一个是True（真）结果就是True-真-，两个都为False-假-结果才为False-假" class="headerlink" title="2）运算规则：只要有一个是True（真）结果就是True(真)，两个都为False(假)结果才为False(假)"></a>2）运算规则：只要有一个是True（真）结果就是True(真)，两个都为False(假)结果才为False(假)</h5><p>比如：<br>True or True   -   True<br>True or False  -   True<br>False or True  -   True<br>False or False -   False</p>
<p>例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拿奖学金的条件：绩点(gpa)高于4或者操评分(score)不低于95</span></span><br><span class="line">gpa = <span class="number">4.1</span></span><br><span class="line">score = <span class="number">96</span>   </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;是否可以拿奖学金：&#x27;</span>, gpa &gt; <span class="number">4.0</span> <span class="keyword">or</span> score &gt;= <span class="number">95</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714173404.png"></p>
<p>再例如：判断指定的年是否是闰年</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 普通闰年：能被4整除但是不能被100整除</span></span><br><span class="line"><span class="comment"># 世纪闰年：能被400整除</span></span><br><span class="line">year = <span class="number">2020</span></span><br><span class="line"><span class="built_in">print</span>(year, <span class="string">&#x27;是否是闰年：&#x27;</span>, (year % <span class="number">4</span> ==<span class="number">0</span> <span class="keyword">and</span> year % <span class="number">100</span> != <span class="number">0</span>) <span class="keyword">or</span> year % <span class="number">400</span> == <span class="number">0</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(year, <span class="string">&#x27;是否是普通闰年：&#x27;</span>, year % <span class="number">4</span> == <span class="number">0</span> <span class="keyword">and</span> year % <span class="number">100</span> != <span class="number">0</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(year, <span class="string">&#x27;是否是世纪闰年：&#x27;</span>, year % <span class="number">400</span> == <span class="number">0</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714173539.png"></p>
<h4 id="3-not-逻辑非（单目运算符）"><a href="#3-not-逻辑非（单目运算符）" class="headerlink" title="3. not    -   逻辑非（单目运算符）"></a>3. not    -   逻辑非（单目运算符）</h4><p>not     -   否定条件</p>
<h5 id="1）应用场景：对指定条件进行否定（取反）-一般用于正向条件情况很对很复杂，反向条件却很简单的时候，条件就反向写然后在前面加-not"><a href="#1）应用场景：对指定条件进行否定（取反）-一般用于正向条件情况很对很复杂，反向条件却很简单的时候，条件就反向写然后在前面加-not" class="headerlink" title="1）应用场景：对指定条件进行否定（取反）,一般用于正向条件情况很对很复杂，反向条件却很简单的时候，条件就反向写然后在前面加 not"></a>1）应用场景：对指定条件进行否定（取反）,一般用于正向条件情况很对很复杂，反向条件却很简单的时候，条件就反向写然后在前面加 not</h5><h5 id="2）运算规则："><a href="#2）运算规则：" class="headerlink" title="2）运算规则："></a>2）运算规则：</h5><p>not True    -   结果False<br>not False   -   结果True</p>
<p>年龄大于18： age &gt; 18<br>年龄不大于18：age &lt;= 18   等价于   not age &gt; 18</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(num == <span class="number">18</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="keyword">not</span> num == <span class="number">18</span>, num != <span class="number">18</span>)</span><br><span class="line"><span class="comment"># 例如：写出一个不能同时被3和7整除的条件</span></span><br><span class="line"><span class="built_in">print</span>(<span class="keyword">not</span> num % <span class="number">21</span> ==<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果；</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714173855.png"></p>
<h4 id="4-逻辑运算符的短路操作"><a href="#4-逻辑运算符的短路操作" class="headerlink" title="4.逻辑运算符的短路操作"></a>4.逻辑运算符的短路操作</h4><p>条件1 and 条件2   -   如果条件1已经是False，那么条件2不会被执行<br>条件1 or 条件2    -   如果条件1已经是True，那么条件2不会被执行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="built_in">print</span>(<span class="string">&#x27;1.与运算条件2&#x27;</span>)</span><br><span class="line"><span class="number">0</span> <span class="keyword">and</span> <span class="built_in">print</span>(<span class="string">&#x27;2.与运算条件2&#x27;</span>)</span><br><span class="line"><span class="number">1</span> <span class="keyword">or</span> <span class="built_in">print</span>(<span class="string">&#x27;1.或运算条件2&#x27;</span>)</span><br><span class="line"><span class="number">0</span> <span class="keyword">or</span> <span class="built_in">print</span>(<span class="string">&#x27;2.或运算条件2&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714174005.png"></p>
<h4 id="5-逻辑运算的扩展-运算对象不是布尔值"><a href="#5-逻辑运算的扩展-运算对象不是布尔值" class="headerlink" title="*5. 逻辑运算的扩展    -   运算对象不是布尔值"></a>*5. 逻辑运算的扩展    -   运算对象不是布尔值</h4><p>数据1 and 数据2   -   如果数据1的布尔值是True，结果就是数据2，否则结果就是数据1<br>数据1 or 数据2    -   如果数据1的布尔值是True，结果就是数据1，否则结果就是数据2</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">8</span> <span class="keyword">and</span> <span class="number">7</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">0</span> <span class="keyword">or</span> <span class="number">7</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714174104.png"></p>
<h4 id="6-（特别重要）数据的布尔值-数据转成布尔的结果"><a href="#6-（特别重要）数据的布尔值-数据转成布尔的结果" class="headerlink" title="6. （特别重要）数据的布尔值   -   数据转成布尔的结果"></a>6. （特别重要）数据的布尔值   -   数据转成布尔的结果</h4><p>Python中所有类型的数据都有布尔值<br>所有的零值、空值对应的布尔值是False，其他数据的布尔值都是True<br>常见的零值和空值：0、0.0、0.00、’’、””、[]、()、{}、None</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="number">0</span>), <span class="built_in">bool</span>(<span class="number">0.0</span>), <span class="built_in">bool</span>(<span class="number">0.00</span>), <span class="built_in">bool</span>(<span class="string">&#x27;&#x27;</span>), <span class="built_in">bool</span>(<span class="string">&quot;&quot;</span>), <span class="built_in">bool</span>([]), <span class="built_in">bool</span>(&#123;&#125;), <span class="built_in">bool</span>(<span class="literal">None</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="number">5</span>), <span class="built_in">bool</span>(-<span class="number">456.12</span>), <span class="built_in">bool</span>(<span class="string">&#x27;shu&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>可以看看效果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714174232.png"></p>
<h2 id="四、赋值运算符"><a href="#四、赋值运算符" class="headerlink" title="四、赋值运算符"></a>四、赋值运算符</h2><p>赋值运算符有：=、+=、-=、*=、/=、%=、//=、**=<br>注意（重要）：所有的赋值运算的功能都是给变量赋值，不会产生一个结果。（赋值运算的表达式没有结果）<br>且所有的赋值运算符的左边必须是变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span></span><br><span class="line"><span class="comment"># print(a = 10)      # 错误示例</span></span><br><span class="line"><span class="built_in">print</span>(a &gt; <span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<p>运算结果；</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714174825.png"></p>
<h4 id="1-给变量赋值"><a href="#1-给变量赋值" class="headerlink" title="1. =     -   给变量赋值"></a>1. =     -   给变量赋值</h4><p>定义变量或者重新给变量赋值的时候使用，比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="number">20</span></span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line">num = <span class="number">10</span> * <span class="number">20</span></span><br><span class="line"><span class="built_in">print</span>(num)</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714175110.png"></p>
<h4 id="2-、-、-、-、-、-、"><a href="#2-、-、-、-、-、-、" class="headerlink" title="2. +=、-=、*=、/=、%=、//=、**="></a>2. +=、-=、*=、/=、%=、//=、**=</h4><p>注意：这些赋值符号前面的变量必须是已经定义过的变量<br>用法，比如：变量 += 数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># a += 2      #错误示例,a未声明</span></span><br><span class="line">s = <span class="number">10</span></span><br><span class="line">s += <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(s)     <span class="comment"># 结果20</span></span><br><span class="line">s -= <span class="number">16</span></span><br><span class="line"><span class="built_in">print</span>(s)      <span class="comment"># 结果4</span></span><br><span class="line">s **= <span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(s)       <span class="comment"># 结果16</span></span><br><span class="line">s %= <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(s)       <span class="comment"># 结果6</span></span><br></pre></td></tr></table></figure>

<p>运算结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714175402.png"></p>
<h4 id="3-运算符的优先级"><a href="#3-运算符的优先级" class="headerlink" title="3. 运算符的优先级"></a>3. 运算符的优先级</h4><p>优先级顺序为：数学运算符 &gt; 比较运算符 &gt; 逻辑运算符 &gt; 赋值运算符</p>
<p>此外还有：** &gt; (*、/、%、//) &gt; (+、-)</p>
<p>并且：有括号的先算括号里面的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">10</span> + <span class="number">30</span></span><br><span class="line">c = <span class="number">10</span> &lt; <span class="number">5</span> * <span class="number">3</span>   <span class="comment"># c的值是表达式所得出的布尔值</span></span><br><span class="line"><span class="built_in">print</span>(c)</span><br></pre></td></tr></table></figure>

<p>运算结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714175604.png"></p>
<h2 id="五、分支结构"><a href="#五、分支结构" class="headerlink" title="五、分支结构"></a>五、分支结构</h2><h4 id="1-流程控制"><a href="#1-流程控制" class="headerlink" title="1.流程控制"></a>1.流程控制</h4><p>1）顺序结构  -   代码从上往下依次执行，每条语句执行一次</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;3&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714175940.png"></p>
<p>2）分支结构  -   代码的执行需要看执行的条件是否成立（if语句）</p>
<p>3）循环结构  -   如果满足执行条件，则让代码重复执行（for、while）</p>
<h4 id="2-if分支结构"><a href="#2-if分支结构" class="headerlink" title="2. if分支结构"></a>2. if分支结构</h4><h5 id="1）if单分支结构-满足条件执行某个操作，这个条件不满足得时候操作就不执行"><a href="#1）if单分支结构-满足条件执行某个操作，这个条件不满足得时候操作就不执行" class="headerlink" title="1）if单分支结构 -   满足条件执行某个操作，这个条件不满足得时候操作就不执行"></a>1）if单分支结构 -   满足条件执行某个操作，这个条件不满足得时候操作就不执行</h5><p>语法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件语句:</span><br><span class="line">    代码段</span><br><span class="line">代码段<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>说明：<br>if      -       关键字，固定写法（类似生活中的如果）</p>
<p>条件语句    -    任何有结果的表达式（赋值语句没有结果，不可作为条件语句）,例如：数据、运算表达式（赋值运算除外）、函数调用表达式等等</p>
<p>‘:’     -       冒号（英文输入法下），固定写法，不能不写</p>
<p>代码段     -     就是和if保持一个缩进的一条或者多条语句（至少一条），并且需要条件满足才执行的代码</p>
<p>代码段2     -    前面没有缩进，表示已经不在分支结构中，按照顺序结构依次执行</p>
<p>执行过程：<br>先判断条件语句是否为True（如果条件语句的结果不是布尔型，就转换成布尔型再看）, 如果条件语句为True，则执行下面的代码段，否则代码段不执行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">100</span></span><br><span class="line"><span class="keyword">if</span> a &gt; <span class="number">10</span>:     <span class="comment"># b = a + 100  赋值语句没有结果，所以作为条件语句程序会报错</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;代码1&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;代码2&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;代码3&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\风落心夜\Desktop\Python基础学习二截图\QQ截图20210714190839.png"></p>
<p>注意：当有一条语句前面没有缩进（Tab键）时，表示这段代码已经不在分支结构中了，所以按照顺序结构依次运行</p>
<p>下面介绍几个例子：</p>
<p>a.给定一个数，如果是偶数就打印偶数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">22</span></span><br><span class="line"><span class="comment"># 方法1</span></span><br><span class="line"><span class="keyword">if</span> num % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(num, <span class="string">&#x27;是偶数&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="comment"># 方法2（了解）</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> num % <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>(num, <span class="string">&#x27;是偶数&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>)  <span class="comment"># 如果num是偶数，则num % 2的值为0，转换为布尔型是False，则前面加个not，转换为True使条件成立</span></span><br></pre></td></tr></table></figure>

<p>b.判断指定的数据是否是水仙花数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sum</span> = <span class="number">153</span></span><br><span class="line">i = <span class="built_in">sum</span> % <span class="number">10</span></span><br><span class="line">j = <span class="built_in">sum</span> // <span class="number">10</span> % <span class="number">10</span></span><br><span class="line">k = <span class="built_in">sum</span> // <span class="number">100</span></span><br><span class="line"><span class="keyword">if</span> ((i ** <span class="number">3</span>) + (j ** <span class="number">3</span>) + (k ** <span class="number">3</span>)) == <span class="built_in">sum</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">sum</span>, <span class="string">&#x27;是水仙花数&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="2）if双分支结构-满足条件执行某个操作，这个条件不满足的时候执行另外一个操作"><a href="#2）if双分支结构-满足条件执行某个操作，这个条件不满足的时候执行另外一个操作" class="headerlink" title="2）if双分支结构     -   满足条件执行某个操作，这个条件不满足的时候执行另外一个操作"></a>2）if双分支结构     -   满足条件执行某个操作，这个条件不满足的时候执行另外一个操作</h5><p>ps：其实就相当于生活中的如果， 如果后面的条件满足 就… 否则（不满足之前那个条件），就….</p>
<p>用法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件语句:</span><br><span class="line">    代码段<span class="number">1</span> （满足条件才执行的代码）</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    代码段<span class="number">2</span> （不满足条件的时候才执行的代码）</span><br><span class="line">代码<span class="number">3</span>（不管条件满不满足都要执行的代码，因为已经不在分支结构中了）</span><br></pre></td></tr></table></figure>

<p>下面来看看例子：</p>
<p>根据年龄值打印成年或者未成年</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">28</span></span><br><span class="line"><span class="keyword">if</span> age &gt; <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;已成年&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;未成年&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="3）if多分支结构-根据不同的条件做不同的事情（执行不同的代码）"><a href="#3）if多分支结构-根据不同的条件做不同的事情（执行不同的代码）" class="headerlink" title="3）if多分支结构 -   根据不同的条件做不同的事情（执行不同的代码）"></a>3）if多分支结构 -   根据不同的条件做不同的事情（执行不同的代码）</h5><p>语法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件语句<span class="number">1</span>:</span><br><span class="line">    代码段<span class="number">1</span></span><br><span class="line"><span class="keyword">elif</span> 条件语句<span class="number">2</span>:</span><br><span class="line">    代码段<span class="number">2</span></span><br><span class="line"><span class="keyword">elif</span> 条件语句<span class="number">3</span>:</span><br><span class="line">    代码段<span class="number">3</span></span><br><span class="line">    ....</span><br><span class="line"><span class="keyword">else</span>:  <span class="comment"># 也可以没有else</span></span><br><span class="line">    代码段n</span><br></pre></td></tr></table></figure>

<p>注意：多个条件中如果其中一个条件满足，就会执行该条件满足时才能执行的代码，然后结束这个分支结构,但如果不满足这个条件，则会继续判断下一个条件，并且在接下来的条件中，如果这个条件包含了上一个条件，那么这次判断这个条件时则不会再把上个条件的情况包含在所判断的这个条件里。</p>
<p>ps:还有一种结构，但如果不是条件一和条件二等有某种关系，否则不推荐用这种结构，因为一般情况下用第一种语法如果条件1成立，则就执行代码段1，然后退出分支结构，不再判断条件二，但下面的结构在条件一判断后，又会去判断条件二，使得代码运行效率变低</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if 条件1:</span><br><span class="line">    代码段1</span><br><span class="line">if 条件2:</span><br><span class="line">    代码段2</span><br><span class="line">    ....</span><br></pre></td></tr></table></figure>

<p>该结构中如果满足条件1，还满足条件2，那么代码段1和代码段2都会执行,并且该结构还可以设置多个if 条件 代码段。</p>
<p>例：分制的分数分成A(90以上)、B[80, 90]、C[60,80)、D(60以下)四个等级</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">score = <span class="number">90</span></span><br><span class="line"><span class="keyword">if</span> score &gt; <span class="number">90</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;A&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> score &gt;= <span class="number">80</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;B&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> score &gt;= <span class="number">60</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;C&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;D&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过今天的学习，掌握了运算符和分支结构的用法以及，因为本来就是基础，加上学过C等其他高级语言的关系，所以给人的感觉并不是很难。以后会继续Python的学习。</p>
<h1 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h1><h2 id="选择题"><a href="#选择题" class="headerlink" title="选择题"></a>选择题</h2><ol>
<li><p><code>print(100 - 25 * 3 % 4)</code> 应该输出什么? （B）</p>
<p><code>A. 1</code></p>
<p><code>B. 97</code></p>
<p><code>C. 25</code></p>
<p><code>D. 0</code></p>
</li>
<li><p>下列哪种说法是错误的（A）。</p>
<p><code>A. 除字典类型外，所有标准对象均可以⽤于布尔测试</code></p>
<p><code>B. 空字符串的布尔值是False</code></p>
<p><code>C. 空列表对象的布尔值是False</code></p>
<p><code>D. 值为0的任何数字对象的布尔值是False</code></p>
</li>
<li><p>下列表达式的值为True的是（B）。</p>
<p><code>A. 3&gt;2&gt;2</code></p>
<p><code>B. 1 and 2 != 1</code></p>
<p><code>C. not(11 and 0 != 2)</code></p>
<p><code>D. 10 &lt; 20 and 10 &lt; 5</code></p>
</li>
<li><p>Python不⽀持的数据类型有（A）。</p>
<p><code>A. char</code></p>
<p><code>B. int</code></p>
<p><code>C. float </code></p>
<p><code>D. list</code></p>
</li>
<li><p>（多选）n = 6784，以下能够获取到7 的⽅法有（CD）。</p>
<p><code>A. n / 1000 % 100</code></p>
<p><code>B. n % 1000 / 100</code></p>
<p><code>C. n // 100 % 10</code></p>
<p><code>D. n // 10 % 100 // 10</code></p>
</li>
<li><p>运⾏以下程序，当从键盘上输⼊12,运⾏结果是（A）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = (<span class="built_in">input</span>())</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(x))</span><br></pre></td></tr></table></figure>

<p><code>A. &lt;class &#39;str&#39;&gt;</code></p>
<p><code>B. &lt;class &#39;int&#39;&gt;</code></p>
<p><code>C. 出错</code></p>
<p><code>D. &lt;class &#39;dict&#39;&gt;</code></p>
</li>
<li><p>下列表达式的运算结果是( D) 。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">100</span></span><br><span class="line">b = <span class="literal">False</span></span><br><span class="line"><span class="built_in">print</span>(a * b &gt; -<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p><code>A. False</code></p>
<p><code>B. 1</code></p>
<p><code>C. 0</code></p>
<p><code>D. True</code></p>
</li>
</ol>
<h2 id="填空题"><a href="#填空题" class="headerlink" title="填空题"></a>填空题</h2><ol>
<li>查看变量中数据的类型的函数名是（type）。</li>
<li>已知 x = 3 == 3 ,执⾏结束后，变量x的值为（True）。</li>
<li>已知 x = 3 ，那么执⾏语句 x += 6 之后，x的值为（9）。</li>
<li>表达式 3 ** 2 的值为（9）,表达式 3 * 2 的值为（6），表达式 4 ** 0.5 的值为（2）。</li>
</ol>
<h2 id="编程题"><a href="#编程题" class="headerlink" title="编程题"></a>编程题</h2><ol>
<li><p>写出判断⼀个数是否能同时被2和5整除的条件语句, 并且打印对应的结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入一个数：&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> i % <span class="number">10</span> ==<span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&#x27;能同时被2和5整除&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&#x27;不能同时被2和5整除&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>写出判断⼀个数是否能够被2或者5整除，但是不能同时被2或者5整除的条件语句， 并且打印对应</p>
<p>的结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入一个数：&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">or</span> i % <span class="number">5</span> == <span class="number">0</span>) <span class="keyword">and</span> i % <span class="number">10</span> != <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&#x27;能够被2或者5整除,但是不能同时被2或者5整除&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> i % <span class="number">10</span> == <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&#x27;能够同时被2和5整除&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&#x27;不能够被2或5整除&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>假设今天的上课时间为15678秒，编程计算今天上课时间是多少⼩时，多少分钟，多少秒；以‘XX</p>
<p>时XX分XX秒’的⽅式表示出来。</p>
<blockquote>
<p>例如：100秒表示成 <strong>0时1分40秒</strong></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入秒数：&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> i &lt; <span class="number">60</span>:    <span class="comment"># 输入的秒数小于60则直接显示秒数</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;0小时0分&#x27;</span>, i, <span class="string">&#x27;秒&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> i &lt;= <span class="number">3600</span>:   <span class="comment"># 输入的秒数在60到3600之间则显示分钟数和秒数</span></span><br><span class="line">    m = i // <span class="number">60</span>   <span class="comment"># 每60秒算一分钟</span></span><br><span class="line">    s = i - m * <span class="number">60</span>  <span class="comment"># 减去之前获得分钟数乘以60就可得到所换算的剩余秒数</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;0小时&#x27;</span>, m, <span class="string">&#x27;分&#x27;</span>, s, <span class="string">&#x27;秒&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:     <span class="comment"># 输入的秒数大于3600，开始显示时钟数</span></span><br><span class="line">    h = i // <span class="number">3600</span> <span class="comment"># 每3600秒等于1个小时</span></span><br><span class="line">    m = (i - h * <span class="number">3600</span>) // <span class="number">60</span></span><br><span class="line">    s = i - h * <span class="number">3600</span> - m * <span class="number">60</span></span><br><span class="line">    <span class="built_in">print</span>(h, <span class="string">&#x27;小时&#x27;</span>, m, <span class="string">&#x27;分&#x27;</span>, s, <span class="string">&#x27;秒&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>定义两个变量保存⼀个⼈的身⾼和体重，编程实现判断这个⼈的身材是否正常!</p>
<p>公式: 体重(kg)  /  (身⾼(m)的平⽅值 )   在18.5 ~ 24.9之间属于正常。</p>
<blockquote>
<p>输出格式： 是否正常：True/False</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hight = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入身高(单位：m)：&#x27;</span>))</span><br><span class="line">weight = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入体重(单位：kg)：&#x27;</span>))</span><br><span class="line">i = weight / (hight ** <span class="number">2</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="number">18.5</span> &lt; i &lt; <span class="number">24.9</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;True&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;False&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>根据输入的成绩的范围打印<code>及格</code> 或者<code>不及格</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">score = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入成绩：&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> score &gt;= <span class="number">60</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;及格&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;不及格&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>根据输入的年纪范围打印<code>成年</code>或者<code>未成年</code>，如果年龄不在正常范围内(0~150)打印<code>这不是人!</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入年龄：&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> age &lt; <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;未成年&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> age &lt;= <span class="number">150</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;成年&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;这不是人！&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>输入两个整数a和b，若a-b的结果为奇数，则输出该结果，否则输出提示信息<code>a-b的结果不是奇数</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入整数a：&#x27;</span>))</span><br><span class="line">b = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入整数b：&#x27;</span>))</span><br><span class="line">i = a - b</span><br><span class="line"><span class="keyword">if</span> i % <span class="number">2</span> != <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(a, <span class="string">&#x27;-&#x27;</span>, b, <span class="string">&#x27;的结果不是奇数&#x27;</span>, sep=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yolukami.com/2021/09/13/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/" data-id="ckv6kay0b000gtcondsdbekd7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-数据分析方法论" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/09/13/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E8%AE%BA/" class="article-date">
  <time datetime="2021-09-12T16:00:00.000Z" itemprop="datePublished">2021-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/09/13/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E8%AE%BA/">数据分析方法论</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="数据分析方法论"><a href="#数据分析方法论" class="headerlink" title="数据分析方法论"></a>数据分析方法论</h1><h2 id="一、公式法"><a href="#一、公式法" class="headerlink" title="一、公式法"></a>一、公式法</h2><p>所谓公式法就是针对某个指标，用公式层层分解该指标的影响因素。</p>
<p>举例:分析某产品的销售额较低的原因，用公式法分解： </p>
<ul>
<li>某产品销售额=销售量 X 产品单价</li>
<li>销售量=渠道A销售量 + 渠道B销售量 + 渠道C销售量 + …</li>
<li>渠道销售量=点击用户数UV X 下单率 购买转化</li>
<li>点击用户数=曝光量 X 点击率</li>
</ul>
<p><strong>第一层:找到产品销售额的影响因素。</strong>某产品销售额=销售量 X 产品单价。是销量过低还是价格设置不合理?</p>
<p><strong>第二层:找到销售量的影响因素。</strong>分析各渠道销售量，对比以往，是哪些过低了。</p>
<p><strong>第三层:分析影响渠道销售量的因素。</strong>渠道销售量=点击用户数 X 下单率。是点击用户数低了， 还是下单量过低。如果是下单量过低，需要看一下该渠道的广告内容针对的人群和产品实际受 众符合度高不高。</p>
<p><strong>第四层:分析影响点击的因素。</strong>点击用户数=曝光量 X 点击率。是曝光量不够还是点击率太低， 点击率低需要优化广告创意，曝光量则和投放的渠道有关。通过对销售额的逐层拆解，细化评估以及分析的粒度。 公式拆解法是针对问题的层级式解析，在拆解时，对因素层层分解，层层剥尽。</p>
<h2 id="二、象限法"><a href="#二、象限法" class="headerlink" title="二、象限法"></a>二、象限法</h2><p>网易云、QQ、酷狗、虾米</p>
<p>用户日活 、年龄层、购买会员数、</p>
<p>通过对两种及以上维度的划分，运用坐标的方式表达出想要的价值。由价值直接转变为策略， 从而进行一些落地的推动。象限法是一种策略驱动的思维，常于产品分析、市场分析、客户管 理、商品管理等。</p>
<img src="http://image.woshipm.com/wp-files/2020/05/f13WuZ3bnfjELhDLBra2.jpeg" alt="img" style="zoom:60%;" />



<img src="http://image.woshipm.com/wp-files/2020/05/WQSgegXa4UXdyYTGrrkm.jpeg" alt="img" style="zoom:50%;" />

<p>还有经典的 RFM 模型，把客户按最近一次消费(Recency)、消费频率(Frequency)、消费金额 (Monetary)三个维度分成八个象限。</p>
<p><img src="https://pic4.zhimg.com/80/v2-04470b0165b7dfa8b994c33d6e8f7353_1440w.jpg" alt="img"></p>
<p>象限法的优势:<br><strong>1. 找到问题的共性原因</strong><br>通过象限分析法，将有相同特征的事件进行归因分析，总结其中的共性原因。例如上面广告的 案例中，第一象限的事件可以提炼出有效的推广渠道与推广策略，第三和第四象限可以排除一 些无效的推广渠道;<br><strong>2. 建立分组优化策略</strong><br>针对投放的象限分析法可以针对不同象限建立优化策略，例如 RFM 客户管理模型中按照象限 将客户分为重点发展客户、重点保持客户、一般发展客户、一般保持客户等不同类型。给重点 发展客户倾斜更多的资源，比如 VIP 服务、个性化服务、附加销售等。给潜力客户销售价值更 高的产品，或一些优惠措施来吸引他们回归。</p>
<h2 id="三、二八法-帕累托分析"><a href="#三、二八法-帕累托分析" class="headerlink" title="三、二八法/帕累托分析"></a>三、二八法/帕累托分析</h2><p>二八法也可以叫帕累托法则，源于经典的二八法则。比如在个人财富上可以说世界上 20%的 人掌握着 80%的财富。而在数据分析中，则可以理解为 20%的数据产生了 80%的效果需要围 绕这 20%的数据进行挖掘。往往在使用二八法则的时候和排名有关系，排在前 20%的才算是 有效数据。二八法是抓重点分析，适用于任何行业。找到重点，发现其特征，然后可以思考如 何让其余的 80%向这 20%转化，提高效果。一般地，会用在产品分类上，去测量并构建 ABC 模型。比如某零售企业有 500 个 SKU 以及这 些 SKU 对应的销售额，那么哪些 SKU 是重要的呢，这就是在业务运营中分清主次的问题。常见的做法是将产品 SKU 作为维度，并将对应的销售额作为基础度量指标，将这些销售额指 标从大到小排列，并计算截止当前产品 SKU 的销售额累计合计占总销售额的百分比。百分比在 70%(含)以内，划分为 A 类。 百分比在 70<del>90%(含)以内，划分为 B 类。 百分比在 90</del>100%(含)以内，划分为 C 类。 以上百分比也可以根据自己的实际情况调整。ABC分析模型，不光可以用来划分产品和销售额，还可以划分客户及客户交易额等。比如给企 业贡献 80%利润的客户是哪些，占比多少。假设有 20%，那么在资源有限的情况下，就知道 要重点维护这 20%类客户。</p>
<h2 id="四、漏斗法"><a href="#四、漏斗法" class="headerlink" title="四、漏斗法"></a>四、漏斗法</h2><p>漏斗法即是漏斗图，有点像倒金字塔，是一个流程化的思考方式，常用于像新用户的开发、购物转化率这些有变化和一定流程的分析中。上图是经典的营销漏斗，形象展示了从获取用户到最终转化成购买这整个流程中的一个个子环 节。相邻环节的转化率则就是指用数据指标来量化每一个步骤的表现。所以整个漏斗模型就是 先将整个购买流程拆分成一个个步骤，然后用转化率来衡量每一个步骤的表现，最后通过异常 的数据指标找出有问题的环节，从而解决问题，优化该步骤，最终达到提升整体购买转化率的目的。整体漏斗模型的核心思想其实可以归为分解和量化。比如分析电商的转化，我们要做的就是监 控每个层级上的用户转化，寻找每个层级的可优化点。对于没有按照流程操作的用户，专门绘 制他们的转化模型，缩短路径提升用户体验。还有经典的黑客增长模型，AARRR 模型，指 Acquisition、Activation、Retention、Revenue、 Referral，即用户获取、用户激活、用户留存、用户收益以及用户传播。这是产品运营中比较 常见的一个模型，结合产品本身的特点以及产品的生命周期位置，来关注不同的数据指标，最 终制定不同的运营策略。从下面这幅 AARRR 模型图中，能够比较明显的看出来整个用户的生命周期是呈现逐渐递减趋 势的。通过拆解和量化整个用户生命周期各环节，可以进行数据的横向和纵向对比，从而发现 对应的问题，最终进行不断的优化迭代。</p>
<h2 id="五、逻辑树分析方法"><a href="#五、逻辑树分析方法" class="headerlink" title="五、逻辑树分析方法"></a>五、逻辑树分析方法</h2><h3 id="1-1、逻辑拆解"><a href="#1-1、逻辑拆解" class="headerlink" title="1.1、逻辑拆解"></a>1.1、逻辑拆解</h3><p>将复杂问题拆解成多子个问题进行分析(费米问题)不断地分解问题。逻辑树又称问题树、分解树等。逻辑树是将问题的所有子问题分层罗列，从最高层开始并逐步向下扩展。将复杂问题经过合理的假设拆解成一个一个子问题。</p>
<p><img src="https://pic4.zhimg.com/80/v2-a3a149bf3bb059d21856888d865dc97b_1440w.jpg" alt="img"></p>
<p>例如一个经典的费米问题分析方法：请问一座城市有多少调音师？ 拆解为两个子问题： 总共多少个调音师=所有调音师1年总共工作多长时间➗一个调音师一年工作多长时间</p>
<p><strong>所有调音师1年总共工作多长时间：10万小时</strong></p>
<ul>
<li>(第三层拆解)-如果一座城市居民500万，按拥有钢琴的人最小比例值1%的计算，则全市有5万架钢琴</li>
<li>(第二层拆解)-假设一架钢琴每年需要调音1次，每次调音要2个小时，一年工作365天，</li>
<li>(第一层拆解)-得出所有调音师1年总共工作10万小时=(5万架)X(1年1次)X(2小时)</li>
</ul>
<p><strong>一个调音师1年工作多长时间：2000小时</strong></p>
<ul>
<li>(第二层拆解)-假设1个调音师一周工作5天，每天工作8小时，一年工作50个星期</li>
<li>(第一层拆解)-得出一个调音师一年工作时长2000小时=(8小时)X(5天)X(5星期)</li>
</ul>
<p><img src="https://pic4.zhimg.com/80/v2-eaeb1a5c1b7092ced2d1d8548d1fb30f_1440w.jpg" alt="img"></p>
<h3 id="1-2、有什么用？"><a href="#1-2、有什么用？" class="headerlink" title="1.2、有什么用？"></a>1.2、有什么用？</h3><p>最大的用处就是去解决“费米问题”</p>
<p>什么是费米问题呢？</p>
<p>在<strong>产品经理或者数据分析师</strong>的面试过程中，面试官经常会遇到如下的问题，比如</p>
<ul>
<li><p>上海有多少个红绿灯？</p>
</li>
<li><p>北京有多少特斯拉？</p>
</li>
<li><p>芝加哥有多少钢琴？</p>
</li>
<li><p>北京有多少出租车？</p>
</li>
<li><p>某煎饼摊，一天卖出的煎饼数量是多少？</p>
</li>
<li><p>多少兵乓球可以装满这个屋子？</p>
</li>
<li><p>深圳有多少产品经理？</p>
</li>
<li><p>北京有多少个加油站？</p>
</li>
</ul>
<p>费米问题常用来被考察面试者以下三方面的能力</p>
<ul>
<li><strong>逻辑分析能力：</strong>遇到问题是否有清晰有条理，考察产品感和基础逻辑能力</li>
<li><strong>数据能力：</strong>对数据的关注度，是否重视日常的数据</li>
<li><strong>细节把握的能力：</strong>是否注意分析分析中的细节，结合实际情况去细化</li>
</ul>
<h3 id="1-3、如何去用？"><a href="#1-3、如何去用？" class="headerlink" title="1.3、如何去用？"></a>1.3、如何去用？</h3><p>经典分析问题举例说明：</p>
<p><strong>芝加哥有多少钢琴调音师？</strong></p>
<p>用逻辑数分析方法后可以得出</p>
<p><strong>钢琴调音师的数量=【芝加哥所有的钢琴师1年的总工作时间】÷【钢琴师每年的工作时间】</strong></p>
<p><strong>【前者】:<strong>芝加哥所有的钢琴师1年的总工作时间由下面几个因素决定</strong>——需求侧</strong></p>
<ul>
<li>芝加哥有多少架钢琴：250万人口乘以2%=5万</li>
<li>钢琴每年要调几次音：1年1次</li>
<li>调一次音要多久：2小时</li>
<li>所以一年的总工作时间是 5万×1×2=10万小时</li>
</ul>
<p><strong>【后者】：</strong>钢琴师每年的工作时间由下面几个因素决定<strong>——供给侧</strong></p>
<ul>
<li>5天8小时，50个星期=2000个小时</li>
<li>耗费在奔波的路上要减去-20%=1600小时</li>
</ul>
<p>结果就出来了</p>
<p>芝加哥大概有10万 ÷ 1600=60个</p>
<p>典型的供需关系问题</p>
<h3 id="1-4、费米问题：解题思路与技巧"><a href="#1-4、费米问题：解题思路与技巧" class="headerlink" title="1.4、费米问题：解题思路与技巧"></a>1.4、费米问题：解题思路与技巧</h3><p>如何面对产品经理或者数据分析师面试中开放的问题</p>
<p><strong>常用的思路：</strong></p>
<ul>
<li>已知数据进行切入</li>
<li>通用的三种解答方法进行切入：<strong>供需关系，空间分析、收入分析</strong></li>
</ul>
<p><strong>常用的数据（需要对数据有个基本的了解）：</strong></p>
<ul>
<li>北京1600平方千米，2100万人口</li>
<li>上海6300平方千米，2400万人口</li>
<li>广州7400平方千米，1400万人口</li>
<li>深圳2000平方千米，1200万人口</li>
</ul>
<p><strong>基于以上思路再次举个例子：</strong>请你估算北京有多少个加油站？</p>
<h4 id="解题方法1：从供需关系出发【解决80-的费米问题】"><a href="#解题方法1：从供需关系出发【解决80-的费米问题】" class="headerlink" title="解题方法1：从供需关系出发【解决80%的费米问题】"></a>解题方法1：从供需关系出发【解决80%的费米问题】</h4><ul>
<li><strong>假设：</strong>加油站的供求关系是平衡的，市场供应量与需求侧匹配</li>
<li><strong>参数：</strong>北京有500万机动车、一辆车10天＋一次油，一辆车加油5分钟，大部分车主实际加油时间为早上8点到晚上10点，14个小时，一个加油站默认2个加油桩，加油桩利用率50%</li>
<li><strong>模型分析</strong>：<ul>
<li>北京一天加油能力=北京的车辆一天加油需求次数</li>
<li>供给侧：北京城市一天加油能力=14个小时×50%利用率×2个桩÷5分钟，也就是一个加油桩一天能加168辆车</li>
<li>需求侧：500万车除以10，每天平均有50万辆车，要加油</li>
<li>50万除以168 ，也就是3000个加油站</li>
</ul>
</li>
<li><strong>点评：模型客观，参数值较为确定，参数个数较多</strong></li>
</ul>
<h4 id="解题方法2：从空间关系出发"><a href="#解题方法2：从空间关系出发" class="headerlink" title="解题方法2：从空间关系出发"></a><strong>解题方法2：从空间关系出发</strong></h4><ul>
<li><strong>假设：</strong>一个司机开到北京任何一个地方，快没油了，这个司机都能在很短的地方加到油</li>
<li><strong>参数：</strong>5分钟能加到油，车速50km/h, 北京的面积1600平方千米</li>
<li><strong>模型分析：</strong><ul>
<li>司机加到油的活动范围为：（50km/h乘以5分钟)^2</li>
<li>北京的面积1600平方千米÷司机加油的活动范围=922个</li>
</ul>
</li>
<li><strong>点评：</strong>模型比较好理解；但是参数值非常不确定，参数个数较少</li>
</ul>
<h4 id="解题方法3：从收入分析出发"><a href="#解题方法3：从收入分析出发" class="headerlink" title="解题方法3：从收入分析出发"></a>解题方法3：从收入分析出发</h4><ul>
<li><strong>假设</strong>：加油站的收入能够撑得起他的运营成本</li>
<li><strong>参数：</strong>北京500辆车、一辆车10天加一次油、加一次油200元，毛利润占收入的10%，工资支出占利润的50%，需要5个人支撑起一个加油站的营运，人均工资5000元</li>
<li><strong>模型分析：</strong><ul>
<li>北京某个加油站总支出：工资支出5000×5；</li>
<li>北京的加油站总收入：500万辆车、10一天加一次油。一次油200,，再乘以10%的毛利润，再乘以50%</li>
<li><strong>最终：</strong>北京的加油站总收入(支出)÷北京某个加油站总支出=6000个</li>
</ul>
</li>
</ul>
<p>三种方法估计出来的值大约为1000到6000，可以得出北京市加油站的数量级应该为“千”，取个平均值，大概为3000。</p>
<h3 id="1-5、费米问题案例集"><a href="#1-5、费米问题案例集" class="headerlink" title="1.5、费米问题案例集"></a>1.5、费米问题案例集</h3><p>【1】上海有多少个红绿灯？</p>
<ul>
<li><strong>解题方法：</strong>空间关系，</li>
<li><strong>假设：</strong>为了保证路口的安全，需要控制城市内的车保持中等速度行驶，</li>
<li><strong>参数：</strong>一个路口有4个红绿灯，10分钟以60km/h的速度前进的汽车一定会遇到红绿灯，上海市面积6300平方千米</li>
</ul>
<p>【2】北京有多少特斯拉？</p>
<ul>
<li><strong>模型分析：</strong>北京汽车保有量500万×特斯拉占据市场的份额，另外汽车的占据市场份额可以在路口蹲守，一个小时内经过了100辆车，有5辆是特斯拉，那就默认市场份额5%</li>
</ul>
<p>【3】北京有多少出租车？</p>
<ul>
<li>解题方法：供需角度</li>
<li>假设：假设北京市做出租车的需求量和出租车的数量是相匹配的</li>
<li>参数：<ul>
<li>一天中市场的打车时间需求：北京市人口2100万人口，一天中的打车比例为2%，每次打车的时间在30分钟；</li>
<li>一辆出租车可以提供的时间：24小时中，在途8小时，14小时休息，2小时空载；另外市面上，也就是每天8小时，一个司机可以解决6除以30分钟，也就是12个人的打车需求</li>
</ul>
</li>
<li>2100×2%÷12，就是北京出租车得数量</li>
</ul>
<p>【4】某煎饼摊，一年卖出的煎饼数量是多少？</p>
<ul>
<li>解题方法：从供需角度来解决</li>
<li>假设：能卖出的煎饼与能做出的煎饼供需关系一致</li>
<li>参数：<ul>
<li>煎饼大妈一天的工作时间：早上2小时、中午1小时、晚上2小时，总共5小时。</li>
<li>煎饼大妈做一个煎饼的时间：5分钟</li>
</ul>
</li>
<li>360天×（5小时÷5分钟）=？</li>
</ul>
<p>【5】多少兵乓球可以装满这个屋子？</p>
<ul>
<li>解题方法：从空间关系出发</li>
<li>假设：乒乓球立体的、塞满整个屋子</li>
<li>参数：利用乒乓球的直径计算他的正方体面积0.025平方米，整个屋子的面积100平方米</li>
<li>模型分析：相除即可</li>
</ul>
<p>【6】深圳有多少产品经理</p>
<ul>
<li>解题方法：从供需关系</li>
<li>假设：深圳市所有互联网公司都有产品经理</li>
<li>参数：深圳市互联网公司总数5000家，每一家公司的人员数量各不相同，但是加起来从业人数50万人，每一家公司的人员配比为（1：1：1：1：4：1）—销售：产品：交互：视觉：研发：人力等；</li>
<li>模型分析：50万*（1/9）=11万</li>
</ul>
<h2 id="六、多维度拆解分析方法"><a href="#六、多维度拆解分析方法" class="headerlink" title="六、多维度拆解分析方法"></a>六、多维度拆解分析方法</h2><p>顾名思义从多个维度拆解分析数据(维度、拆解)。在数据分析中，通过不同的维度去观察同一组数据，从而观察数据变化后的原因。大部分数据变化可以从**”数据指标”<strong>和</strong>“业务流程”<strong>两个方向进行拆解分析。</strong>“数据指标”维度：<strong>指的是数据指标构成因素的分析，比如用户指标(包含新增用户，留存用户等)</strong>“业务流程”维度：**指的是在实际业务流程中的因素分析，比如渠道分析(不同渠道的推广效果，不同渠道的付费率等)。其他：”时间维度“，“地区维度”等。</p>
<h2 id="七、5W2H-方法论"><a href="#七、5W2H-方法论" class="headerlink" title="七、5W2H 方法论"></a>七、5W2H 方法论</h2><p><strong>5W2H分析法。</strong>在碰到一个问题的时候，都可以从7个方面思考：why、what、who、when、where、how、how much。<strong>对于题主的问题来说顺序其实没有特别严格的规定哦~！</strong></p>
<p><strong>具体的内容包括：</strong></p>
<p>· WHY——为什么？为什么要这么做？理由何在？原因是什么？</p>
<p>· WHAT——是什么？目的是什么？做什么工作？</p>
<p>· WHO——谁？由谁来承担？谁来完成？谁负责？相关方是谁？</p>
<p>· WHEN——何时？什么时间完成？什么时机最适宜？</p>
<p>· WHERE——何处？在哪里做？从哪里入手？</p>
<p>· HOW——怎么做？如何提高效率？如何实施？方法怎样？</p>
<p>· HOW MUCH——多少？做到什么程度？数量如何？质量水平如何？费用产出如何？</p>
<p>你在脑子空白，不知道如何回答的时候，可以套用5W2H框架，把问题进行细化，快速明确问题，让自己的思路条理化。</p>
<p><strong>以面试的角度来谈论如何在实战中用好5W2H分析法</strong></p>
<blockquote>
<p>「你们现在准备一个电动汽车上市的推广策划，预算是20w，一个月的时间准备，你会怎样规划？（奔驰面试题）」</p>
</blockquote>
<p><strong>首先，我们发现题目给出的信息非常少，我们可以和面试官沟通。</strong>（如果是群面，就可以和同组的小伙伴们沟通）</p>
<p>“这个电动汽车的定价是多少？”</p>
<p>“电动汽车的产品定位是什么？有什么产品特色？技术上？外观上？”</p>
<p>“电动汽车的目标用户画像是怎样的？”</p>
<p>“有多少台电动汽车可以在推广期使用？”</p>
<p>……</p>
<p>通过和面试官的沟通，假定获取以下信息：</p>
<p>这款电动汽车定价20w左右，在技术上突破了传统电动汽车续航里程短、充电慢的缺点，性能上对齐传统汽车，但是比传统汽车更节能经济。适合工作了3-5年的1、2线白领人群，男性居多，大概有3台车可以在推广时使用。</p>
<p><strong>然后，我们先按照5W2H的框架来分析一遍。</strong>我们的回答可以是：</p>
<ul>
<li><strong>Why - 策划目的</strong> </li>
</ul>
<p>这个策划是要拓展年轻群体对电动汽车的认知，培养一批种子用户。预期传播覆盖人群200w+。</p>
<ul>
<li><strong>What - 主题内容</strong></li>
</ul>
<p>策划的主题是“电动，从此环保奔驰”，强化大家对电动、环保和性能的感知。</p>
<ul>
<li><strong>When - 活动时间</strong></li>
</ul>
<p>配合上市时间，推广时间在上市前2周，为上市做好预热。</p>
<ul>
<li><strong>Where - 渠道</strong></li>
</ul>
<p>预期目标分解，线上线下联动：</p>
<ol>
<li><p>提前制作宣传视频，选择汽车KOL的新媒体、虎扑等直男社区投放。（传播目标100w+）</p>
</li>
<li><p>与商场合作，开设试驾点。事先在网上开放报名，邀请网友在现场体验驾驶，记录并制作VLOG视频。（现场活动，参与人员有限）</p>
</li>
<li><p>后期Vlog传播，保持话题热度。（传播目标100w+）</p>
</li>
</ol>
<ul>
<li><strong>Who - 相关人员</strong></li>
</ul>
<p>内部：根据内部人员情况，做好工作分配安排</p>
<p>合作方：提前联系并确认好供应商、合作媒体、宣传资源</p>
<ul>
<li><strong>How - 怎么做</strong></li>
</ul>
<p>前期准备一个月的时间，整个推广策划大概需要7天时间，宣传视频策划制作、前期活动准备同步进行，大致需要20天时间，留下3天做推广上线前的调整时间。</p>
<p>全程实施检测效果，包括线上的播放量、转赞评等数据，线下的活动口碑等，活动结束后完成活动总结报告，对推广的效果做出总结。 </p>
<p>可做好项目安排表，合理规划项目进度。</p>
<ul>
<li><strong>How much - 成本</strong></li>
</ul>
<p>总预算20w。</p>
<p>宣传视频拍摄预算5w、kol新媒体投放预算7w、商场试驾预算7w，多出1w作为备用资金，应对一些突发情况。</p>
<h2 id="八、PEST分析方法论：行业分析"><a href="#八、PEST分析方法论：行业分析" class="headerlink" title="八、PEST分析方法论：行业分析"></a>八、PEST分析方法论：行业分析</h2><p>政策（Policy）、经济（Economy）、社会（Society）、技术（Technology）</p>
<p><img src="https://pic2.zhimg.com/80/v2-0cc0c02499b50f681d0be70e7ce03d1d_1440w.jpg" alt="img"></p>
<h2 id="九、AARRR-用户行为分析方法论"><a href="#九、AARRR-用户行为分析方法论" class="headerlink" title="九、AARRR 用户行为分析方法论"></a>九、AARRR 用户行为分析方法论</h2><p>AARRR模型对应产品运营的 5 个重要环节，分别是：</p>
<p><strong>第一环节是获取用户（Acquisition ）：用户如何找到我们？</strong></p>
<p><strong>1.语言——市场匹配</strong>，怎么说才能打动用户的心</p>
<p>实际上考验的是抓住用户注意力的能力。现在人们关注一条网络信息的时间通常是8秒，如果不能在8秒内告诉用户你的产品对他有什么用，你就失去了一次获客的机会。</p>
<p><strong>2.渠道——产品匹配，</strong>产品投放在什么渠道才能直达用户的视线范围</p>
<p>渠道可以分为三类，一种是口碑渠道，适合病毒营销；一种是有机渠道，适合搜索引擎优化（SEO）、内容营销，比如搜索引擎优化可以提高自己网站在搜索引擎搜索结果页面的排名；还有一种是付费渠道，有哪些付费渠道呢？</p>
<p>1）展示位广告</p>
<ul>
<li>在网站或手机 App 的顶部、App 的开屏广告位等。</li>
<li>按展示次数付费（CPM，Cost Per Mille），也就是有多少人看到了该广告。</li>
</ul>
<p>2）搜索广告</p>
<ul>
<li>广告主为某一个搜索关键词出价，用户看到的搜索结果是按广告主出价的高低来排名的。</li>
<li>按点击次数付费（CPC，Cost Per Click），也就是有多少人点击了该广告。</li>
</ul>
<p>3）信息流广告</p>
<ul>
<li><p>根据用户的兴趣爱好来推荐广告。</p>
</li>
<li><p>按点击次数付费（CPC）或者按投放的实际效果付费（CPA，Cost Per Action）。</p>
</li>
<li><p>按投放的实际效果付费（CPA，Cost Per Action）包括：</p>
</li>
<li><ul>
<li>CPD（Cost Per Download）：按 App 的下载数计费</li>
<li>CPI（Cost Per Install）：按激活 App 的数量计费</li>
<li>CPS（Cost Per Sales）：按完成购买的用户数或者销售额来计费</li>
</ul>
</li>
</ul>
<p>在将产品投放去哪个渠道的时候，要清楚你的目标用户是谁，目标用户在哪。目前主流广告平台都支持这三种方式的付费：按展示次数付费（CPM）、按点击次数付费（CPC）和按投放的实际效果付费（CPA）。广告主可以按自己的产品需求来灵活选择。</p>
<p><strong>【需要关注的指标】</strong></p>
<ul>
<li>渠道曝光量：有多少人看到产品推广的线索</li>
<li>渠道转换率：有多少用户因为曝光转换成用户</li>
<li>日新增用户数：每天新增用户是多少</li>
<li>日应用下载量：每天有多少用户下载了产品</li>
<li>获客成本（CAC）：获取一个客户所花费的成本</li>
</ul>
<p><strong>第二环节是激活用户（Activation）：用户的首次体验如何？</strong></p>
<p>想唤醒休眠用户，就得先摸清楚产品的“啊哈时刻”（Aha moment，让用户感受到产品亮点情不自禁地发出赞叹的时刻，它对应的就是打动用户的产品亮点）。</p>
<p>要想激活用户，得绘制一幅通往“啊哈时刻”的路线图。比如你负责的产品是个购物软件，在新用户体验到啊哈时刻之前，必须要完成下面这些步骤：下载app，找到所需商品，放入购物车，创建账户，输入姓名，加入信用卡和配送信息，然后点击购买。</p>
<p>在这一系列动作中，到底用户停留在了哪一步？是搜不到要的东西，还是创建账户太麻烦，或者是页面设置不合理？你要计算每个节点用户的流失率，来相应地提高产品性能，改善用户体验。</p>
<p><strong>【需要关注的指标】</strong></p>
<ul>
<li><p>日活跃用户数（日活）：一天之内，登录或使用了某个产品的用户数。比如一天内打开我微信公众号的人数。类似的还有周活跃用户数，月活跃用户数。</p>
</li>
<li><p>活跃率（活跃用户占比）：某一时间段内活跃用户在总用户量的占比。根据时间可分为日活跃率（DAU）、周活跃率（WAU）、月活跃率（MAU）等。</p>
</li>
<li><p>产品使用每个节点用户的流失率。用户流失率和留存率恰好相反。如果某产品新用户的次日留存为20%，那么反过来说明有80%的用户流失了。</p>
</li>
<li><p>如果是网页端的产品，还有两个指标来衡量网页端活跃：</p>
</li>
<li><ul>
<li>PV（Page View，页面浏览量）：用户每打开一个网页可以看作一个PV，用户看了十个网页，则PV为10。</li>
<li>UV（Unique Visitor，独立访客数）：一定时间内访问网页的人数。</li>
</ul>
</li>
</ul>
<p><strong>第三个环节是提高留存（Retention）：用户会回来吗？</strong></p>
<p>在第二个环节用户终于被激活唤醒了，这时候你的任务就变成了如何让用户变成回头客。留存的核心目标是让用户养成使用习惯。在这个阶段，你要明白习惯是如何形成的。</p>
<p><strong>【需要关注的指标】</strong></p>
<ul>
<li>次日留存率：（当天新增的用户中，在第2天使用过产品的用户数）/第一天新增总用户数</li>
<li>第3日留存率：（第一天新增用户中，在第3天使用过产品的用户数）/第一天新增总用户数</li>
<li>第7日留存率：（第一天新增的用户中，在第7天使用过产品的用户数）/第一天新增总用户数</li>
<li>第30日留存率：（第一天新增的用户中，在第30天使用过产品的用户数）/第一天新增总用户数</li>
</ul>
<p>Facebook有一个著名的40-20-10法则，即新用户次日留存率为40%，7日留存率为20%，30日留存率为10%，有这个表现的产品属于数据比较好的。</p>
<p><strong>第四个环节是增加收入（Revenue ）：如何赚到更多钱？</strong></p>
<p>完成了上面所有的步骤，终于来到最有挑战性的一关，那就是如何从用户身上获得真正的收益。比如让用户续订、创造更多的广告位等等。</p>
<p>虽然商业模式不同，变现的方式不同，但是有一个概念需要重视，那就是夹点（pinch point），它指的是损失潜在收益的地方。</p>
<p>对于电商企业来说，用户从挑选商品到完成购买之间是一个危险区，很多人中途会放弃购买。要评估这些常见夹点，分析用户在这些点放弃的原因。</p>
<p><strong>【需要关注的指标】</strong></p>
<p>这里我们要注意“<strong>用户</strong>”和“<strong>付费用户</strong>”的区分，这也将影响收入的计算。（下面提到的“用户”，如果没有特别说明是“付费用户”，那么就是值全部用户（包括付费用户和非付费用户））</p>
<ul>
<li>客单价：每位用户平均购买商品的金额。客单价=销售总额/顾客总数</li>
<li>PUR(Pay User Rate)：付费用户占比</li>
<li>ARPPU(Average Revenue Per Paying User)：某段时间内，付费用户的平均收入（不包括未付费的用户）。ARPPU=总收入/付费用户数</li>
<li>生命周期价值(LTV，Lift Time Value)：，即平均一个用户在首次登录游戏到最后一次登录游戏内，为该游戏创造的收入总计。常用于游戏行业。</li>
<li>复购率：一定时间内，消费两次以上的用户数 / 总购买用户数。比如有10个用户购买了产品，5个用户产生了重复购买，则重复购买率=5个重复购买用户数 / 10（总购买用户数=50%</li>
<li>销售额=用户数<em>转化率</em>客单价*购买频率（指消费者或用户在一定时期内购买某种或某类商品的次数。）</li>
</ul>
<p><strong>第五个环节推荐（Refer病毒式营销）： 用户会告诉其他人吗？</strong></p>
<p>引爆一种流行病不只有一种途径，流行病爆发需要三个条件：</p>
<p><strong>1）传染物本身</strong></p>
<p>传染物本身是说要对自己的产品有足够的了解。试着问自己一个问题：我的产品是否真正解决了用户的痛点？</p>
<p>如果你是写文章的，就要考虑你的文章能为用户带来哪些真正的价值。如果你是做餐饮的，你的菜品是否真的为用户所喜欢。</p>
<p><strong>2）传染物发挥作用所需的环境</strong></p>
<p>也就是你的用户在哪里？对应我们前面讲的AARRR模型第一关环节（获取用户）。要去思考使用你产品的刚需用户经常在哪些环境（社区，大学等等渠道）中出现。</p>
<p><strong>3）人们传播传染物的行为</strong></p>
<p>在对自己的产品有了深刻洞察，同时找到你的目标人群后，还要考虑到人们会因为什么目的去分享你的产品，让更多的人看到你的产品。这个条件对应的就是AARRR模型第五个环节（推荐，病毒式营销）。</p>
<p><strong>【需要关注的指标】</strong></p>
<ul>
<li><strong>转发率</strong>：某功能中，转发用户数 / 看到该功能的用户数。比如我的微信公众号（猴子聊人物）推送一篇文章给3万用户，转发这篇文章的用户数是3000，那么转发率=3000（转发这篇文章的用户数） / 3万（看到这篇文章的用户数）=10 %</li>
<li><strong>转化率</strong>：计算方法与具体业务场景有关。<ul>
<li>比如淘宝转化率=某段时间内产生购买行为的客户人数 / 所有到达店铺的访客人数，假如双11当天，有100个用户看到了你店铺的推广信息，被吸引进入店铺，最后有10个人购买了店铺里的东西，那么转化率=10（产生购买行为的客户人数） /100（ 所有到达店铺的访客人数）=10%</li>
<li>广告转化率=点击广告进入推广网站的人数 / 看到广告的人数，比如我们经常使用百度，搜索结果里会有广告，如果有100个人看到了广告，其中有10个人点击广告进入推广网站，那么转化率=10（点击广告进入推广网站的人数） / 100（看到广告的人数）=10%</li>
</ul>
</li>
<li><strong>K因子</strong>(K-factor)：用来衡量推荐的效果，即一个发起推荐的用户可以带来多少新用户。</li>
<li><ul>
<li>K 因子= (每个用户向他的朋友们发出的邀请的数量) * (接收到邀请的人转化为新用户的转化率)。</li>
<li>假设平均每个用户会向20个朋友发出邀请，而平均的转化率为10%的话，K =20*10%=2。这个结果还算是不错的效果。</li>
<li>当K›1时，用户群就会象滚雪球一样增大。如果K‹1的话，那么用户群到某个规模时就会停止通过自传播增长。</li>
</ul>
</li>
</ul>
<h2 id="十、杜邦分析法-财务管理方法论"><a href="#十、杜邦分析法-财务管理方法论" class="headerlink" title="十、杜邦分析法 - 财务管理方法论"></a>十、杜邦分析法 - 财务管理方法论</h2><p>将各种财务指标综合在一起来评价公司财务管理效果。即计算“用公司自己的钱赚取的利润率”/净资产收益率，拆解成三个指标相乘：</p>
<p>净资产收益率=销售净利率 X 总资产周转率 X 权益乘数</p>
<p>1）公司业务是否赚钱？</p>
<p>销售净利润=净利润/销售额，衡量公司业务是否赚钱。</p>
<p>2）公司资产运营效率如何？</p>
<p>总资产周转率=销售额/总资产，衡量公司资产运营效率如何。</p>
<p>3）公司债务负担有没有风险？</p>
<p>权益乘数=总资产/净资产，也叫做杠杆率，衡量公司负债经营的情况。</p>
<p><img src="https://pic4.zhimg.com/80/v2-d2a618a11092235b01744bf730153743_1440w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-fc6d7cf653395240667969627e77f0d7_1440w.jpg" alt="img"></p>
<h2 id="十一、基于用户生命周期的分析体系（用户画像）"><a href="#十一、基于用户生命周期的分析体系（用户画像）" class="headerlink" title="十一、基于用户生命周期的分析体系（用户画像）"></a>十一<strong>、基于用户生命周期的分析体系</strong>（用户画像）</h2><p>用户生命周期衍生于“客户生命周期”的概念。</p>
<p>用户从不同角度有不同的分类法：</p>
<p>比如从用户活跃度来看，可以分为僵尸用户、低频用户、活跃用户和深度用户</p>
<p>从用户对平台的价值来看，可能分法就变成了种子用户、普通用户、核心用户。</p>
<p>从用户价值来看，分为无效用户、潜在用户、跟进用户、成单用户。</p>
<p>不同的行业有不同的分类，不同的分类也有不同的运营策略。而从用户生命周期的角度来解析和管理用户，是常见的数据分析方式之一。</p>
<p>举例从用户活跃度来看，可能就要构建一个用户活跃度模型：</p>
<ul>
<li>流失用户：有一段时间没有再打开产品(曾经打开过产品），那么我们就视为流失用户，根据产品的属性，可以按30天，60天，90天等划分。</li>
<li>不活跃用户：有一段时间没有打开产品，为了和流失区分开来，需要选择无交集的时间范围。比如流失用户是60天以上没打开产品，那么不活跃则是0～60天没打开。</li>
<li>回流用户：有一段时间没用产品，之后突然回来再次使用，则称为回流用户。回流用户是活跃用户，且是由流失用户或不活跃用户唤回而来。</li>
<li>活跃用户：一段时间内打开过产品。</li>
<li>忠诚用户：也可以叫超级活跃用户，长期持续使用产品，比如连续四周，或者一个月内15天等</li>
</ul>
<p>用户活跃可以简化为一个最简单的公式：新增用户的数量要大于流失用户的增加量。不同业务情况需要各自衡量，怎么去构建这个模型。</p>
<p><img src="https://pic4.zhimg.com/80/v2-b827ff123130d09e3af9d5c6dac4e49b_1440w.jpg" alt="img"></p>
<h2 id="十二、SWOT"><a href="#十二、SWOT" class="headerlink" title="十二、SWOT"></a>十二、SWOT</h2><p><strong>如果外部的机会正好是你的优势，赶紧利用起来。</strong></p>
<p>而这个利用方法，就被称为“机会优势战略”（OS）</p>
<p><strong>外部的机会但是是你的劣势，你就需要改进。</strong></p>
<p>那么这个改进方法，就被称为“机会劣势战略”（OW）</p>
<p><strong>你具有优势但是外部存在威胁，那就需要时刻盯梢、保持警惕。</strong></p>
<p>而如何监视、监视哪些？就被称为“优势威胁战略”（ST）</p>
<p><strong>既是威胁又是你的劣势，请及时逃离并消除。</strong></p>
<p>这个消除方法，就是“威胁劣势战略”（TW）</p>
<hr>
<p>举两个简单的分析例子。</p>
<p><strong>个人求职案例</strong></p>
<p>近几年大数据/数据分析很火（O），毕业于统计学专业（S）的你可以<strong>利用自己的特长，走向风口行业，做一名数据分析师</strong>（OS）。但你发现，成为一名数据分析时并不容易，还需要懂得R语言、SQL等数据库知识，而你没有学过（W），于是你<strong>报了学习班，努力掌握数据分析技能（OW）</strong>。到了投递简历、面试的时候，你发现竞争非常激烈（T），你仔细反思了一下自己的现状：对统计学的深刻认识、精通是特长，但数据分析应用经验有些薄弱。于是，<strong>在几轮面试中，不断观察面试官反馈及时调整（ST）、扬长避短（TW）</strong>，成功收到自己满意的offer。</p>
<p>转化成SWOT分析模型，这个人的求职竞争力分析：</p>
<p><img src="https://pic4.zhimg.com/80/v2-4236165f3b5f21c4c28e566ab9add6d6_1440w.jpg?source=1940ef5c" alt="img"></p>
<p><strong>企业转型案例</strong></p>
<p>一家传统的制造业企业，面对<strong>近些年来互联网的不断冲击，眼见着竞争对手一个个都进行了信息化数字化转型，收效良好（T）</strong>，而自己虽然拥有行业领先的技术（S），和因为过硬的技术而紧密结合的一批客户、供应商，但由于过于传统的管理运作方式，效率渐渐跟不上上下游的需求（W），在进出货上有些力不从心。于是，企业决定<strong>继续开发技术优势，加深上下游的合作（OS）</strong>，同时要改进现阶段的管理模式，<strong>打探同行的信息化策略（ST）</strong>、<strong>学习他们的转型经验（WT）</strong>，自己尝试<strong>摸索适合自己的信息化模式，从而提速降本，满足上下游需求（OW）</strong>。</p>
<p>转化为SWOT分析模型图，为：</p>
<p><img src="https://pic2.zhimg.com/50/v2-94468148d36fea8ce7679f9c89315898_hd.jpg?source=1940ef5c" alt="img"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yolukami.com/2021/09/13/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E8%AE%BA/" data-id="ckv6kay0b000htcon5fwn08mi" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/09/11/hello-world/" class="article-date">
  <time datetime="2021-09-11T01:45:01.172Z" itemprop="datePublished">2021-09-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/09/11/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yolukami.com/2021/09/11/hello-world/" data-id="ckv6kaxzv0000tcon04sn9h5w" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-markdown语法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/13/markdown%E8%AF%AD%E6%B3%95/" class="article-date">
  <time datetime="2021-07-12T16:00:00.000Z" itemprop="datePublished">2021-07-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/markdown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">markdown基本语法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/07/13/markdown%E8%AF%AD%E6%B3%95/">markdown使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>猜数字游戏：（代码块）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line">number = random.ranint(0,100);</span><br><span class="line">while Ture:</span><br><span class="line">​	value = int(input(&#x27;请输入数据（0-100）&#x27;))</span><br><span class="line">​	if value == number;</span><br><span class="line">​		print(&#x27;恭喜你！猜对了&#x27;)</span><br><span class="line">​		break</span><br></pre></td></tr></table></figure>

<p>import random</p>
<p>number = random.ranint(0,100);</p>
<p>while Ture:</p>
<p>​    value = int(input(‘请输入数据（0-100）’))</p>
<p>​    if value == number;</p>
<p>​    print(‘恭喜你！猜对了’)</p>
<p>​    break</p>
<h1 id="1-两种模式的切换："><a href="#1-两种模式的切换：" class="headerlink" title="1.两种模式的切换："></a>1.两种模式的切换：</h1><p>typroa有两种模式：预览（默认模式）和编辑模式，可以通过快捷键ctr+/对模式进行切换</p>
<h1 id="2-markdown语法"><a href="#2-markdown语法" class="headerlink" title="2.markdown语法"></a>2.markdown语法</h1><p>1）标题效果：在标题文字前加1-6个’#‘号（’#‘号后面有空格，’#‘号相互之间无空格七个’#’号无效）</p>
<h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><p>2）代码引用(三个反引号＋语言名称，如···python)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello World!&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;hello world!&#x27;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>一段文字</p>
<p>二段文字</p>
</blockquote>
<p>连续按两次回车，可以取消上面继承的格式（’&gt;’+space+文字）</p>
<blockquote>
<p>千峰学科</p>
<blockquote>
<p>python</p>
<blockquote>
<p>数据分析</p>
<p>人工智能</p>
</blockquote>
<p>java</p>
<blockquote>
<p>Web后端</p>
</blockquote>
<p>H5</p>
<blockquote>
<p>网页</p>
<p>微信小程序</p>
</blockquote>
<p>UI </p>
</blockquote>
</blockquote>
<p>3）导入图片</p>
<p><code>![](本地图片路径/网络图片路径)</code></p>
<p><img src=""></p>
<p>4）添加超链接</p>
<p><a href=""></a></p>
<p><code>(可见可点击的文字)[跳转的网络地址]</code></p>
<p>不懂问<a target="_blank" rel="noopener" href="https://www.baidu.com/">百度</a></p>
<p>5）有序列表（1.＋space）</p>
<ol>
<li>python<ol>
<li>（Tab键）</li>
<li>数据分析</li>
</ol>
</li>
<li>java</li>
<li>H5</li>
<li>Ui</li>
</ol>
<p>按回车可以撤销继承的语法，按Tab可以增级</p>
<p>6）无序列表（+/-space+文本内容）</p>
<ul>
<li>Python<ul>
<li>数据分析</li>
<li>爬虫</li>
</ul>
</li>
<li>java</li>
</ul>
<ul>
<li>H5</li>
</ul>
<p>7）多选框（<code>-+space+[x]+space+文本内容</code>）</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> 是</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yolukami.com/2021/07/13/markdown%E8%AF%AD%E6%B3%95/" data-id="ckv6kay000001tcon2r1q726y" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/">MySQL数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/">Python基础学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/">Python算法入门</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/markdown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">markdown基本语法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/10/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/">mysql数据库基础</a>
          </li>
        
          <li>
            <a href="/2021/10/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/">关系型数据库MySQL</a>
          </li>
        
          <li>
            <a href="/2021/09/13/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/">数据分析流程</a>
          </li>
        
          <li>
            <a href="/2021/09/13/python%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/">基础排序算法</a>
          </li>
        
          <li>
            <a href="/2021/09/13/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/">Python基础学习（一）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Yolukami<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>